(this.webpackJsonpsultrade=this.webpackJsonpsultrade||[]).push([[0],{167:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s}));var o=a(52),n=function(e){return{type:o.o,payload:e}},r=function(e){return{type:o.n,payload:e}},s=function(){return{type:o.p}}},19:function(e,t,a){"use strict";a.d(t,"v",(function(){return o})),a.d(t,"x",(function(){return n})),a.d(t,"w",(function(){return r})),a.d(t,"s",(function(){return s})),a.d(t,"r",(function(){return c})),a.d(t,"t",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"k",(function(){return d})),a.d(t,"f",(function(){return v})),a.d(t,"g",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"o",(function(){return g})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return N})),a.d(t,"l",(function(){return C})),a.d(t,"m",(function(){return w})),a.d(t,"p",(function(){return O})),a.d(t,"y",(function(){return S})),a.d(t,"A",(function(){return k})),a.d(t,"z",(function(){return y})),a.d(t,"B",(function(){return j})),a.d(t,"u",(function(){return F})),a.d(t,"q",(function(){return A}));var o="Navios",n="Voc\xea precisa estar logado para acessar este conte\xfado!",r="SulTrade",s="http://132.255.147.28:8080/documents",c="http://132.255.147.28:8080/sultrade/api/employee/",l="http://132.255.147.28:8080/documents/invoices",i="https://api-ip.bb.com.br/pagamentos-lote/v1",u="/lotes-gps",m="/lotes-gps/",p="/pagamentos-gru",d="/lotes-gru/",v="/lotes-darf-normal-preto",f="/lotes-darf-preto-normal/",h="/lotes-transferencias",g="/beneficiarios/",b="/lotes-boletos",E="/lotes-boletos/",x="/lotes-guias-codigo-barras",N="/lotes-guias-codigo-barras/",C="/lotes-transferencias-pix",w="/lotes-transferencias-pix",O="/liberar-pagamentos",S="https://riogrande.sigiss.com.br/riogrande/ws/sigiss_ws.php?wsdl",k="http://tempuri.org/GerarNota",y="https://riogrande.sigiss.com.br/riogrande/ws/sigiss_ws.php?wsdl",j="http://tempuri.org/CancelarNota",F=371,A=2096},21:function(e,t,a){"use strict";var o=a(27),n=a(3),r=a(1),s=a.n(r),c=a(2),l=a(14),i=a(15),u=a(18),m=a(17),p=(a(39),a(0)),d=a.n(p),v=a(19),f=a(50),h=a(12),g=a(167),b=a(22),E=a(8),x=a(422),N=a.n(x),C=a(498),w=a.n(C),O=a(6),S=a(5),k=a(28),y=a(11),j=a.n(y),F=(a(615),a(7)),A=(a(4),a(74)),T=(a(617),p.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={token:"",nome:"",redirect:!1,menu:!1,usuarioLogado:e.props.user,acessos:[],permissoes:[],acessosPermissoes:[],tarifasVencidas:[],anexosNaoValidados:[],alert:{msg:"",type:""}},e.fazerLogout=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onLogout();case 2:return Object(k.confirmAlert)({customUI:function(e){var t=e.onClose;return d.a.createElement("div",{className:"custom-ui text-center"},d.a.createElement("h1",null,v.w),d.a.createElement("p",null,"Logout realizado!"),d.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))},"Ok"))}}),t.next=5,e.setState({redirect:!0});case 5:case"end":return t.stop()}}),t)}))),e.expirarSessao=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onLogout();case 2:return Object(k.confirmAlert)({customUI:function(e){var t=e.onClose;return d.a.createElement("div",{className:"custom-ui text-center"},d.a.createElement("h1",null,v.w),d.a.createElement("p",null,"Tempo de sess\xe3o expirado!"),d.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))},"Ok"))}}),t.next=5,e.setState({redirect:!0});case 5:case"end":return t.stop()}}),t)}))),e.sendEmails=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({alert:{msg:"",type:""}}),t.next=3,F.a.tarifasVencidasEmails(e.state.tarifasVencidas.filter((function(e){return e.value})));case 3:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(c.a)(s.a.mark((function t(){var a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.carregaTiposAcessos();case 2:return t.next=4,e.carregaPermissoes();case 4:return t.next=6,e.testaAcesso();case 6:if(e.props.user.codigo||e.props.login){t.next=11;break}return t.next=9,e.setState({redirect:!0});case 9:t.next=30;break;case 11:if(!e.props.user.codigo){t.next=30;break}if(!e.props.user.justLogged){t.next=20;break}if(a=!1,e.state.acessosPermissoes.map((function(e){"ANEXOS"==e.acessoAcao&&0!=e.permissaoEdita&&(a=!0)})),!a){t.next=20;break}return t.next=18,F.a.testaTarifasVencimentos();case 18:(o=t.sent)[0]&&(e.setState({tarifasVencidas:o.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{value:!1})}))}),e.setState({alert:{type:"confirm",msg:"H\xe1 tarifas vencidas. Deseja enviar emails autom\xe1ticamente?",checkboxes:o.map((function(e){return{chave:e.chave,value:e.value,label:"".concat(e.fornecedorNome," - ").concat(e.servico)}})),changeCheckbox:function(t){return e.changeCheckbox(t)}}}));case 20:if(!e.props.sair){t.next=23;break}return t.next=23,e.getAnexos();case 23:if(!e.props.user.expiry||!j()().isSameOrBefore(e.props.user.expiry)){t.next=28;break}return t.next=26,e.props.extendExpiration(Object(n.a)({},e.props.user));case 26:t.next=30;break;case 28:return t.next=30,e.expirarSessao();case 30:case"end":return t.stop()}}),t)}))),e.getAnexos=Object(c.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.next=3,E.a.post("getAnexosNaoValidados.php",{token:!0}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(o.a)(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 3:return t.next=5,E.a.post("getEventosNaoContabilizados.php",{token:!0}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.map((function(e){a.unshift({fornecedor:e.fornecedor,evento:e.chave,eventoChave:e.chave,anexo:"",validado:2,validadoPor:-1,data:e.data})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 5:e.setState({anexosNaoValidados:a});case 6:case"end":return t.stop()}}),t)}))),e.changeCheckbox=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),e.setState({tarifasVencidas:e.state.tarifasVencidas.map((function(e){return e.chave==a?Object(n.a)(Object(n.a)({},e),{},{value:!e.value}):Object(n.a)({},e)}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.carregaTiposAcessos=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(c.a)(s.a.mark((function t(){var a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissoes:a?a.Liberacao.split("")[2]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"headermobile"},this.state.redirect&&d.a.createElement(f.a,{to:"/"}),d.a.createElement("div",{className:"header"},d.a.createElement(A.a,{alert:this.state.alert,setAlert:function(t){return e.setState({alert:t})},alertFunction:function(){return e.sendEmails()}}),d.a.createElement("div",{className:"headerSimbolos"},d.a.createElement("div",{className:"setaAcima"},this.props.voltar&&d.a.createElement(h.b,{to:{pathname:"/inicio"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarTabelas&&d.a.createElement(h.b,{to:{pathname:"/tabelas"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarUtilitarios&&d.a.createElement(h.b,{to:{pathname:"/utilitarios"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarMovimentacao&&d.a.createElement(h.b,{to:{pathname:"/ordensservico"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarFinanceiro&&d.a.createElement(h.b,{to:{pathname:"/financeiro"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarFinanceiroTabelas&&d.a.createElement(h.b,{to:{pathname:"/financeiro"}},d.a.createElement(O.a,{className:"seta",cursor:"pointer",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarShips&&d.a.createElement(h.b,{to:{pathname:"/tabelas/navios",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarTiposServicos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/tiposservicos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarSubgrupos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/subgrupos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarGrupos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/grupos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarMoedas&&d.a.createElement(h.b,{to:{pathname:"/tabelas/moedas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPessoas&&d.a.createElement(h.b,{to:{pathname:"/tabelas/pessoas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPessoaContatos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/pessoacontatos/".concat(this.props.pessoa.Chave),state:{pessoa:this.props.pessoa,chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPessoaEnderecos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/pessoaenderecos/".concat(this.props.pessoa.Chave),state:{pessoa:this.props.pessoa,chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarAddPessoa&&d.a.createElement(h.b,{to:{pathname:"/tabelas/addpessoa/".concat(this.props.pessoa)}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPortos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/portos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarTaxas&&d.a.createElement(h.b,{to:{pathname:"/tabelas/taxas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarHistoricosPadrao&&d.a.createElement(h.b,{to:{pathname:"/tabelas/historicospadrao",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarDescricoesPadrao&&d.a.createElement(h.b,{to:{pathname:"/tabelas/descricoespadrao",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarTiposDocumentos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/tiposdocumentos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarCategoriasDocumentos&&d.a.createElement(h.b,{to:{pathname:"/tableas/categoriasdocumentos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarTarifas&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/tarifas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarAnexos&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/anexos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarOperadores&&d.a.createElement(h.b,{to:{pathname:"/utilitarios/operadores",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarEventosTemplates&&d.a.createElement(h.b,{to:{pathname:"/utilitarios/eventostemplates",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarGruposTemplates&&d.a.createElement(h.b,{to:{pathname:"/utilitarios/grupostemplates",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPermissoes&&d.a.createElement(h.b,{to:{pathname:"/utilitarios/permissoes"}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarOS&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/os",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarOsOrcamento&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/osOrcamento",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarAddOS&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/addos/".concat(this.props.os.Chave),state:{os:this.props.os}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarAddOsOrcamento&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(this.props.os.Chave),state:{os:this.props.os}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarEventos&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/eventos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarAddEvento&&d.a.createElement(h.b,{to:{pathname:"/ordensservico/addevento/".concat(this.props.evento.chave),state:{evento:this.props.evento,os:this.props.os?Object(n.a)({},this.props.os):null}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPlanosContas&&d.a.createElement(h.b,{to:{pathname:"/tabelas/planoscontas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarCentrosCustos&&d.a.createElement(h.b,{to:{pathname:"/tabelas/centroscustos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasAbertas&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contasabertas"}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasLiquidadas&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contasliquidadas"}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasPagar&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contaspagar",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarFaturas&&d.a.createElement(h.b,{to:{pathname:"/financeiro/faturas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarFaturasOS&&d.a.createElement(h.b,{to:{pathname:this.props.state.backTo,state:{os:this.props.state.os}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarPagamentosLote&&d.a.createElement(h.b,{to:{pathname:"/financeiro/pagamentoslote"}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasPagas&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contaspagas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasReceber&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contasreceber",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarContasRecebidas&&d.a.createElement(h.b,{to:{pathname:"/financeiro/contasrecebidas",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.voltarLancamentos&&d.a.createElement(h.b,{to:{pathname:"/financeiro/lancamentos",state:{chave:this.props.chave}}},d.a.createElement(O.a,{cursor:"pointer",className:"seta",icon:S.c,color:"#17386b",size:"2x"})),this.props.sair&&!this.state.menu&&d.a.createElement(O.a,{cursor:"pointer",className:"seta",onClick:function(){return e.fazerLogout()},icon:S.Q,color:"#d21524",size:"2x"})),d.a.createElement("div",{className:"menuDropdown"},!this.props.login&&d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{className:"nav-link dropdown-toggle categorias",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},d.a.createElement(O.a,{icon:S.e})),d.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{to:{pathname:"/tabelas"},className:"dropdown-item"},"Tabelas",d.a.createElement("p",{style:{color:"white"}})),window.innerWidth>=650&&d.a.createElement("ul",{className:"dropdown-menu"},1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/navios"}},"Navios"),1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/portos"}},"Portos"),1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/tiposservicos"}},"Tipos de Servi\xe7o"),1==this.state.acessosPermissoes.filter((function(e){if("GRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/grupos"}},"Grupos de Taxas"),1==this.state.acessosPermissoes.filter((function(e){if("SUBGRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/subgrupos"}},"Subgrupos de Taxas"),1==this.state.acessosPermissoes.filter((function(e){if("MOEDAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/moedas"}},"Moedas"),1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/pessoas"}},"Pessoas"),1==this.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/taxas"}},"Taxas"),1==this.state.acessosPermissoes.filter((function(e){if("CENTROS_CUSTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/centroscustos"}},"Centros de Custos"),1==this.state.acessosPermissoes.filter((function(e){if("PLANOS_CONTAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/planoscontas"}},"Planos de Contas"),1==this.state.acessosPermissoes.filter((function(e){if("HISTORICOS_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/historicospadrao"}},"Hist\xf3ricos Padr\xe3o"),1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/tiposdocumentos"}},"Tipos de Documentos"),1==this.state.acessosPermissoes.filter((function(e){if("CATEGORIAS_TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/tabelas/categoriasdocumentos"}},"Categorias de Documentos"))),d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{to:{pathname:"/ordensservico"},className:"dropdown-item"},"Ordens de Servi\xe7o",d.a.createElement("p",{style:{color:"white"}})),window.innerWidth>=650&&d.a.createElement("ul",{className:"dropdown-menu"},1==this.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/ordensservico/os"}},"OS"),1==this.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/ordensservico/osOrcamento"}},"OS - Or\xe7amento"),1==this.state.acessosPermissoes.filter((function(e){if("TARIFAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/ordensservico/tarifas"}},"Tarifas de fornecedores"))),d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{to:{pathname:"/financeiro"},className:"dropdown-item"},"Financeiro",d.a.createElement("p",{style:{color:"white"}})),window.innerWidth>=650&&d.a.createElement("ul",{className:"dropdown-menu"},1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement("div",{className:"dropdown-item dropend text-left"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contasabertas"}},"Contas em Aberto"),window.innerWidth>=940&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contasreceber"}},"Contas a receber"),window.innerWidth>=1150&&!this.props.relatorio&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/relatorio",state:{backTo:"contasReceber"}}},"Relat\xf3rio"))),d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contaspagar"}},"Contas a pagar"),window.innerWidth>=1150&&!this.props.relatorio&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/relatorio",state:{backTo:"contasPagar"}}},"Relat\xf3rio"))))),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contasliquidadas"}},"Contas Liquidadas"),window.innerWidth>=940&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contasrecebidas"}},"Contas recebidas"),window.innerWidth>=1150&&!this.props.relatorio&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/relatorio",state:{backTo:"contasRecebidas"}}},"Relat\xf3rio"))),d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/contaspagas"}},"Contas pagas"),window.innerWidth>=1150&&!this.props.relatorio&&d.a.createElement("ul",{className:"dropdown-menu"},d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/relatorio",state:{backTo:"contasPagas"}}},"Relat\xf3rio"))))),1==this.state.acessosPermissoes.filter((function(e){if("FATURAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/faturas"}},"Notas Fiscais de Servi\xe7o"),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/pagamentoslote"}},"Pagamentos em Lote"),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/pagamentosmanual"}},"Pagamentos Manual"),1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/financeiro/lancamentos"}},"Lan\xe7amentos"))),d.a.createElement("div",{className:"dropdown-item dropend"},d.a.createElement(h.b,{to:{pathname:"/utilitarios"},className:"dropdown-item"},"Utilit\xe1rios",d.a.createElement("p",{style:{color:"white"}})),window.innerWidth>=650&&d.a.createElement("ul",{className:"dropdown-menu"},1==this.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/operadores"}},"Operadores"),1==this.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/permissoes"}},"Permissoes"),1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/logs"}},"Logs"),1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/eventostemplates"}},"Templates de Eventos"),1==this.state.acessosPermissoes.filter((function(e){if("GRUPOS_TEMPLATES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/grupostemplates"}},"Grupos de Templates"),1==this.state.acessosPermissoes.filter((function(e){if("PARAMETROS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&d.a.createElement(h.b,{className:"dropdown-item",to:{pathname:"/utilitarios/parametros"}},"Parametros"))))))),d.a.createElement("div",{className:"headerTitulo"},d.a.createElement("h3",null,this.props.titulo)),d.a.createElement("div",{className:"headerImages"},(this.props.sair||this.props.login)&&d.a.createElement("img",{alt:"logo",className:" img-fluid logologado",src:N.a,style:{alignItems:"center",justifyContent:"center"}}),!this.props.sair&&!this.props.login&&d.a.createElement(h.b,{to:{pathname:"/inicio"}},d.a.createElement("img",{alt:"logo",className:" img-fluid logologado",src:N.a,style:{alignItems:"center",justifyContent:"center"}}))),window.innerWidth>=860&&d.a.createElement("div",{className:"logoTrade"},d.a.createElement("div",null,d.a.createElement(h.b,{to:{pathname:"http://tradesystem.com.br/"},target:"_blank"},d.a.createElement("img",{alt:"logo",className:" img-fluid tradelogado",src:w.a,style:{alignItems:"center",justifyContent:"center"}}))))))}}]),a}(p.Component));t.a=Object(b.b)((function(e){return{user:e.user}}),(function(e){return{onLogout:function(t){return e(Object(g.c)(t))},extendExpiration:function(t){return e(Object(g.a)(t))}}}))(T)},23:function(e,t,a){"use strict";var o=a(0),n=a.n(o);a(614);t.a=function(){return n.a.createElement("footer",{className:"footer_bottom"},n.a.createElement("div",{className:"containertradeinfo"},n.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return window.open("http://tradesystem.com.br/","_blank")}},"Copyright \xa9 Todos os Direitos Reservados | Sistema produzido e distribuido por Trade System")))}},29:function(e,t,a){"use strict";var o=a(14),n=a(15),r=a(18),s=a(17),c=a(0),l=a.n(c),i=a(503),u=a.n(i),m=(a(633),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"skeleton-container row"},l.a.createElement("div",{className:"skeleton-title col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},l.a.createElement(u.a,{style:{alignItems:"center",justifyContent:"center"},height:1200,width:"100%"})))}}]),a}(c.Component));t.a=m},346:function(e,t,a){"use strict";var o=a(1),n=a.n(o),r=a(27),s=a(2),c=a(3),l=a(14),i=a(15),u=a(18),m=a(17),p=a(0),d=a.n(p),v=(a(706),a(10)),f=a(20),h=(a(39),a(6)),g=a(5),b=a(76),E=a(8),x=a(4),N={pesquisa:"",tipoPesquisa:1,load:100,optionsTexto:"",itemEdit:{},habilitado:!1,modalAberto:!1,modal:"",modalLista:[],modalPesquisa:"",fornecedorCusteioAtivo:!1,pessoas:[],pessoasOptions:[],pessoasOptionsTexto:"",taxas:[],taxasOptions:[],taxasOptionsTexto:"",descricoesPadrao:[],descricoesPadraoOptions:[],descricoesPadraoOptionsTexto:""},C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state=Object(c.a)({},N),e.componentDidUpdate=function(){var t=Object(s.a)(n.a.mark((function t(a,o){var s,l,i,u,m,p,d,v,f,h,g,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===(s=e.props.itemEdit)||void 0===s?void 0:s.valores)&&(!(null===(l=a.itemEdit)||void 0===l?void 0:l.valores)||!a.aberto&&e.props.aberto)&&(p={valores:Object(r.a)(e.props.itemEdit.valores),onSubmit:e.props.itemEdit.onSubmit},0==(null===(i=p.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===i?void 0:i.valor)?(p.valores=p.valores.map((function(e){return"Repasse"==e.titulo||"Fornecedor"==e.titulo||"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),p.valores=p.valores.map((function(t){var a;return"Taxa"==t.titulo?Object(c.a)(Object(c.a)({},t),{},{options:null===(a=e.props.taxas.filter((function(e){return"P"==e.Tipo})))||void 0===a?void 0:a.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}}))}):Object(c.a)({},t)}))):1==(null===(u=p.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===u?void 0:u.valor)?(p.valores=p.valores.map((function(e){return"Repasse"==e.titulo||"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),p.valores=p.valores.map((function(t){var a;return"Taxa"==t.titulo?Object(c.a)(Object(c.a)({},t),{},{options:null===(a=e.props.taxas.filter((function(e){return"R"==e.Tipo})))||void 0===a?void 0:a.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}}))}):Object(c.a)({},t)}))):p.valores=p.valores.map((function(e){return"Repasse"==e.titulo||"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),(null===(m=p.valores.find((function(e){return"Repasse"==e.titulo})))||void 0===m?void 0:m.valor)?p.valores=p.valores.map((function(e){return"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):Object(c.a)({},e)})):p.valores=p.valores.map((function(e){return"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),e.setState({itemEdit:p})),o.itemEdit!=e.state.itemEdit&&(console.log("TESTANDO SIFOIIIIIII"),0==(null===(d=e.state.itemEdit)||void 0===d||null===(v=d.valores)||void 0===v||null===(f=v.find((function(e){return"Tipo"==e.titulo})))||void 0===f?void 0:f.valor)||1==(null===(h=e.state.itemEdit)||void 0===h||null===(g=h.valores)||void 0===g||null===(b=g.find((function(e){return"Tipo"==e.titulo})))||void 0===b?void 0:b.valor)?e.props.editavel||e.setState({habilitado:!1}):e.setState({habilitado:!0}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraModal=function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraCliente=function(){var t=Object(s.a)(n.a.mark((function t(a,o){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1"!=o.split("")[1]||e.state.fornecedorCusteioAtivo){t.next=5;break}return t.next=3,e.setState({fornecedor:a});case 3:t.next=8;break;case 5:if("1"!=o.split("")[1]){t.next=8;break}return t.next=8,e.setState({fornecedorCusteio:a});case 8:return t.next=10,e.setState({modalAberto:!1});case 10:return t.next=12,e.getPessoas();case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraTaxa=function(){var t=Object(s.a)(n.a.mark((function t(a,o){var r,s,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTaxas();case 2:if("P"!=o||1==e.state.tipo){t.next=11;break}return t.next=5,e.setState({taxa:a});case 5:if(!(r=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=9;break}return t.next=9,e.setState({valor:r.money});case 9:t.next=27;break;case 11:if("R"!=o||0==e.state.tipo){t.next=20;break}return t.next=14,e.setState({taxa:a});case 14:if(!(s=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=18;break}return t.next=18,e.setState({valor:s.money});case 18:t.next=27;break;case 20:if("P"==o||"R"==o){t.next=27;break}return t.next=23,e.setState({taxa:a});case 23:if(!(c=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=27;break}return t.next=27,e.setState({valor:c.money});case 27:return t.next=29,e.setState({modalAberto:!1});case 29:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraDescricaoPadrao=function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricao:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.next=6,e.getDescricaoPadrao();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTaxas=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("getTaxas.php",{token:!0}).then(function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({taxas:a.data});case 2:return t.next=4,e.getTaxasOptions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getDescricaoPadrao=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("getDescricaoPadrao.php",{token:!0}).then(function(){var t=Object(s.a)(n.a.mark((function t(a){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricoesPadrao:a.data});case 2:return o=e.state.descricoesPadrao.map((function(e){return{label:e.descricao,value:e.chave}})),t.next=5,e.setState({descricoesPadraoOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("getFornecedores.php",{token:!0}).then(function(){var t=Object(s.a)(n.a.mark((function t(a){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return(o=e.state.pessoas.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(x.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}}))).unshift({label:"Nenhum",value:""}),t.next=6,e.setState({pessoasOptions:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.changeState=function(t,a){var o,n,r,s,l,i,u,m,p,d,v,f,h,g,b,E,x,N,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],O={valores:e.state.itemEdit.valores.map((function(e,o){return o===t?0==C?Object(c.a)(Object(c.a)({},e),{},{valor:a}):1==C?Object(c.a)(Object(c.a)({},e),{},{valor1:a}):Object(c.a)(Object(c.a)({},e),{},{valor2:a}):Object(c.a)({},e)})),onSubmit:e.state.itemEdit.onSubmit};(0==(null===(o=O.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===o?void 0:o.valor)?O.valores=O.valores.map((function(e){return"Repasse"==e.titulo||"Fornecedor"==e.titulo||"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})):1==(null===(n=O.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===n?void 0:n.valor)?O.valores=O.valores.map((function(e){return"Repasse"==e.titulo||"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})):O.valores=O.valores.map((function(e){return"Repasse"==e.titulo||"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),(null===(r=O.valores.find((function(e){return"Repasse"==e.titulo})))||void 0===r?void 0:r.valor)?O.valores=O.valores.map((function(e){return"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):Object(c.a)({},e)})):O.valores=O.valores.map((function(e){return"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)})),"Tipo"==(null===(s=O.valores.find((function(e,a){return a===t})))||void 0===s?void 0:s.titulo))&&(O.valores=O.valores.map((function(e){return"Repasse"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor:!1}):"Taxa"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor:""}):Object(c.a)({},e)})),0==(null===(v=O.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===v?void 0:v.valor)?(O.valores=O.valores.map((function(t){var a;return"Taxa"==t.titulo?Object(c.a)(Object(c.a)({},t),{},{options:null===(a=e.props.taxas.filter((function(e){return"P"==e.Tipo})))||void 0===a?void 0:a.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}}))}):Object(c.a)({},t)})),O.valores=O.valores.map((function(e){return"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{obrigatorio:!0}):"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{obrigatorio:!1}):Object(c.a)({},e)}))):1==(null===(f=O.valores.find((function(e){return"Tipo"==e.titulo})))||void 0===f?void 0:f.valor)&&(O.valores=O.valores.map((function(t){var a;return"Taxa"==t.titulo?Object(c.a)(Object(c.a)({},t),{},{options:null===(a=e.props.taxas.filter((function(e){return"R"==e.Tipo})))||void 0===a?void 0:a.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}}))}):Object(c.a)({},t)})),O.valores=O.valores.map((function(e){return"Fornecedor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{obrigatorio:!1}):"Fornecedor Custeio"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{obrigatorio:!0}):Object(c.a)({},e)}))));if("Valor"==(null===(l=O.valores.find((function(e,a){return a===t})))||void 0===l?void 0:l.titulo)&&(null===(i=O.valores.find((function(e){return"Repasse"==e.titulo})))||void 0===i?void 0:i.valor))O.valores=O.valores.map((function(e){return"VCP"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor:a}):Object(c.a)({},e)})),w&&(O.valores.find((function(e){return"Valor"==e.titulo})).onChange2(a),O.valores.find((function(e){return"VCP"==e.titulo})).onChange(a));else if("Taxa"!=(null===(u=O.valores.find((function(e,a){return a===t})))||void 0===u?void 0:u.titulo)||(null===(m=O.valores.find((function(e){return"Repasse"==e.titulo})))||void 0===m?void 0:m.valor)){if("Repasse"==(null===(p=O.valores.find((function(e,a){return a===t})))||void 0===p?void 0:p.titulo))if(a){var S,k,y=null===(S=O.valores.find((function(e){return"VCP"==e.titulo})))||void 0===S?void 0:S.valor;O.valores=O.valores.map((function(e){return"Valor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor2:y}):Object(c.a)({},e)})),O.valores=O.valores.map((function(e){return"VCP"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!0}):Object(c.a)({},e)})),O.valores.find((function(e){return"Valor"==e.titulo})).onChange2(null===(k=O.valores.find((function(e){return"Valor"==e.titulo})))||void 0===k?void 0:k.valor2)}else O.valores=O.valores.map((function(e){return"VCP"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{hidden:!1}):Object(c.a)({},e)}))}else{var j,F,A=null===(j=O.valores.find((function(e,a){return a===t})))||void 0===j||null===(F=j.options.find((function(e){return e.value==a})))||void 0===F?void 0:F.money;O.valores=O.valores.map((function(e){return"Valor"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor2:A?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(A):"0,00"}):Object(c.a)({},e)}))}("Descri\xe7\xe3o Padr\xe3o"==(null===(d=O.valores.find((function(e,a){return a===t})))||void 0===d?void 0:d.titulo)&&(O.valores=O.valores.map((function(e){return"Descri\xe7\xe3o"==e.titulo?Object(c.a)(Object(c.a)({},e),{},{valor:a}):Object(c.a)({},e)}))),e.setState({itemEdit:O}),e.props.editavel)||(0==(null===(h=e.state.itemEdit)||void 0===h||null===(g=h.valores)||void 0===g||null===(b=g.find((function(e){return"Tipo"==e.titulo})))||void 0===b?void 0:b.valor)||1==(null===(E=e.state.itemEdit)||void 0===E||null===(x=E.valores)||void 0===x||null===(N=x.find((function(e){return"Tipo"==e.titulo})))||void 0===N?void 0:N.valor)?e.setState({habilitado:!1}):e.setState({habilitado:!0}))},e.fecharModal=function(){e.props.closeModal()},e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a=this;return this.props.aberto?d.a.createElement("div",{className:"contact-section"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-12"},d.a.createElement("br",null),d.a.createElement("div",{className:"relatoriosSection"},d.a.createElement("div",{className:"relatorioButton"},d.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a.props.openTemplates()}},"Carregar template"))),d.a.createElement("br",null),1==this.props.acessosPermissoes.filter((function(e){if(e.acessoAcao==a.props.itemPermissao)return e})).map((function(e){return e.permissaoEdita}))[0]&&d.a.createElement(v.c,{initialValues:{name:""},onSubmit:function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setItemEdit(a.state.itemEdit);case 2:return e.next=4,new Promise((function(e){return setTimeout(e,1e3)}));case 4:return e.next=6,setTimeout(Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=a.state.itemEdit)||void 0===t?void 0:t.onSubmit();case 2:case"end":return e.stop()}}),e)}))),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d.a.createElement(v.b,{className:"contact-form"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),d.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},d.a.createElement("div",{className:"row addservicos"},d.a.createElement("div",{className:"col-12 ",style:{marginBottom:20}},this.props.chave?console.log(this.props.chave):null,d.a.createElement("h3",{style:{textAlign:"center",color:"white"}},0==this.props.chave?"Criar":"Editar"," evento")),null===(e=this.state.itemEdit)||void 0===e||null===(t=e.valores)||void 0===t?void 0:t.map((function(e,t){return d.a.createElement(d.a.Fragment,null,e.half&&!e.hidden&&d.a.createElement(d.a.Fragment,null,d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},d.a.createElement("label",null,e.titulo)),d.a.createElement("div",{className:"col-1 errorMessage"},e.obrigatorio&&(!e.valor1&&"0"!=e.valor||!e.valor2&&"0"!=e.valor)&&d.a.createElement(h.a,{title:"Preencha o campo",icon:g.y})),d.a.createElement("div",{className:"fieldDividido col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},d.a.createElement("select",{disabled:e.disabled1,className:"form-control nextToInput fieldDividido_1",value:e.valor1,onChange:function(){var o=Object(s.a)(n.a.mark((function o(r){return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,r.currentTarget.value,1),o.next=3,e.onChange1(r.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},e.options1.map((function(e){return d.a.createElement("option",{value:e.value},e.label)}))),d.a.createElement(v.a,{className:"form-control fieldDividido_2 text-right",type:"text",onClick:function(e){return e.target.select()},value:e.valor2,disabled:e.disabled2,onChange:function(){var e=Object(s.a)(n.a.mark((function e(o){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.changeState(t,o.currentTarget.value,2));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var o=Object(s.a)(n.a.mark((function o(r){return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,Number(r.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(r.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00",2,!0),o.next=3,e.onBlur2(r.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()})))),!e.half&&!e.hidden&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},d.a.createElement("label",null,e.titulo)),d.a.createElement("div",{className:"col-1 errorMessage"},e.obrigatorio&&!e.valor&&"0"!=e.valor&&d.a.createElement(h.a,{title:"Preencha o campo",icon:g.y})),d.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},"select"==e.tipo&&d.a.createElement(f.a,{className:"SearchSelect color_black",options:e.options.filter((function(e){return a.filterSearch(e,a.state.optionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({optionsTexto:e})},value:e.options.filter((function(t){return t.value==e.valor})),isDisabled:e.disabled,search:!0,onChange:function(o){a.changeState(t,o.value),e.onChange(o.value)}}),"Fornecedor"==e.titulo?1==a.props.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&d.a.createElement("div",{className:"insideFormButton",onClick:function(){a.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:a.state.fornecedor,modalLista:a.state.pessoas,fornecedorCusteioAtivo:!1})}},"..."):null,"money"==e.tipo&&d.a.createElement(v.a,{className:"form-control text-right",type:"text",onClick:function(e){return e.target.select()},value:e.valor,disabled:e.disabled,onChange:function(){var e=Object(s.a)(n.a.mark((function e(o){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.changeState(t,o.currentTarget.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var o=Object(s.a)(n.a.mark((function o(r){return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,Number(r.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(r.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00",0,!0),o.next=3,e.onBlur(r.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}),"check"==e.tipo&&d.a.createElement("input",{className:"form_control",disabled:e.disabled,checked:e.valor,onChange:function(o){a.changeState(t,o.target.checked),e.onChange(o.target.checked)},type:"checkbox"}),"textarea"==e.tipo&&d.a.createElement(v.a,{className:"form-control textareaFix",as:"textarea",rows:"3",type:"text",onClick:function(e){return e.target.select()},value:e.valor,disabled:e.disabled,onChange:function(){var e=Object(s.a)(n.a.mark((function e(o){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.changeState(t,o.currentTarget.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),"select"!=e.tipo&&"money"!=e.tipo&&"check"!=e.tipo&&"textarea"!=e.tipo&&d.a.createElement(v.a,{className:"form-control",disabled:e.disabled,type:e.tipo,value:e.valor,onChange:function(e){return a.changeState(t,e.currentTarget.value)},onBlur:function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},this.props.chave||this.props.editavel?d.a.createElement("button",{type:"submit",disabled:!this.props.valid,style:this.props.valid?{width:300,backgroundColor:"white"}:{width:300}},"Salvar"):d.a.createElement("button",{type:"submit",disabled:!this.props.valid&&this.state.habilitado,style:this.props.valid&&this.state.habilitado?{width:300,backgroundColor:"white"}:{width:300}},"Salvar")),d.a.createElement("div",{className:"col-2"})),d.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}),this.props.chave||this.props.editavel||this.state.habilitado?null:d.a.createElement("p",{style:{display:"flex",justifyContent:"center",margin:"auto",color:"white"}},"Os encerrada, somente eventos do tipo: Desconto ou Recebimento de Remessas")))))),d.a.createElement(b.a,{pesquisa:this.state.modalPesquisa,alteraModal:this.alteraModal,alteraCliente:this.alteraCliente,alteraTaxa:this.alteraTaxa,alteraDescricaoPadrao:this.alteraDescricaoPadrao,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){a.setState({modalAberto:!1})}})))):d.a.createElement(d.a.Fragment,null)}}]),a}(p.Component);t.a=C},347:function(e,t,a){"use strict";var o=a(1),n=a.n(o),r=a(2),s=a(27),c=a(3),l=a(14),i=a(15),u=a(18),m=a(17),p=a(0),d=a.n(p),v=(a(707),a(10)),f=a(88),h=a(20),g=(a(39),a(6)),b=a(5),E=a(7),x={pesquisa:"",tipoPesquisa:1,load:100,tipoCampo:"PREENCHIDOS",camposPreenchidos:[],camposBrancos:[],camposExpandidos:[],campoForm:!1,campoFormTitulo:"",campoFormValor:"",campoFormEventosAfetados:[],campoFormSubgrupos:[],campoFormSubgruposEscolhidos:[],todosEventos:[],todosSubgrupos:[],subgruposOptions:[],optionsTexto:""},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state=Object(c.a)({},x),e.componentDidMount=function(){var t=e.props.campos,a=[],o=[],n=[],r=[];t.forEach((function(e){var t;if(n.find((function(t){return t.value===e.eventoChave}))||n.push({value:e.eventoChave,label:e.eventoNome,subgrupo:e.subgrupo}),r.find((function(t){return t.value===e.subgrupo}))||r.push({value:e.subgrupo,label:e.subgrupoNome}),null===(t=e.eventoCampoValor)||void 0===t?void 0:t.trim()){var s,l=a.findIndex((function(t){var a,o;return(null===(a=t.eventoCampoValor)||void 0===a?void 0:a.trim())==(null===(o=e.eventoCampoValor)||void 0===o?void 0:o.trim())&&t.nome==e.nome&&t.tipo==e.tipo}));if(-1==l)a.push(Object(c.a)(Object(c.a)({},e),{},{key:a.length+1,chave:[e.chave],eventoCampoChave:[e.eventoCampoChave],eventoCampoValor:null===(s=e.eventoCampoValor)||void 0===s?void 0:s.trim(),eventoChave:[e.eventoChave],eventoNome:[e.eventoNome],subgrupo:[e.subgrupo],subgrupoNome:[e.subgrupoNome]}));else a[l].chave.push(e.chave),a[l].eventoCampoChave.push(e.eventoCampoChave),a[l].eventoChave.push(e.eventoChave),a[l].eventoNome.push(e.eventoNome),a[l].subgrupo.includes(e.subgrupo)||(a[l].subgrupo.push(e.subgrupo),a[l].subgrupoNome.push(e.subgrupoNome))}else{var i=o.findIndex((function(t){return t.nome==e.nome&&t.tipo==e.tipo}));-1==i?o.push(Object(c.a)(Object(c.a)({},e),{},{key:o.length+1,chave:[e.chave],eventoCampoChave:[e.eventoCampoChave],eventoChave:[e.eventoChave],eventoNome:[e.eventoNome],subgrupo:[e.subgrupo],subgrupoNome:[e.subgrupoNome]})):(o[i].chave.push(e.chave),o[i].eventoCampoChave.push(e.eventoCampoChave),o[i].eventoChave.push(e.eventoChave),o[i].eventoNome.push(e.eventoNome),o[i].subgrupo.includes(e.subgrupo)||(o[i].subgrupo.push(e.subgrupo),o[i].subgrupoNome.push(e.subgrupoNome)))}})),e.setState({camposPreenchidos:a,camposBrancos:o,todosEventos:n,todosSubgrupos:r})},e.expandirCampo=function(t){-1==e.state.camposExpandidos.findIndex((function(e){return e===t}))?e.setState({camposExpandidos:[].concat(Object(s.a)(e.state.camposExpandidos),[t])}):e.setState({camposExpandidos:e.state.camposExpandidos.filter((function(e){return e!==t}))})},e.setOptions=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.eventoChave.map((function(t){var a;return{subgrupo:null===(a=e.state.todosEventos.find((function(e){return e.value==t})))||void 0===a?void 0:a.subgrupo}}));a&&e.state.camposBrancos.filter((function(t){return t.subgrupo.find((function(t){return e.state.campoFormSubgrupos.includes(t)}))})).forEach((function(t){t.eventoChave.forEach((function(t){var a;o.find((function(e){return e.value==t}))||o.push({subgrupo:null===(a=e.state.todosEventos.find((function(e){return e.value==t})))||void 0===a?void 0:a.subgrupo})}))}));var n=[];o.forEach((function(t){var a;n.find((function(e){return e.value==t.subgrupo}))||n.push({value:t.subgrupo,label:null===(a=e.state.todosSubgrupos.find((function(e){return e.value==t.subgrupo})))||void 0===a?void 0:a.label})})),e.setState({subgruposOptions:n})},e.saveCampo=Object(r.a)(n.a.mark((function t(){var a,o,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({campoForm:!1}),a=e.state.todosEventos.filter((function(t){return e.state.campoFormSubgruposEscolhidos.find((function(e){return e==t.subgrupo}))})),o=e.state.campoFormEventosAfetados.filter((function(e){return!a.find((function(t){return t.value==e}))})).map((function(t){var a;return{chave:t,subgrupo:null===(a=e.state.todosEventos.find((function(e){return e.value==t})))||void 0===a?void 0:a.subgrupo}})),r=a.map((function(e){return{chave:e.value,subgrupo:e.subgrupo}})),t.next=6,E.a.getBody("saveCamposOS.php",{token:!0,eventosDeletados:o,eventos:r,campoNome:e.state.campoFormTitulo,valor:e.state.campoFormValor});case 6:e.props.submit();case 7:case"end":return t.stop()}}),t)}))),e.fecharModal=function(){e.props.closeModal()},e.filterSearch=function(t,a){if(e.state.campoFormSubgruposEscolhidos.find((function(e){return e==t.value})))return!1;if(""==t)return!0;var o=a.toUpperCase();return t.label.toUpperCase().includes(o)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement(f.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.props.open,onClose:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fecharModal());case 1:case"end":return t.stop()}}),t)})))},d.a.createElement("div",{className:"modalContainer",style:{width:"80%",minWidth:300}},d.a.createElement("div",{className:"modalCriar"},d.a.createElement("div",{className:"containersairlistprodmodal"},d.a.createElement("div",{className:"botaoSairModal",onClick:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fecharModal());case 1:case"end":return t.stop()}}),t)})))},d.a.createElement("span",null,"X"))),d.a.createElement("div",{className:"modalContent"},!this.state.campoForm&&d.a.createElement(d.a.Fragment,null,"PREENCHIDOS"===this.state.tipoCampo&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"tipos_campos_os"},d.a.createElement("div",{className:"tipo_campos_os_ativo"},"Preenchidos"),d.a.createElement("div",{onClick:function(){return e.setState({tipoCampo:"EM_BRANCO"})},className:"tipo_campos_os"},"Em branco")),d.a.createElement("div",{className:"campos_os_preenchidos"},this.state.camposPreenchidos.map((function(t){return d.a.createElement("div",{className:"campo_os_preenchido",key:t.key},d.a.createElement("div",{className:"campo_os_preenchido_titulos",onClick:function(){return e.expandirCampo(t.key)}},d.a.createElement("div",{className:"campo_os_preenchido_nome"},t.nome),d.a.createElement("div",{className:"campo_os_preenchido_valor"},t.eventoCampoValor.length>25?"".concat(t.eventoCampoValor.substring(0,25),"..."):t.eventoCampoValor,d.a.createElement("div",{className:"campo_os_preenchido_editar"},d.a.createElement(g.a,{icon:b.L,size:"1x",onClick:Object(r.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({campoForm:!0,campoFormTitulo:t.nome,campoFormValor:t.eventoCampoValor,campoFormEventosAfetados:t.eventoChave,campoFormSubgrupos:t.subgrupo,campoFormSubgruposEscolhidos:t.subgrupo});case 2:e.setOptions(t,!0);case 3:case"end":return a.stop()}}),a)})))})))),e.state.camposExpandidos.find((function(e){return e==t.key}))&&d.a.createElement("div",{className:"campo_detalhes"},d.a.createElement("div",{className:"campo_valor_completo"},d.a.createElement("div",{className:"campo_valor_titulo"},"Valor:"),d.a.createElement("div",{className:"campo_valor_valor"},t.eventoCampoValor)),d.a.createElement("div",{className:"campo_eventos"},d.a.createElement("div",{className:"campo_eventos_titulo"},"Vouchers:"),t.subgrupoNome.map((function(e){return d.a.createElement("div",{className:"campo_evento_nome"},e)})))))})),0===this.state.camposPreenchidos.length&&d.a.createElement("div",{className:"aviso_campos_vazios"},"-- Nenhum campo em branco encontrado --"))),"EM_BRANCO"===this.state.tipoCampo&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"tipos_campos_os"},d.a.createElement("div",{onClick:function(){return e.setState({tipoCampo:"PREENCHIDOS"})},className:"tipo_campos_os"},"Preenchidos"),d.a.createElement("div",{className:"tipo_campos_os_ativo"},"Em branco")),d.a.createElement("div",{className:"campos_os_branco"},this.state.camposBrancos.map((function(t){return d.a.createElement("div",{className:"campo_os_preenchido",key:t.key},d.a.createElement("div",{className:"campo_os_preenchido_titulos",onClick:Object(r.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({campoForm:!0,campoFormTitulo:t.nome,campoFormValor:t.eventoCampoValor,campoFormSubgrupos:t.subgrupo});case 2:e.setOptions(t);case 3:case"end":return a.stop()}}),a)})))},d.a.createElement("div",{className:"campo_os_preenchido_nome"},t.nome),d.a.createElement("div",{className:"campo_os_preenchido_valor"},d.a.createElement(g.a,{icon:b.L,size:"1x"}))))})),0===this.state.camposBrancos.length&&d.a.createElement("div",{className:"aviso_campos_vazios"},"-- Nenhum campo em branco encontrado --")))),this.state.campoForm&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"tituloModal",style:{position:"relative"}},d.a.createElement("span",null,this.state.campoFormTitulo),d.a.createElement("div",{className:"voltar_campos_os",onClick:function(){e.setState({campoForm:!1,campoFormTitulo:"",campoFormValor:"",campoFormEventosAfetados:[],campoFormSubgruposEscolhidos:[],campoFormSubgrupos:[]})}},d.a.createElement(g.a,{icon:b.c,size:"1x"}))),d.a.createElement("div",{className:"modalForm"},d.a.createElement(v.c,{initialValues:{name:""},onSubmit:function(){var t=Object(r.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return t.next=4,e.saveCampo();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d.a.createElement(v.b,{className:"contact-form"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},d.a.createElement("div",{className:"row addservicos"},d.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},d.a.createElement("label",null,"Valor:")),d.a.createElement("div",{className:"col-1 errorMessage"}),d.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},d.a.createElement(v.a,{className:"form-control textareaFix",as:"textarea",rows:4,value:this.state.campoFormValor,onChange:function(){var t=Object(r.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({campoFormValor:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),d.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},d.a.createElement("label",null,"Vouchers:")),d.a.createElement("div",{className:"col-1 errorMessage"}),d.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},d.a.createElement(h.a,{className:"SearchSelect",options:this.state.subgruposOptions.filter((function(t){return e.filterSearch(t,e.state.optionsTexto)})).slice(0,75),onInputChange:function(t){e.setState({optionsTexto:t})},search:!0,onChange:function(t){e.setState({campoFormSubgruposEscolhidos:[].concat(Object(s.a)(e.state.campoFormSubgruposEscolhidos),[t.value])})}}),this.state.campoFormSubgruposEscolhidos.map((function(t,a){var o;return d.a.createElement("span",{class:"click_to_erase",style:{color:"white"},onClick:function(){return e.setState({campoFormSubgruposEscolhidos:e.state.campoFormSubgruposEscolhidos.filter((function(e){return e!=t}))})}},null===(o=e.state.subgruposOptions.find((function(e){return e.value==t})))||void 0===o?void 0:o.label,a!=e.state.campoFormSubgruposEscolhidos.length-1?", ":" ")}))))),d.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},d.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),d.a.createElement("div",{className:"col-2"}))))))))))}}]),a}(p.Component);t.a=N},4:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a(1),n=a.n(o),r=a(2),s=a(14),c=a(15),l=a(11),i=a.n(l),u=a(19),m=(a(31),function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"completarZerosEsquerda",value:function(e,t){var a=t-String(e).length;return"0".repeat(a>0?a:"0")+e}},{key:"formataData",value:function(e){return i()(e).format("yyyy-MM-DD")}},{key:"formataDataBr",value:function(e){return i()(e,"yyyy-MM-DD").format("DD/MM/yyyy")}},{key:"verificaDatas",value:function(e,t){var a=i()(e,"yyyy-MM-DD").format("YYYYMMDD"),o=i()(t,"DD/MM/yyyy").format("YYYYMMDD");return console.log(a,o),"Invalid date"==o?(console.log("data invalida"),!1):(console.log("passou na primeira valida\xe7\xe3o de data"),"/"==t[2]&&"/"==t[5]?(console.log("passou na validacao das barras"),o>a?(console.log("aplica"),!0):(console.log("nao aplica"),!1)):void 0)}},{key:"getBase64",value:function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var o=new FileReader;o.readAsDataURL(t),o.onload=function(){e(o.result)},o.onerror=function(e){a(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSimbolos",value:function(){var e=Object(r.a)(n.a.mark((function e(t){var a,o,r=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>1&&void 0!==r[1])||r[1],o=!(r.length>2&&void 0!==r[2])||r[2],a&&(t=t.trim()),t=(t=t.replaceAll("n\xba",",").replaceAll("N\xba",",").replaceAll("'","")).replaceAll("\xaa","").replaceAll("\xba","").replaceAll(".",""),o&&(t=t.replaceAll("-","")),t=(t=(t=t.replaceAll("(","").replaceAll(")","").replaceAll("*","")).replaceAll("/","").replaceAll("\\","").replaceAll("","")).replaceAll("@","").replaceAll("%","").replaceAll("&",""),a&&(t=t.trim()),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"apenasNumeros",value:function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",t.replace(/\D/g,""));case 2:return e.abrupt("return","");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"formataDinheiroEstrangeiro",value:function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t&&(t+=""),!isNaN(parseInt(t))){e.next=3;break}return e.abrupt("return","");case 3:return e.abrupt("return",parseFloat(t.replace(".","").replace(",",".")).toFixed(2));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"formataDinheiroBrasileiro",value:function(e){return"string"!=typeof e&&(e+=""),isNaN(parseInt(e))?"":new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}},{key:"returnIfExists",value:function(e,t){return e&&t?t:""}},{key:"letrasMinusculas",value:function(e){return e.toLowerCase()}},{key:"removeAcentos",value:function(e){var t="\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\u0154\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0155",a="";if(e){for(var o=0;o<e.length;o++){for(var n=!1,r=0;r<t.length;r++)if(e.substr(o,1)==t.substr(r,1)){a+="AAAAAAACEEEEIIIIDNOOOOOOUUUUYRsBaaaaaaaceeeeiiiionoooooouuuuybyr".substr(r,1),n=!0;break}0==n&&(a+=e.substr(o,1))}return a}return e}},{key:"removerEspacosEntrePalavras",value:function(e){return e.replace(/\s/g,"")}},{key:"completarPictures",value:function(e){return"".concat(u.s,"/pictures/").concat(e,".png")}},{key:"completarDocuments",value:function(e){return"".concat(u.s,"/").concat(e)}},{key:"testaCPF",value:function(e){var t,a,o;if(t=0,"00000000000"==e)return!1;for(o=1;o<=9;o++)t+=parseInt(e.substring(o-1,o))*(11-o);if(10!=(a=10*t%11)&&11!=a||(a=0),a!=parseInt(e.substring(9,10)))return!1;for(t=0,o=1;o<=10;o++)t+=parseInt(e.substring(o-1,o))*(12-o);return 10!=(a=10*t%11)&&11!=a||(a=0),a==parseInt(e.substring(10,11))}},{key:"encrypt",value:function(e){try{var t="";return this.inverterString(e).map((function(e){t+="".concat(String.fromCharCode(e.charCodeAt(0)+120))})),t}catch(a){console.log(a.message)}}},{key:"decrypt",value:function(e){try{var t="";return this.inverterString(e).map((function(e){t+="".concat(String.fromCharCode(e.charCodeAt(0)-120))})),t}catch(a){console.log(a.message)}}},{key:"inverterString",value:function(e){return e.split("").reverse()}},{key:"base64",value:function(){var e=Object(r.a)(n.a.mark((function e(t){var a,o,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new TextEncoder,o=a.encode(t),e.next=4,crypto.subtle.digest("SHA-256",o);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"constroiJsonBB",value:function(){var e=Object(r.a)(n.a.mark((function e(t){var a,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=10;break}if(a=t.indexOf(',"texto":'),o=t.indexOf('}],"l'),-1==a||-1==o){e.next=7;break}return e.abrupt("return",JSON.parse(t.replaceAll(t.slice(a,o),"")));case 7:return e.abrupt("return",JSON.parse(t));case 8:e.next=11;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"turnToOption",value:function(){var e=Object(r.a)(n.a.mark((function e(t,a,o){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map((function(e){return{label:e[a],value:e[o]}})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"formataCPF",value:function(e){if((e="".concat(e)).length<=11){for(;e.length<11;)e="0".concat(e);return"".concat(e.substring(0,3),".").concat(e.substring(3,6),".").concat(e.substring(6,9),"-").concat(e.substring(9))}for(;e.length<14;)e="0".concat(e);return"".concat(e.substring(0,2),".").concat(e.substring(2,5),".").concat(e.substring(5,8),"/").concat(e.substring(8,12),"-").concat(e.substring(12))}},{key:"formataData",value:function(e){for(e="".concat(e);e.length<8;)e="0".concat(e);return"".concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4))}},{key:"cleanStates",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object.keys(e),o={};return a.map((function(a){t&&t[0]&&t.includes(a)?o[a]=e[a]:o[a]="string"==typeof e[a]?e[a].replaceAll("'","'").replaceAll('"','"').trim():e[a]})),o}},{key:"toFixed",value:function(e,t){return isNaN(parseInt(e))?0:parseFloat((+(Math.round(+(e+"e"+t))+"e"+-t)).toFixed(t))}},{key:"formatForLogs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"label";if("money"==t)return"string"==typeof e?e.replaceAll(".","").replaceAll(",",".")?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.replaceAll(".","").replaceAll(",",".")):a:e;if("date"==t)return e&&i()(e).isValid()?i()(e).format("DD/MM/YYYY"):a;if("datetime"==t)return e&&i()(e).isValid()?i()(e).format("DD/MM/YYYY HH:mm"):a;if("bool"==t)return e?o||"Sim":a||"N\xe3o";if("options"==t){if(n&&n[0]){var c=n.find((function(e){return e&&e[r]}));return c&&c[s]?c[s]:a}return e}return e}}]),e}())},41:function(e,t,a){"use strict";var o=a(1),n=a.n(o),r=a(2),s=a(3),c=a(14),l=a(15),i=a(18),u=a(17),m=a(0),p=a.n(m),d=(a(663),a(88)),v=(a(39),a(11)),f=a.n(v),h={pesquisa:"",tipoPesquisa:1,load:100},g=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state=Object(s.a)({},h),e.componentDidMount=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.fecharModal=function(){e.props.closeModal()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return p.a.createElement(d.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({modalAberto:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},p.a.createElement("div",{className:"modalItemContainer darkBack"},p.a.createElement("div",{className:"modalCriar"},p.a.createElement("div",{className:"containersairlistprodmodal"},p.a.createElement("div",{className:"botaoSairModal",onClick:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fecharModal();case 2:case"end":return t.stop()}}),t)})))},p.a.createElement("span",null,"X"))),p.a.createElement("div",{className:"modalContent darkBack"},p.a.createElement("div",{className:"tituloModal"},p.a.createElement("span",null,this.props.nome," - (",this.props.chave,")")),!this.props.logs[0]&&p.a.createElement("div",{style:{width:"100%",textAlign:"center"}},p.a.createElement("span",null,"-- Nenhum Log Encontrado --")),this.props.logs.map((function(e,t){return p.a.createElement("div",{className:"modalItemContent ".concat(t%2==0?"modalItemPar":"modalItemImpar")},p.a.createElement("div",{className:"modalItemData"},f()(e.Data).format("DD/MM/YYYY HH:mm:ss")),p.a.createElement("div",{className:"modalItemOperador"},e.operadorNome,":"),p.a.createElement("div",{className:"modalItemCampos"},e.Campos))}))))))}}]),a}(m.Component);t.a=g},422:function(e,t,a){e.exports=a.p+"static/media/logo.6cff8e67.png"},435:function(e,t){},449:function(e,t,a){"use strict";var o=a(1),n=a.n(o),r=a(27),s=a(2),c=a(3),l=a(14),i=a(15),u=a(18),m=a(17),p=a(0),d=a.n(p),v=(a(705),a(10)),f=a(88),h=a(20),g=(a(39),{pesquisa:"",tipoPesquisa:1,load:100,optionsTexto:"",itemEdit:{}});p.Component},489:function(e,t,a){},490:function(e,t,a){},498:function(e,t,a){e.exports=a.p+"static/media/tradeLogo.f071f797.png"},509:function(e,t,a){"use strict";(function(e){var o,n=a(345),r=a(27),s=a(1),c=a.n(s),l=a(2),i=a(3),u=a(14),m=a(15),p=a(18),d=a(17),v=a(9),f=a(0),h=a.n(f),g=(a(704),a(10)),b=a(21),E=a(23),x=a(76),N=a(29),C=a(4),w=a(7),O=a(19),S=a(22),k=a(50),y=a(12),j=a(41),F=a(8),A=a(6),T=a(5),P=a(11),D=a.n(P),_=a(20),L=a(28),I=a(118),M=a(563),R=a(564),B=a(88),q=a(74),Y=a(31),V=a.n(Y),U=(a(449),a(346)),z=a(347),G=(o={os:"",chave:0,descricao:"",codigo:"",cliente:"",navio:"",abertura:D()().format("YYYY-MM-DD"),chegada:D()().format("YYYY-MM-DD"),tipoServico:"",viagem:"",porto:"",eta:"",atb:"",etb:"",governmentTaxes:!1,bankCharges:!1,data_saida:"",encerramento:"",faturamento:"",envio:"",centroCusto:"",roe:5,comentario:"",encerradoPor:"",faturadoPor:"",empresa:"",operador:"",editavel:!0,deleteSolicitao:!1,eventoChave:0,clientes:[],clientesOptions:[],clientesOptionsTexto:"",navios:[],naviosOptions:[],naviosOptionsTexto:"",portos:[],portosOptions:[],portosOptionsTexto:"",tiposServicos:[],tiposServicosOptions:[],tiposServicosOptionsTexto:"",operadores:[],operadoresOptions:[],operadoresOptionsTexto:"",tiposDocumento:[],tiposDocumentoOptions:[],tiposDocumentoOptionsTexto:"",documentoDescricao:"",documentoTipo:1,acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,modalAberto:!1,modal:0,modalLista:"",modalPesquisa:"",logs:[],modalLog:!1,dadosIniciais:[],dadosFinais:[],dadosIniciaisDoc:[],dadosFinaisDoc:[],modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:""},Object(v.a)(o,"eventoChave",""),Object(v.a)(o,"itemAdd",{}),Object(v.a)(o,"itemEdit",{}),Object(v.a)(o,"itemFinanceiro",{}),Object(v.a)(o,"itemEdit",{}),Object(v.a)(o,"itemDelete",""),Object(v.a)(o,"navioNome",""),Object(v.a)(o,"navioBloqueado",!1),Object(v.a)(o,"portoNome",""),Object(v.a)(o,"portoSigla",""),Object(v.a)(o,"portoBloqueado",!1),Object(v.a)(o,"clienteNome",""),Object(v.a)(o,"clienteCpf",""),Object(v.a)(o,"clienteCpfLimpo",""),Object(v.a)(o,"clienteBloqueado",!1),Object(v.a)(o,"tipoServicoNome",""),Object(v.a)(o,"tipoServicoPrazo",""),Object(v.a)(o,"tipoServicoBloqueado",!1),Object(v.a)(o,"centrosCustos",[]),Object(v.a)(o,"centrosCustosOptions",[]),Object(v.a)(o,"centrosCustosOptionsTexto",""),Object(v.a)(o,"empresas",[]),Object(v.a)(o,"empresasOptions",[]),Object(v.a)(o,"empresasOptionsTexto",""),Object(v.a)(o,"cpfAprovado",!1),Object(v.a)(o,"eventos",[]),Object(v.a)(o,"todosEventos",[]),Object(v.a)(o,"documentos",[]),Object(v.a)(o,"documentoModal",!1),Object(v.a)(o,"documento",[]),Object(v.a)(o,"documentoNome",""),Object(v.a)(o,"documentoChave",""),Object(v.a)(o,"documentoCaminho",""),Object(v.a)(o,"documentoTrocar",!0),Object(v.a)(o,"documentoEditar",!1),Object(v.a)(o,"tiposServicosItens",["Pagar","Receber","Adiantamento","Desconto"]),Object(v.a)(o,"pdfNome",""),Object(v.a)(o,"pdfgerado",[]),Object(v.a)(o,"pdfContent",[]),Object(v.a)(o,"anexosForn",[]),Object(v.a)(o,"moedas",""),Object(v.a)(o,"error",{msg:"",type:""}),Object(v.a)(o,"loading",!0),Object(v.a)(o,"recarregaPagina",!1),Object(v.a)(o,"eventosTotal",0),Object(v.a)(o,"cabecalhoModal",!1),Object(v.a)(o,"cabecalho",""),Object(v.a)(o,"company",""),Object(v.a)(o,"address",""),Object(v.a)(o,"CO",""),Object(v.a)(o,"agrupadorModal",!1),Object(v.a)(o,"agrupadorTipo",""),Object(v.a)(o,"agrupadorEventos",[]),Object(v.a)(o,"agruparFunction",(function(){})),Object(v.a)(o,"custeios_subagentes",[]),Object(v.a)(o,"invoices_groups",[]),Object(v.a)(o,"historicosOptions",[]),Object(v.a)(o,"planosContasOptions",[]),Object(v.a)(o,"meiosPagamentosOptions",[]),Object(v.a)(o,"optionsTexto",""),Object(v.a)(o,"historico",[]),Object(v.a)(o,"historicoPadrao",[]),Object(v.a)(o,"codBarras",[]),Object(v.a)(o,"contaDebito",[]),Object(v.a)(o,"contaCredito",[]),Object(v.a)(o,"meioPagamento",[]),Object(v.a)(o,"meioPagamentoNome",[]),Object(v.a)(o,"codigoReceita",[]),Object(v.a)(o,"contribuinte",[]),Object(v.a)(o,"codigoIdentificadorTributo",[]),Object(v.a)(o,"mesCompetNumRef",[]),Object(v.a)(o,"dataApuracao",[]),Object(v.a)(o,"darfValor",[]),Object(v.a)(o,"darfPagamento",[]),Object(v.a)(o,"darfMulta",[]),Object(v.a)(o,"darfJuros",[]),Object(v.a)(o,"darfOutros",[]),Object(v.a)(o,"contabiliza",!1),Object(v.a)(o,"eventosContabilizando",[]),Object(v.a)(o,"paginaContabiliza",0),Object(v.a)(o,"anexosNaoValidados",[]),Object(v.a)(o,"faturado",!1),Object(v.a)(o,"eventoData",""),Object(v.a)(o,"eventoFornecedor",""),Object(v.a)(o,"eventoMoeda",""),Object(v.a)(o,"eventoFornecedorInicial",""),Object(v.a)(o,"eventoTaxa",""),Object(v.a)(o,"eventoDescricao",""),Object(v.a)(o,"eventoTipo",""),Object(v.a)(o,"eventoOrdem",""),Object(v.a)(o,"eventoRemarks",""),Object(v.a)(o,"eventoValor",""),Object(v.a)(o,"eventoVlrc",""),Object(v.a)(o,"eventoRepasse",""),Object(v.a)(o,"eventoFornecedorCusteio",""),Object(v.a)(o,"eventoQntd",""),Object(v.a)(o,"taxas",[]),Object(v.a)(o,"taxasOptions",[]),Object(v.a)(o,"fornecedoresOptions",[]),Object(v.a)(o,"descricoesPadraoOptions",[]),Object(v.a)(o,"tiposSubOptions",[{label:"Pagar",value:0},{label:"Receber",value:1},{label:"Recebimento de Remessa",value:2},{label:"Desconto",value:3}]),Object(v.a)(o,"dadosIniciaisSol",[]),Object(v.a)(o,"dadosFinaisSol",[]),Object(v.a)(o,"templatesModal",!1),Object(v.a)(o,"templates",[]),Object(v.a)(o,"grupoTemplate",{}),Object(v.a)(o,"gruposTemplates",[]),Object(v.a)(o,"gruposTemplatesModal",!1),Object(v.a)(o,"modalCamposOS",!1),Object(v.a)(o,"camposOS",[]),Object(v.a)(o,"redirectEventos",!1),o),W=function(t){Object(p.a)(o,t);var a=Object(d.a)(o);function o(t){var s;return Object(u.a)(this,o),(s=a.call(this,t)).state=Object(i.a)(Object(i.a)({},G),{},{usuarioLogado:s.props.user}),s.componentDidMount=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=s.state.usuarioLogado)||void 0===t?void 0:t.codigo){e.next=2;break}return e.abrupt("return");case 2:return window.scrollTo(0,0),e.next=5,s.props.match.params.id;case 5:return a=e.sent,e.next=8,s.setState({chave:a});case 8:if(0==s.state.usuarioLogado.empresa){e.next=11;break}return e.next=11,s.setState({empresa:s.state.usuarioLogado.empresa});case 11:if(0===parseInt(a)){e.next=35;break}return e.t0=s,e.next=15,w.a.getOne("getOSUma.php",null,null,{chave_os:s.state.chave});case 15:return e.t1=e.sent,e.next=18,w.a.getOne("getContaOS.php",null,null,{chave_os:s.state.chave});case 18:return e.t2=e.sent,e.t3={os:e.t1,contaOs:e.t2},e.next=22,e.t0.setState.call(e.t0,e.t3);case 22:return e.next=24,s.setState({descricao:s.state.os.Descricao,codigo:s.state.os.codigo,cliente:s.state.os.Chave_Cliente,navio:s.state.os.chave_navio,abertura:D()(s.state.os.Data_Abertura).format("YYYY-MM-DD"),chegada:D()(s.state.os.Data_Chegada).format("YYYY-MM-DD"),tipoServico:s.state.os.chave_tipo_servico,viagem:s.state.os.viagem,porto:s.state.os.porto,eta:D()(s.state.os.eta).format("YYYY-MM-DD"),atb:D()(s.state.os.atb).format("YYYY-MM-DD"),etb:D()(s.state.os.etb).format("YYYY-MM-DD HH:mm"),data_saida:"Invalid date"!=D()(s.state.os.Data_Saida).format("YYYY-MM-DD")?D()(s.state.os.Data_Saida).format("YYYY-MM-DD HH:mm"):"T.B.I.",encerramento:"Invalid date"!=D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD")?D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD"):"T.B.I.",faturamento:"Invalid date"!=D()(s.state.os.Data_Faturamento).format("YYYY-MM-DD")?D()(s.state.os.Data_Faturamento).format("YYYY-MM-DD"):"T.B.I.",envio:"Invalid date"!=D()(s.state.os.envio).format("YYYY-MM-DD")?D()(s.state.os.envio).format("YYYY-MM-DD"):"T.B.I.",centroCusto:s.state.os.centro_custo,roe:0==parseFloat(s.state.os.ROE)?"5.00000":s.state.os.ROE,comentario:s.state.os.Comentario_Voucher,encerradoPor:s.state.os.encerradoPor,faturadoPor:s.state.os.faturadoPor,cabecalho:s.state.os.cabecalho,empresa:s.state.os.Empresa,operador:s.state.os.operador});case 24:if("Invalid date"==D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD")){e.next=29;break}return e.next=27,s.setState({editavel:!1});case 27:e.next=31;break;case 29:return e.next=31,s.setState({editavel:!0});case 31:if(!s.state.cabecalho){e.next=35;break}try{o=JSON.parse(s.state.cabecalho)}catch(r){o=JSON.parse(s.state.cabecalho.replaceAll("\n","\\n").replaceAll("\t","\\t"))}return e.next=35,s.setState({company:o.company?o.company:"",address:o.address?o.address:"",CO:o.CO?o.CO:""});case 35:return e.next=37,s.loadAll();case 37:return e.next=39,s.getDadosCliente();case 39:if(0==s.state.chave){e.next=42;break}return e.next=42,s.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.descricao)},{titulo:"C\xf3digo",valor:C.a.formatForLogs(s.state.codigo)},{titulo:"Cliente",valor:C.a.formatForLogs(s.state.cliente,"options","","",s.state.pessoasOptions)},{titulo:"Navio",valor:C.a.formatForLogs(s.state.navio,"options","","",s.state.naviosOptions)},{titulo:"Data de Abertura",valor:C.a.formatForLogs(s.state.abertura,"date")},{titulo:"Data de Chegada",valor:C.a.formatForLogs(s.state.chegada,"date")},{titulo:"Tipo de Servico",valor:C.a.formatForLogs(s.state.tipoServico,"options","","",s.state.tiposServicosOptions)},{titulo:"Viagem",valor:C.a.formatForLogs(s.state.viagem)},{titulo:"Porto",valor:C.a.formatForLogs(s.state.porto,"options","","",s.state.portosOptions)},{titulo:"ETA",valor:C.a.formatForLogs(s.state.eta,"date")},{titulo:"ATB",valor:C.a.formatForLogs(s.state.atb,"date")},{titulo:"ETB",valor:C.a.formatForLogs(s.state.etb,"datetime")},{titulo:"Government Taxes",valor:C.a.formatForLogs(s.state.governmentTaxes,"money")},{titulo:"Bank Charges",valor:C.a.formatForLogs(s.state.bankCharges,"money")},{titulo:"Data de Saida",valor:C.a.formatForLogs(s.state.data_saida,"datetime")},{titulo:"Data de Encerramento",valor:C.a.formatForLogs(s.state.encerramento,"date")},{titulo:"Data de Faturamento",valor:C.a.formatForLogs(s.state.faturamento,"date")},{titulo:"Centro de Custo",valor:C.a.formatForLogs(s.state.centroCusto,"options","","",s.state.centrosCustosOptions)},{titulo:"ROE",valor:C.a.formatForLogs(s.state.roe)},{titulo:"Comentario Voucher",valor:C.a.formatForLogs(s.state.comentario)},{titulo:"Encerrado por",valor:C.a.formatForLogs(s.state.encerradoPor,"options","","",s.state.operadoresOptions)},{titulo:"Faturado por",valor:C.a.formatForLogs(s.state.faturadoPor,"options","","",s.state.operadoresOptions)},{titulo:"Operador",valor:C.a.formatForLogs(s.state.operador,"options","","",s.state.operadoresOptions)}]});case 42:"T.B.I."!=s.state.faturamento&&0!=s.state.chave?(n=!1,s.state.acessosPermissoes.map((function(e){"EVENTOS_FINANCEIRO"==e.acessoAcao&&1==e.permissaoEdita&&(n=!0)})),n||s.setState({faturado:!0})):s.setState({faturado:!1}),s.state.acessosPermissoes.map((function(e){("OS"==e.acessoAcao&&0==e.permissaoInsere&&0==s.state.chave||"OS"==e.acessoAcao&&0==e.permissaoEdita&&0!=s.state.chave)&&s.setState({bloqueado:!0})})),s.setState({loading:!1});case 45:case"end":return e.stop()}}),e)}))),s.componentDidUpdate=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.deleteSolicitao||s.state.modalItemAberto==a.modalItemAberto){e.next=3;break}return e.next=3,s.setState({modalItemAberto:!1,deleteSolicitao:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.calculaTotal=function(){var e=0;return s.state.eventos.map((function(t){0==t.tipo_sub||1==t.tipo_sub?5==t.Moeda?e+=parseFloat(t.valor):6==t.Moeda&&(e+=parseFloat(t.valor)*(0==parseFloat(s.state.os.ROE)?5:parseFloat(s.state.os.ROE))):5==t.Moeda?e-=parseFloat(t.valor):6==t.Moeda&&(e-=parseFloat(t.valor)*(0==parseFloat(s.state.os.ROE)?5:parseFloat(s.state.os.ROE)))})),s.state.bankCharges&&0!=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&(e+=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))),s.state.governmentTaxes&&0!=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&(e+=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))),s.setState({eventosTotal:e}),e},s.getDadosCliente=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getBody("getContatos.php",{token:!0,pessoa:s.state.cliente});case 2:t=e.sent,s.setState({bankCharges:!1,governmentTaxes:!1}),a=0;case 5:if(!(a<t.length)){e.next=24;break}if("BK"!=(o=t[a]).Tipo){e.next=20;break}if(!["SIM","S"].includes(o.Campo1.toUpperCase())){e.next=15;break}return e.next=11,w.a.getBody("getParametros.php",{token:!0,empresa:s.state.usuarioLogado.empresa});case 11:(n=e.sent)[0].bank_charges?s.setState({bankCharges:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(n[0].bank_charges)}):s.setState({bankCharges:"0,00"}),e.next=20;break;case 15:if(!C.a.verificaDatas(s.state.encerramento,o.Campo1)){e.next=20;break}return e.next=18,w.a.getBody("getParametros.php",{token:!0,empresa:s.state.usuarioLogado.empresa});case 18:(r=e.sent)[0].bank_charges?s.setState({bankCharges:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(r[0].bank_charges)}):s.setState({bankCharges:"0,00"});case 20:"GT"==o.Tipo&&(["SIM","S"].includes(o.Campo1.toUpperCase())?(l=0,s.state.eventos.filter((function(e){return 0!=e.Fornecedor_Custeio})).map((function(e){if(5==e.Moeda)l+=.05*parseFloat(e.valor);else if(6==e.Moeda){var t=5;s.state.os&&0!=parseFloat(s.state.os.ROE)&&(t=parseFloat(s.state.os.ROE)),l+=parseFloat(e.valor)*t*.05}})),s.setState({governmentTaxes:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l)})):C.a.verificaDatas(s.state.encerramento,o.Campo1)&&(i=0,s.state.eventos.filter((function(e){return 0!=e.Fornecedor_Custeio})).map((function(e){if(5==e.Moeda)i+=.05*parseFloat(e.valor);else if(6==e.Moeda){var t=5;s.state.os&&0!=parseFloat(s.state.os.ROE)&&(t=parseFloat(s.state.os.ROE)),i+=parseFloat(e.valor)*t*.05}})),s.setState({governmentTaxes:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)})));case 21:a++,e.next=5;break;case 24:s.calculaTotal();case 25:case"end":return e.stop()}}),e)}))),s.loadAll=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,w.a.getBaseOptions("getNavios.php","nome","chave");case 3:return e.t1=e.sent,e.next=6,w.a.getBaseOptionsCustomLabel("getClientes.php","Nome","Cnpj_Cpf","Chave");case 6:return e.t2=e.sent,e.next=9,w.a.getBaseOptions("getTiposServicos.php","descricao","chave");case 9:return e.t3=e.sent,e.next=12,w.a.getBaseOptions("getPortos.php","Descricao","Chave");case 12:return e.t4=e.sent,e.next=15,w.a.getBaseOptions("getTiposDocumento.php","Descricao","Chave");case 15:return e.t5=e.sent,e.next=18,w.a.getBaseOptions("getMoedas.php","Sigla","Chave");case 18:return e.t6=e.sent,e.next=21,w.a.getBase("getTiposAcessos.php");case 21:return e.t7=e.sent,e.next=24,w.a.getBase("getPermissoes.php");case 24:return e.t8=e.sent,e.t9={naviosOptions:e.t1,clientesOptions:e.t2,tiposServicosOptions:e.t3,portosOptions:e.t4,tiposDocumentoOptions:e.t5,moedasOptions:e.t6,acessos:e.t7,permissoes:e.t8},e.next=28,e.t0.setState.call(e.t0,e.t9);case 28:return e.next=30,w.a.getPlanosContasAnaliticasOptions();case 30:return(t=e.sent).unshift({value:"",label:"Select..."}),e.next=34,w.a.getMeiosPagamentosOptions();case 34:return(a=e.sent).unshift({value:"",label:"Select..."}),e.next=38,s.getOperadores();case 38:if(!s.state.chave){e.next=49;break}return e.next=41,s.getCusteiosSubagentes();case 41:return e.next=43,s.getInvoices();case 43:return e.next=45,s.getCentrosCustos();case 45:return e.next=47,s.getServicosItens();case 47:return e.next=49,s.getDocumentos();case 49:return e.next=51,s.getTemplates();case 51:return e.t10=s,e.t11=t,e.t12=a,e.next=56,w.a.testaAcesso(s.state.acessos,s.state.permissoes,s.state.usuarioLogado);case 56:return e.t13=e.sent,e.t14={planosContasOptions:e.t11,meiosPagamentosOptions:e.t12,acessosPermissoes:e.t13},e.next=60,e.t10.setState.call(e.t10,e.t14);case 60:console.log(s.state.acessosPermissoes);case 61:case"end":return e.stop()}}),e)}))),s.checkOsClosed=function(){return!s.state.editavel&&1!=s.state.acessosPermissoes.filter((function(e){if("OS_ENCERRADA"==e.acessoAcao)return e})).map((function(e){return e.permissaoEdita}))[0]},s.getCusteiosSubagentes=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCusteioSubagente.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data&&s.setState({custeios_subagentes:Object(r.a)(t.data)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getInvoices=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getInvoices.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data&&s.setState({invoices_groups:Object(r.a)(t.data)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.filterAgrupador=function(e){var t=[];if("INVOICE"==s.state.agrupadorTipo){if(0!=s.state.grupoSelecionado)return!1;if(s.state.agrupadorEventos[0]){if(s.state.invoices_groups.filter((function(e){return e.grupo!=s.state.grupoSelecionado})).map((function(e){return e.evento.split(",").map((function(e){t.push(e)}))})),t.includes(e.chave))return!1;var a=s.state.eventos.find((function(e){return e.chave==s.state.agrupadorEventos[0]}));if(e.voucher!=(null===a||void 0===a?void 0:a.voucher)||e.Fornecedor_Custeio!=(null===a||void 0===a?void 0:a.Fornecedor_Custeio))return!1}}if("CUSTEIO"==s.state.agrupadorTipo){if(s.state.custeios_subagentes.filter((function(e){return e.grupo!=s.state.grupoSelecionado})).map((function(e){return e.evento.split(",").map((function(e){t.push(e)}))})),t.includes(e.chave))return!1;if(!s.state.agrupadorEventos[0]&&!e.conta)return!0;var o=s.state.eventos.find((function(e){return e.chave==s.state.agrupadorEventos[0]}));if(e.tipo_sub!=(null===o||void 0===o?void 0:o.tipo_sub)||e.fornecedor!=(null===o||void 0===o?void 0:o.fornecedor))return!1}return!0},s.agruparEventos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=s.state.grupoSelecionado){e.next=5;break}return e.next=3,F.a.post("insertCusteioSubagente.php",{token:!0,os:s.state.chave,eventos:s.state.agrupadorEventos}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({agrupadorEventos:[]}),e.next=3,s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=7;break;case 5:return e.next=7,F.a.post("updateCusteioSubagente.php",{token:!0,os:s.state.chave,grupo:s.state.grupoSelecionado,eventos:s.state.agrupadorEventos}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({agrupadorEventos:[]}),e.next=3,s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)}))),s.abrirContabilizacao=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,l,i,u,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.state.eventos.filter((function(e){var a;return null===(a=s.state.custeios_subagentes.find((function(e){return e.grupo==t})))||void 0===a?void 0:a.evento.split(",").includes(e.chave)})),o=Object(r.a)(Array(a.length)).map((function(){return""})),l=[],i=[],u=Object(n.a)(a),e.prev=5,u.s();case 7:if((m=u.n()).done){e.next=62;break}if(1!=(p=m.value).tipo_sub){e.next=22;break}return e.t0=i,e.next=13,w.a.getContaTaxa(p.taxa);case 13:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=l,e.next=18,w.a.getContaPessoa(s.state.cliente);case 18:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=60;break;case 22:if(0!=p.tipo_sub){e.next=44;break}if(1!=p.repasse){e.next=36;break}return e.t4=i,e.next=27,w.a.getContaPessoa(p.fornecedor&&"0"!==p.fornecedor?p.fornecedor:p.Fornecedor_Custeio,"provisao");case 27:return e.t5=e.sent,e.t4.push.call(e.t4,e.t5),e.t6=l,e.next=32,w.a.getContaPessoa(s.state.cliente);case 32:e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.next=42;break;case 36:return e.t8=i,e.next=39,w.a.getContaPessoa(p.fornecedor&&"0"!==p.fornecedor?p.fornecedor:p.Fornecedor_Custeio,"provisao");case 39:e.t9=e.sent,e.t8.push.call(e.t8,e.t9),l.push("");case 42:e.next=60;break;case 44:if(2!=p.tipo_sub){e.next=53;break}return e.t10=i,e.next=48,w.a.getContaPessoa(s.state.cliente);case 48:e.t11=e.sent,e.t10.push.call(e.t10,e.t11),l.push(O.q),e.next=60;break;case 53:if(3!=p.tipo_sub){e.next=60;break}return e.t12=i,e.next=57,w.a.getContaPessoa(s.state.cliente);case 57:e.t13=e.sent,e.t12.push.call(e.t12,e.t13),l.push();case 60:e.next=7;break;case 62:e.next=67;break;case 64:e.prev=64,e.t14=e.catch(5),u.e(e.t14);case 67:return e.prev=67,u.f(),e.finish(67);case 70:s.setState({historico:o,codBarras:o,meioPagamento:o,meioPagamentoNome:o,darfPagamento:o,codigoReceita:o,contribuinte:o,codigoIdentificadorTributo:o,mesCompetNumRef:o,dataApuracao:o,darfValor:o,darfMulta:o,darfJuros:o,darfOutros:o,contaDebito:l,contaCredito:i,eventosContabilizando:a,contabiliza:!0,paginaContabiliza:0});case 71:case"end":return e.stop()}}),e,null,[[5,64,67,70]])})));return function(t){return e.apply(this,arguments)}}(),s.deleteGrupo=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var a=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},s.setState({modalItemAberto:!1}),h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este grupo?"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteCusteioSubagente.php",{token:!0,grupo:t,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("custeios_subagentes",s.state.usuarioLogado.codigo,null,"Exclus\xe3o",t);case 2:s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:a();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getTaxasOptions=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!s.state.taxas[0]){e.next=5;break}t=s.state.taxas,e.next=8;break;case 5:return e.next=7,F.a.post("getTaxas.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t=e.sent;case 8:if(s.setState({taxas:t}),0!=s.state.eventoTipo){e.next=15;break}return a=t.filter((function(e){return"P"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=13,s.setState({taxasOptions:a});case 13:e.next=24;break;case 15:if(1!=s.state.eventoTipo){e.next=21;break}return o=t.filter((function(e){return"R"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=19,s.setState({taxasOptions:o});case 19:e.next=24;break;case 21:return n=t.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=24,s.setState({taxasOptions:n});case 24:case"end":return e.stop()}}),e)}))),s.getFornecedores=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getFornecedores.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=5;break}return(a=t.data.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(C.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}}))).unshift({label:"Nenhum",value:"0"}),e.next=5,s.setState({fornecedoresOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getDescricaoPadrao=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getDescricaoPadrao.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=4;break}return a=t.data.map((function(e){return{label:e.descricao,value:e.descricao}})),e.next=4,s.setState({descricoesPadraoOptions:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.setItemEdit=Object(l.a)(c.a.mark((function e(){var t,a,o,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,a=n.length>1&&void 0!==n[1]&&n[1],e.next=4,s.setState({modalItemAberto:!1});case 4:return e.next=6,s.getTaxasOptions();case 6:if(s.state.fornecedoresOptions[0]){e.next=9;break}return e.next=9,s.getFornecedores();case 9:if(s.state.descricoesPadraoOptions[0]){e.next=12;break}return e.next=12,s.getDescricaoPadrao();case 12:if(!a){e.next=18;break}return o={data:t.data||s.state.eventoData,fornecedor:t.fornecedor||s.state.eventoFornecedor,Moeda:t.Moeda||s.state.eventoMoeda,taxa:t.taxa||s.state.eventoTaxa,descricao:t.descricao||s.state.eventoDescricao,tipo_sub:t.tipo_sub||s.state.eventoTipo,ordem:s.state.eventoOrdem,remarks:t.remarks||s.state.eventoRemarks,valor:t.valor||s.state.eventoValor,valor1:t.valor1||s.state.eventoVlrc,repasse:t.repasse||s.state.eventoRepasse,Fornecedor_Custeio:t.Fornecedor_Custeio||s.state.eventoFornecedorCusteio,chave:s.state.eventoChave,qntd:t.qntd||s.state.eventoQntd},e.next=16,s.setState({eventoData:o.data,eventoFornecedor:o.fornecedor,eventoMoeda:o.Moeda,eventoTaxa:o.taxa,eventoDescricao:o.descricao,eventoTipo:o.tipo_sub,eventoOrdem:o.ordem,eventoRemarks:o.remarks,eventoValor:Number(o.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor):"0,00",eventoVlrc:Number(o.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor1):"0,00",eventoRepasse:o.repasse,eventoFornecedorCusteio:o.Fornecedor_Custeio,eventoChave:o.chave,eventoQntd:Number(o.qntd),modalItemAberto:!0,itemNome:o.descricao,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)},{titulo:"Quantidade",valor:C.a.formatForLogs(s.state.eventoQntd)}],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",valor:o.data,obrigatorio:!0,tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",valor:o.ordem,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",valor:o.tipo_sub,obrigatorio:!0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:1==o.repasse,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",valor:o.taxa,obrigatorio:[0,1].includes(o.tipo_sub),tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",valor:o.fornecedor,obrigatorio:0==o.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:o.Fornecedor_Custeio,obrigatorio:1==o.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:o.descricao,tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",valor:o.descricao,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:o.Moeda,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:Number(o.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor):"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Quantidade",valor:Number(o.qntd),tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoQntd:Number(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Valor total",valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.qntd*o.valor),tipo:"text"},{titulo:"VCP",valor:Number(o.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor1):"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:o.remarks,tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 16:e.next=25;break;case 18:if(!t){e.next=23;break}return e.next=21,s.setState({eventoData:t.data||s.state.eventoData,eventoFornecedor:t.fornecedor,eventoMoeda:t.Moeda,eventoTaxa:t.taxa,eventoDescricao:t.descricao,eventoTipo:t.tipo_sub,eventoOrdem:t.ordem,eventoRemarks:t.remarks,eventoQntd:t.qntd,eventoValor:Number(t.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor):"0,00",eventoVlrc:Number(t.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor1):"0,00",eventoRepasse:t.repasse,eventoFornecedorCusteio:t.Fornecedor_Custeio,eventoChave:t.chave,modalItemAberto:!0,itemNome:t.descricao,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)},{titulo:"Quantidade",valor:C.a.formatForLogs(s.state.eventoQntd)}],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",valor:t.data,obrigatorio:!0,tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",valor:t.ordem,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",valor:t.tipo_sub,obrigatorio:!0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:1==t.repasse,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",valor:t.taxa,obrigatorio:[0,1].includes(t.tipo_sub),tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",valor:t.fornecedor,obrigatorio:0==t.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:t.Fornecedor_Custeio,obrigatorio:1==t.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:t.descricao,tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",valor:t.descricao,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:t.Moeda,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:Number(t.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor):"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Quantidade",valor:Number(t.qntd),tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoQntd:Number(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Valor total",valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.qntd*t.valor),tipo:"text"},{titulo:"VCP",valor:Number(t.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor1):"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:t.remarks,tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 21:e.next=25;break;case 23:return e.next=25,s.setState({eventoData:D()().format("YYYY-MM-DD"),eventoFornecedor:"",eventoMoeda:6,eventoTaxa:"",eventoDescricao:"",eventoTipo:0,eventoOrdem:"".concat(Math.floor(Math.max.apply(Math,Object(r.a)(s.state.eventos.map((function(e){return parseFloat(e.ordem)}))).concat([0])))+1),eventoRemarks:"",eventoQntd:1,eventoValor:"0,00",eventoVlrc:"0,00",eventoRepasse:!1,eventoFornecedorCusteio:"",modalItemAberto:!0,itemNome:"",eventoChave:0,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",obrigatorio:!0,valor:D()().format("YYYY-MM-DD"),tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",obrigatorio:!0,valor:"".concat(Math.floor(Math.max.apply(Math,Object(r.a)(s.state.eventos.map((function(e){return parseFloat(e.ordem)}))).concat([0])))+1),tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",obrigatorio:!0,valor:0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:!1,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",obrigatorio:!0,valor:"",tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",obrigatorio:!0,valor:"",tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:"",tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:"",tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",obrigatorio:!0,valor:"",tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:6,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Quantidade",valor:1,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoQntd:Number(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"VCP",valor:"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:"",tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 25:s.refs.focusMe&&s.refs.focusMe.focus();case 26:case"end":return e.stop()}}),e)}))),s.getServicosItens=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getServicosItensOs.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(r.a)(s.state.todosEventos),Object(r.a)(t.data)),(o=[].concat(Object(r.a)(s.state.eventos),Object(r.a)(t.data.filter((function(e){return 1!=e.cancelada}))))).find((function(e){return 0==e.Moeda}))&&s.setState({error:{type:"error",msg:"Foram encontrados eventos sem valor de moeda. Por favor contate o setor de desenvolvimento"}}),e.next=5,s.setState({eventos:o,todosEventos:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.erroApi(e)}));case 2:case"end":return e.stop()}}),e)}))),s.getDocumentos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getDocumentosOS.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(r.a)(s.state.documentos),Object(r.a)(t.data)),e.next=3,s.setState({documentos:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.erroApi(e)}));case 2:case"end":return e.stop()}}),e)}))),s.faturarData=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.anexosForn[0]){e.next=5;break}return e.next=3,s.setState({faturamento:t,faturadoPor:""!=t&&D()(t).isValid()?s.state.usuarioLogado.codigo:""});case 3:e.next=7;break;case 5:return e.next=7,s.setState({error:{type:"error",msg:"H\xe1 Faturas Pendentes!"}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.deleteServicoItem=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({deleteSolicitao:!0}),Object(L.confirmAlert)({customUI:function(e){var o=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},s.setState({modalItemAberto:!1}),h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este evento? (",a,") "),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteServicoItem.php",{token:!0,chave:t,canceladaPor:s.state.usuarioLogado.codigo}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.data){e.next=4;break}return e.next=3,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Cancelamento",t);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:o();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.deleteDocumento=function(){var e=Object(l.a)(c.a.mark((function e(t,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var n=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este Documento? (",a,") "),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteDocumento.php",{token:!0,chave:t,nome:o}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.data){e.next=4;break}return e.next=3,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,null,"Exclus\xe3o",t);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:n();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}(),s.getCodigo=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCodigos.php",{token:!0,tipo:"OS"}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({codigo:t.data[0]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getCentrosCustos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCentrosCustosLivres.php",{token:!0,os_chave:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({centrosCustos:t.data});case 2:return a=s.state.centrosCustos.map((function(e){return{label:"CC:".concat(e.Codigo," - ").concat(e.Descricao),value:e.Chave}})),(o=s.state.centrosCustos.find((function(e){return!s.state.centroCusto&&e.Codigo==s.state.codigo.slice(2)&&e.Codigo>=5850})))&&s.setState({centroCusto:o.Chave}),a.unshift({label:"--",value:""}),e.next=8,s.setState({centrosCustosOptions:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getOperadores=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getOperadores.php",{token:!0,empresa:s.state.usuarioLogado.empresa}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({operadores:t.data});case 2:return a=s.state.operadores.filter((function(e){return 1==e.ativo})).map((function(e){return{label:e.Nome,value:e.Codigo}})),e.next=5,s.setState({operadoresOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.finalizaSalvamento=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var t=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"OS salva!"),h.a.createElement("p",null,"Deseja criar mais?"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({recarregaPagina:!0});case 2:t();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)}))),s.getTemplates=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getEventosTemplates.php",{token:!0,empresa:s.state.usuarioLogado.empresa,offset:0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({templates:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getGruposTemplates=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.gruposTemplates[0]){e.next=3;break}return e.next=3,F.a.post("getGruposTemplates.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({gruposTemplates:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:s.setState({gruposTemplatesModal:!0});case 4:case"end":return e.stop()}}),e)}))),s.criarGrupoTemplates=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.state.grupoTemplate,(null===(a=n.templatesChaves)||void 0===a||null===(o=a.split("@.@"))||void 0===o?void 0:o.map((function(e){return s.state.templates.find((function(t){return t.chave==e}))}))).forEach(function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.state.eventos.length>0?parseFloat(null===(n=s.state.eventos[s.state.eventos.length-1])||void 0===n?void 0:n.ordem.replaceAll(",","."))+(a+1):a+1,e.next=3,F.a.post("insertServicoItemBasico.php",{token:!0,values:"'".concat(s.state.chave,"', '', '").concat(t.fornecedor,"', '").concat(t.taxa,"', '").concat(t.descricao,"', '").concat(t.tipo_sub,"', '").concat(t.Fornecedor_Custeio,"', '").concat(t.remarks,"', '").concat(t.Moeda,"', '").concat(t.valor,"', '").concat(t.valor1,"', '").concat(t.repasse,"', '").concat(t.qntd,"'"),chave_os:s.state.chave,ordem:o}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),t?s.salvarOS(t):s.setState({recarregaPagina:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.salvarOS=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,u,m,p=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(p.length>1&&void 0!==p[1])||p[1],s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=4,s.setState({governmentTaxes:s.state.governmentTaxes?s.state.governmentTaxes:0,bankCharges:s.state.bankCharges?s.state.bankCharges:0,dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.descricao)},{titulo:"C\xf3digo",valor:C.a.formatForLogs(s.state.codigo)},{titulo:"Cliente",valor:C.a.formatForLogs(s.state.cliente,"options","","",s.state.pessoasOptions)},{titulo:"Navio",valor:C.a.formatForLogs(s.state.navio,"options","","",s.state.naviosOptions)},{titulo:"Data de Abertura",valor:C.a.formatForLogs(s.state.abertura,"date")},{titulo:"Data de Chegada",valor:C.a.formatForLogs(s.state.chegada,"date")},{titulo:"Tipo de Servico",valor:C.a.formatForLogs(s.state.tipoServico,"options","","",s.state.tiposServicosOptions)},{titulo:"Viagem",valor:C.a.formatForLogs(s.state.viagem)},{titulo:"Porto",valor:C.a.formatForLogs(s.state.porto,"options","","",s.state.portosOptions)},{titulo:"ETA",valor:C.a.formatForLogs(s.state.eta,"date")},{titulo:"ATB",valor:C.a.formatForLogs(s.state.atb,"date")},{titulo:"ETB",valor:C.a.formatForLogs(s.state.etb,"datetime")},{titulo:"Government Taxes",valor:C.a.formatForLogs(s.state.governmentTaxes,"money")},{titulo:"Bank Charges",valor:C.a.formatForLogs(s.state.bankCharges,"money")},{titulo:"Data de Saida",valor:C.a.formatForLogs(s.state.data_saida,"datetime")},{titulo:"Data de Encerramento",valor:C.a.formatForLogs(s.state.encerramento,"date")},{titulo:"Data de Faturamento",valor:C.a.formatForLogs(s.state.faturamento,"date")},{titulo:"Centro de Custo",valor:C.a.formatForLogs(s.state.centroCusto,"options","","",s.state.centrosCustosOptions)},{titulo:"ROE",valor:C.a.formatForLogs(s.state.roe)},{titulo:"Comentario Voucher",valor:C.a.formatForLogs(s.state.comentario)},{titulo:"Encerrado por",valor:C.a.formatForLogs(s.state.encerradoPor,"options","","",s.state.operadoresOptions)},{titulo:"Faturado por",valor:C.a.formatForLogs(s.state.faturadoPor,"options","","",s.state.operadoresOptions)},{titulo:"Operador",valor:C.a.formatForLogs(s.state.operador,"options","","",s.state.operadoresOptions)}],loading:!0,bloqueado:!0});case 4:if(0!==parseInt(s.state.chave)||!t){e.next=13;break}return e.next=7,s.getCodigo();case 7:return m=(m=null===(o=s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})))||void 0===o?void 0:o.label).split(" ")[0],e.next=11,F.a.post("insertOS.php",{token:!0,values:"'".concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.descricao,"', 'ST").concat(s.state.codigo.Proximo,"', '").concat(s.state.cliente,"', '").concat(s.state.navio,"', '").concat(D()(s.state.abertura).format("YYYY-MM-DD"),"', '").concat(D()(s.state.chegada).format("YYYY-MM-DD"),"', '").concat(D()(s.state.data_saida).format("YYYY-MM-DD HH:mm"),"', '").concat(s.state.tipoServico,"', '").concat(s.state.viagem,"', '").concat(s.state.porto,"', '").concat(s.state.encerradoPor,"', '").concat(s.state.faturadoPor,"', '").concat(s.state.empresa,"', '").concat(s.state.eta,"', '").concat(s.state.atb,"', '").concat(s.state.etb,"', '").concat(s.state.governmentTaxes?parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",",".")):0,"', '").concat(s.state.bankCharges?parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",",".")):0,"', '").concat(s.state.operador,"', '").concat(s.state.envio,"'"),codigo:s.state.codigo.Proximo,tipo:s.state.codigo.Tipo,navio:null===(n=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===n?void 0:n.label,tipoServico:null===(r=s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})))||void 0===r?void 0:r.label,cliente:m,clienteChave:s.state.cliente,porto:null===(u=s.state.portosOptions.find((function(e){return e.value==s.state.porto})))||void 0===u?void 0:u.label}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0].Chave){e.next=12;break}return e.next=3,s.setState({codigo:t.data[0].codigo,chave:t.data[0].Chave,os:t.data[0]});case 3:return e.next=5,s.GerarEtiqueta(t.data[0].codigo,!0);case 5:return e.next=7,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].Chave);case 7:return e.next=9,s.setState({loading:!1,bloqueado:!1});case 9:s.setState({recarregaPagina:a}),e.next=13;break;case 12:console.log(t.data);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:e.next=28;break;case 13:if(!t){e.next=28;break}if(!(parseInt(s.state.codigo.slice(2))>=5850)||s.state.navio==s.state.os.chave_navio&&s.state.porto==s.state.os.porto&&s.state.cliente==s.state.os.Chave_Cliente&&s.state.tipoServico==s.state.os.tipo_servico){e.next=18;break}return e.next=18,s.mudarCentroCusto();case 18:if(!s.state.faturamento||!D()(s.state.faturamento).isValid()){e.next=23;break}return e.next=21,s.faturaOS();case 21:e.next=26;break;case 23:if(s.state.faturamento){e.next=26;break}return e.next=26,s.checkAndDeleteContaOS();case 26:return e.next=28,F.a.post("updateOS.php",{token:!0,Chave:s.state.chave,Descricao:s.state.descricao,Codigo:s.state.codigo,Chave_Cliente:s.state.cliente,chave_navio:s.state.navio,Data_Abertura:s.state.abertura?D()(s.state.abertura).format("YYYY-MM-DD"):"",Data_Chegada:s.state.chegada?D()(s.state.chegada).format("YYYY-MM-DD"):"",chave_tipo_servico:s.state.tipoServico,viagem:s.state.viagem,porto:s.state.porto,eta:s.state.eta?D()(s.state.eta).format("YYYY-MM-DD"):"",atb:s.state.atb?D()(s.state.atb).format("YYYY-MM-DD"):"",etb:s.state.etb?D()(s.state.etb).format("YYYY-MM-DD HH:mm"):"",Data_Saida:s.state.data_saida?D()(s.state.data_saida).format("YYYY-MM-DD HH:mm"):"",Data_Encerramento:s.state.encerramento?D()(s.state.encerramento).format("YYYY-MM-DD"):"",Data_Faturamento:s.state.faturamento?D()(s.state.faturamento).format("YYYY-MM-DD"):"",centro_custo:s.state.centroCusto,ROE:s.state.roe,Comentario_Voucher:s.state.comentario,encerradoPor:s.state.encerradoPor,faturadoPor:s.state.faturadoPor,Empresa:s.state.empresa,governmentTaxes:s.state.governmentTaxes?parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",",".")):0,bankCharges:s.state.bankCharges?parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",",".")):0,operador:s.state.operador,envio:s.state.envio}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=8;break}return e.next=3,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,s.state.dadosIniciais,s.state.dadosFinais,s.state.chave,"OS: ".concat(s.state.codigo));case 3:return e.next=5,s.setState({loading:!1,bloqueado:!1,governmentTaxes:!!s.state.governmentTaxes&&s.state.governmentTaxes,bankCharges:!!s.state.bankCharges&&s.state.bankCharges});case 5:a&&window.location.reload(),e.next=10;break;case 8:return e.next=10,alert("Erro ".concat(JSON.stringify(t)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.faturaOS=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,a=0,o=0,n=0,s.state.eventos.map((function(e){3==e.tipo_sub&&0==e.cancelada?5==e.Moeda?o+=parseFloat(e.valor):6==e.Moeda&&(o+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))):2==e.tipo_sub?5==e.Moeda?n+=parseFloat(e.valor):6==e.Moeda&&(n+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))):[3,2].includes(e.tipo_sub)||0!=e.cancelada||0==e.repasse&&0==e.Fornecedor_Custeio||(5==e.Moeda?t+=parseFloat(e.valor):6==e.Moeda&&(t+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))))})),s.state.bankCharges&&0!=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&(t+=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))),s.state.governmentTaxes&&0!=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&(t+=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))),r="",a=t-(o+n),s.state.contaOs){e.next=15;break}return 0!=o&&(r="'0', '".concat(parseFloat(o),"', 'Desconto de ").concat(s.state.codigo,"', 'DESCONTO'")),e.next=13,F.a.post("insertContaOS.php",{token:!0,values:"'".concat(s.state.chave,"', '").concat(D()(s.state.faturamento).format("YYYY-MM-DD"),"', '0', '").concat(s.state.cliente,"', '0', '0', '").concat(s.state.centroCusto,"', '',  0,1, 1, '").concat(parseFloat("".concat(t)),"', '").concat(parseFloat("".concat(a)),"', '', '', '",0,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.empresa,"', 0, 0, 0, ''"),valuesRet:r,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:e.next=17;break;case 15:return e.next=17,F.a.post("updateContaOS.php",{token:!0,chave_conta:null===(i=s.state.contaOs)||void 0===i?void 0:i.Chave,Lancto:D()(s.state.faturamento).format("YYYY-MM-DD"),Pessoa:s.state.cliente,Centro_Custo:s.state.centroCusto,Valor:parseFloat(t),Saldo:parseFloat(a),Operador:s.state.usuarioLogado.codigo,Empresa:s.state.empresa,valuesRet:parseFloat(o)}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)}))),s.checkAndDeleteContaOS=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("checkAndDeleteContaOS.php",{token:!0,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.mudarCentroCusto=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=null===(t=s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})))||void 0===t?void 0:t.label).split(" ")[0],i=parseInt(s.state.codigo.slice(2)),e.next=5,F.a.post("updateCentroCustoFromOS.php",{token:!0,Chave:s.state.centroCusto,OSCodigo:i,Descricao:"".concat(s.state.codigo,", ").concat(null===(a=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===a?void 0:a.label," - ").concat(null===(o=s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})))||void 0===o?void 0:o.label," - ").concat(r," - ").concat(null===(n=s.state.portosOptions.find((function(e){return e.value==s.state.porto})))||void 0===n?void 0:n.label),Cliente:s.state.cliente}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)}))),s.calculaValorTotal=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.valoresOS(s.state.chave);case 2:return t=e.sent,a=0,t[0].governmentTaxes>0&&(a+=parseFloat(t[0].governmentTaxes)),t[0].bankCharges>0&&(a+=parseFloat(s.state.pdfContent[0].bankCharges)),t.map((function(e,t){5==e.moeda?a+=parseFloat(e.valor):a+=C.a.toFixed(parseFloat(e.valor*s.state.roe),2)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),s.salvarConta=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),s.setState({loading:!0,contabiliza:!1}),t=[],s.state.eventosContabilizando.forEach((function(e,a){var o,n,r=t.findIndex((function(t){return e.desconto_conta==t.desconto_conta&&e.retencao_inss==t.retencao_inss&&e.retencao_ir==t.retencao_ir&&e.retencao_iss==t.retencao_iss&&e.retencao_csll==t.retencao_csll&&s.state.historico[a]==t.historico&&s.state.historicoPadrao[a]==t.historicoPadrao&&s.state.codBarras[a]==t.codBarras&&s.state.contaDebito[a]==t.contaDebito&&s.state.contaCredito[a]==t.contaCredito&&s.state.meioPagamento[a]==t.meioPagamento&&s.state.codigoReceita[a]==t.codigoReceita&&s.state.contribuinte[a]==t.contribuinte&&s.state.codigoIdentificadorTributo[a]==t.codigoIdentificadorTributo&&s.state.mesCompetNumRef[a]==t.mesCompetNumRef&&s.state.dataApuracao[a]==t.dataApuracao&&s.state.darfValor[a]==t.darfValor&&s.state.darfPagamento[a]==t.darfPagamento&&s.state.darfMulta[a]==t.darfMulta&&s.state.darfJuros[a]==t.darfJuros&&s.state.darfOutros[a]==t.darfOutros}));-1!=r?(t[r].eventos.push(Object(i.a)({},e)),t[r].vcp+=parseFloat(e.valor1)):t.push((n={valuesLancto:"'".concat(D()().format("YYYY-MM-DD"),"', '").concat(e.tipo_documento?e.tipo_documento:"","', '").concat(s.state.centroCusto,"', '").concat(s.state.historicoPadrao[a],"', '").concat(s.state.cliente,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(D()().format("YYYY-MM-DD"),"', '").concat(D()().format("YYYY-MM-DD"),"', '0', '0', '0'"),valuesConta:"'".concat(D()(e.emissao?e.emissao:"").format("YYYY-MM-DD"),"', '").concat(0==e.tipo_sub?1:0,"', '").concat(e.fornecedor,"', '").concat(0==s.state.tipo_sub?s.state.contaCredito[a]:s.state.contaDebito[a],"', '").concat(s.state.codBarras[a],"', '").concat(s.state.centroCusto,"', '").concat(s.state.historico[a],"', '").concat(0==s.state.tipo_sub?s.state.contaDebito[a]:s.state.contaCredito[a],"', '1', '1', '").concat(e.vencimento,"', '").concat(e.vencimento,"', '', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.empresa,"', '").concat(e.documento,"', '").concat(e.tipo_documento,"', '").concat(s.state.meioPagamento[a],"', '").concat(e.chave,"'"),valuesDarf:!!["DARF","GPS","GRU","PIX"].includes(s.state.meioPagamentoNome[a])&&"'".concat(s.state.codigoReceita[a],"', '").concat(s.state.contribuinte[a],"', '").concat(s.state.codigoIdentificadorTributo[a],"', '").concat(s.state.mesCompetNumRef[a],"', '").concat(D()(s.state.dataApuracao[a]).format("YYYY-MM-DD"),"', '").concat(parseFloat(s.state.darfValor[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfMulta[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfJuros[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfOutros[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfPagamento[a].replaceAll(".","").replaceAll(",",".")),"'"),eventos:[Object(i.a)({},e)],vcp:parseFloat(e.valor1),desconto_conta:e.desconto_conta,retencao_inss:e.retencao_inss,retencao_ir:e.retencao_ir,retencao_iss:e.retencao_iss,retencao_csll:e.retencao_csll,contaDebito:s.state.contaDebito[a],contaCredito:s.state.contaCredito[a],chave:null===(o=s.state.custeios_subagentes.find((function(e){return e.grupo==s.state.grupoSelecionado})))||void 0===o?void 0:o.chave_grupo,historico:s.state.historico[a],historicoPadrao:s.state.historicoPadrao[a],codBarras:s.state.codBarras[a]},Object(v.a)(n,"contaDebito",s.state.contaDebito[a]),Object(v.a)(n,"contaCredito",s.state.contaCredito[a]),Object(v.a)(n,"meioPagamento",s.state.meioPagamento[a]),Object(v.a)(n,"meioPagamentoNome",s.state.meioPagamentoNome[a]),Object(v.a)(n,"codigoReceita",s.state.codigoReceita[a]),Object(v.a)(n,"contribuinte",s.state.contribuinte[a]),Object(v.a)(n,"codigoIdentificadorTributo",s.state.codigoIdentificadorTributo[a]),Object(v.a)(n,"mesCompetNumRef",s.state.mesCompetNumRef[a]),Object(v.a)(n,"dataApuracao",s.state.dataApuracao[a]),Object(v.a)(n,"darfValor",s.state.darfValor[a]),Object(v.a)(n,"darfPagamento",s.state.darfPagamento[a]),Object(v.a)(n,"darfMulta",s.state.darfMulta[a]),Object(v.a)(n,"darfJuros",s.state.darfJuros[a]),Object(v.a)(n,"darfOutros",s.state.darfOutros[a]),n))})),e.next=6,F.a.post("contabilizaCusteioSubagente.php",{token:!0,grupos:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=5;break}return e.next=3,s.setState({loading:!1});case 3:e.next=7;break;case 5:return e.next=7,alert("Erro ".concat(JSON.stringify(t)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),s.salvarCabecalho=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=3,s.setState({loading:!0,cabecalhoModal:!1});case 3:return t='{"company": "'.concat(s.state.company.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'", "address": "').concat(s.state.address.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'", "CO": "').concat(s.state.CO.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'"}'),e.next=6,F.a.post("updateOSCabecalho.php",{token:!0,Chave:s.state.chave,cabecalho:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=5;break}return e.next=3,s.setState({loading:!1});case 3:e.next=7;break;case 5:return e.next=7,alert("Erro ".concat(JSON.stringify(t)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),s.erroApi=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert(t),e.next=3,s.setState({redirect:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},s.filterSearchCentroCusto=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)||e.value.toUpperCase().includes(a)},s.alteraModal=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({modal:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraNavio=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getNavios.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getNavios.php","nome","chave");case 7:return e.t3=e.sent,e.t4={navio:e.t1,modalAberto:!1,navios:e.t2,naviosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraPorto=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getPortos.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getPortos.php","Descricao","Chave");case 7:return e.t3=e.sent,e.t4={porto:e.t1,modalAberto:!1,portos:e.t2,portosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraCliente=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!=a.split("")[0]){e.next=5;break}return e.next=3,s.setState({cliente:t});case 3:return e.next=5,s.getDadosCliente();case 5:return e.t0=s,e.next=8,w.a.getBase("getClientes.php");case 8:return e.t1=e.sent,e.next=11,w.a.getBaseOptions("getClientes.php","Nome","Chave");case 11:return e.t2=e.sent,e.t3={modalAberto:!1,clientes:e.t1,clientesOptions:e.t2},e.next=15,e.t0.setState.call(e.t0,e.t3);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.alteraTipoServico=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getTiposServicos.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getTiposServicos.php","descricao","chave");case 7:return e.t3=e.sent,e.t4={tipoServico:e.t1,modalAberto:!1,tiposServicos:e.t2,tiposServicosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraCentroCusto=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({centroCusto:t});case 2:return e.next=4,s.setState({modalAberto:!1});case 4:return e.next=6,s.getCentrosCustos();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.CapaVoucher=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,i,u,m,p,d,v,f,g,b,E,x,N;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Capa".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.next=10,s.setState({loading:!0});case 10:return e.next=12,F.a.post("getCapaVoucher.php",{token:!0,codigo:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({pdfContent:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:if(s.state.pdfContent&&s.state.pdfContent[0]){e.next=14;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 14:if(!s.state.pdfContent.find((function(e){return!e.chavTaxa&&[0,1].includes(e.tipo)}))){e.next=16;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 16:if(o=[],s.state.pdfContent.filter((function(e){return 2!=e.tipo})).map((function(e){o.includes(e.chavTaxa)||o.push(e.chavTaxa)})),n="#ffffff",r="",s.state.pdfContent[0]&&(r=s.state.operadores.filter((function(e){return e.Codigo==s.state.pdfContent[0].faturadoPor}))[0]),i="",u=0,m=0,p=0,d=0,v=0,f=0,g=C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].cliente),b="".concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].complemento)," ").concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].rua)," ").concat(s.state.pdfContent[0].numero&&"0"!=s.state.pdfContent[0].numero?s.state.pdfContent[0].numero:""," ").concat(s.state.pdfContent[0].cep&&"0"!=s.state.pdfContent[0].cep?s.state.pdfContent[0].cep:""),s.state.pdfContent[0].cabecalho){try{x=JSON.parse(s.state.pdfContent[0].cabecalho)}catch(w){x=JSON.parse(null===(N=s.state.pdfContent[0].cabecalho)||void 0===N?void 0:N.replaceAll("\n","\\n").replaceAll("\t","\\t"))}x.company&&(g=x.company),x.address&&(b=x.address),x.CO&&(E=x.CO)}if((s.state.pdfContent[0].GT&&["SIM","S"].includes(s.state.pdfContent[0].GT.toUpperCase())||C.a.verificaDatas(s.state.pdfContent[0].data_encerramento,s.state.pdfContent[0].GT))&&(u+=parseFloat(s.state.pdfContent[0].governmentTaxes),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].governmentTaxes/s.state.pdfContent[0].roe),2)),(s.state.pdfContent[0].BK&&["SIM","S"].includes(s.state.pdfContent[0].BK.toUpperCase())||C.a.verificaDatas(s.state.pdfContent[0].data_encerramento,s.state.pdfContent[0].BK))&&(u+=parseFloat(s.state.pdfContent[0].bankCharges),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].bankCharges/s.state.pdfContent[0].roe),2)),!s.state.pdfContent[0]){e.next=37;break}i=h.a.createElement("div",{key:546546554654},h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},h.a.createElement("b",null,"AGENT DISBURSEMENT ACCOUNT")),h.a.createElement("h4",{style:{width:"100%",textAlign:"center"}},"SULTRADE SHIPPING AGENCY"),h.a.createElement("div",{className:"voucherImagem"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/n69ZD86/logo-Vertical.png",alt:"logo-lpc",border:"0",style:{width:"130px",height:"100px"}})),h.a.createElement("br",null),h.a.createElement("div",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("table",null,h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Company:")," ",g)),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Address:")," ",b)),E&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"C/O:")," ",E)),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Vessel Name:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomeNavio))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Name of Port:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomePorto))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Arrived:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_chegada).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_chegada).format("MMMM DD, YYYY"):"T.B.I.")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Sailed:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_saida).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_saida).format("MMMM DD, YYYY"):"T.B.I.")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:2,className:"pdf_large_col"},h.a.createElement("b",null,"Date of Billing:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_faturamento).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_faturamento).format("MMMM DD, YYYY"):"T.B.I."),h.a.createElement("td",{colSpan:2,className:"pdf_money_col"},h.a.createElement("b",null,"PO:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].codigo))))),h.a.createElement("br",null),h.a.createElement("div",{className:"pdfContent"},h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("table",{className:"voucherTable"},h.a.createElement("tr",null,h.a.createElement("td",{className:"pdfTitle",style:{width:75}},"Voucher"),h.a.createElement("td",{colSpan:"3",className:"pdfTitle"},"Description"),h.a.createElement("td",{colSpan:"2",className:"pdfTitle"},"Expense Type"),h.a.createElement("td",{className:"pdfTitle"},"Final USD"),h.a.createElement("td",{className:"pdfTitle"},"Final BRL")),o.map((function(e,t){var a=s.state.pdfContent.find((function(t){return t.chavTaxa==e}));n=t%2==0?"#FFFFFF":"#BBBBBB";var o=0;return a.chavTaxa?h.a.createElement(h.a.Fragment,null,s.state.pdfContent.filter((function(t){return 2!=t.tipo&&3!=t.tipo&&t.chavTaxa==e&&(t.repasse||t.faturamentoCusteio)})).map((function(e,t){3!=e.tipo?5==e.moeda?(o+=parseFloat(e.valor),u+=parseFloat(e.valor),m+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(o+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),u+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),m+=parseFloat(e.valor)):5==e.moeda?(o-=parseFloat(e.valor),p+=parseFloat(e.valor),d+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(o-=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),p+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),d+=parseFloat(e.valor))})),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col reduce_font",style:{backgroundColor:n}},a.chavTaxa),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col reduce_font",style:{backgroundColor:n}},a.descSubgrupo),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col reduce_font",style:{backgroundColor:n}},a.descGrupo),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{backgroundColor:n}},C.a.formataDinheiroBrasileiro(parseFloat(o/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{backgroundColor:n}},C.a.formataDinheiroBrasileiro(parseFloat(o))))):h.a.createElement(h.a.Fragment,null)})),s.state.pdfContent[0].GT&&(["SIM","S"].includes(s.state.pdfContent[0].GT.toUpperCase())||C.a.verificaDatas(s.state.pdfContent[0].data_encerramento,s.state.pdfContent[0].GT))&&h.a.createElement("tr",null,h.a.createElement("td",null),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col",style:{fontWeight:"bold"}},"GOVERNMENT TAXES"),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col",style:{fontWeight:"bold"}}),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes)))),s.state.pdfContent[0].BK&&(["SIM","S"].includes(s.state.pdfContent[0].BK.toUpperCase())||C.a.verificaDatas(s.state.pdfContent[0].data_encerramento,s.state.pdfContent[0].BK))&&h.a.createElement("tr",null,h.a.createElement("td",null),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col",style:{fontWeight:"bold"}},"BANK CHARGES"),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col",style:{fontWeight:"bold"}}),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges)))),s.state.pdfContent.filter((function(e){return 3==e.tipo})).map((function(e){5==e.moeda?(p+=parseFloat(e.valor),d+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(p+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),d+=parseFloat(e.valor))})),s.state.pdfContent.filter((function(e){return 2==e.tipo})).map((function(e){5==e.moeda?(v+=parseFloat(e.valor),f+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(v+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),f+=parseFloat(e.valor))}))),h.a.createElement("br",null),h.a.createElement("table",{className:"voucherTableFinal"},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdfTitle pdf_small_col"},"Total Final Costs"),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(m))),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(u)))),parseFloat(v)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdf_small_col"},"Funds Received"),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(f))),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(v)))),parseFloat(p)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdf_small_col"},"Discount"),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(d))),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(p)))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdfTitle pdf_small_col"},"Final Blce/Debit Customer"),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(m)-parseFloat(d)-parseFloat(f))),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(u)-parseFloat(p)-parseFloat(v))))),h.a.createElement("table",{className:"pdfTable",style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},"ISSUED BY:"),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"},colSpan:"2"},r?r.Nome:""),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},"ROE:"),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].roe.replaceAll(".",","))))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),h.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account number:")," ","161441-X")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," ","10.432.546/0001-75")))))),e.next=40;break;case 37:return e.next=39,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para criar o pdf",loading:!1});case 39:return e.abrupt("return");case 40:return e.next=42,s.setState({pdfgerado:i});case 42:s.handleExportWithComponent(),e.next=49;break;case 45:return e.prev=45,e.t0=e.catch(0),e.next=49,s.setState({erro:"Erro ao criar pdf",loading:!1});case 49:case"end":return e.stop()}}),e,null,[[0,45]])})));return function(t,a){return e.apply(this,arguments)}}(),s.FaturamentoCusteio=function(){var t=Object(l.a)(c.a.mark((function t(a,o){var n,l,u,m,p,d,v,f,h,g,b,E,x,N,O,S,k,y,j,F,A,T,P,D,_,L,I,M,R;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=5;break}return t.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return t.abrupt("return");case 5:return t.next=7,s.salvarOS(o,!1);case 7:return s.setState({pdfNome:"Relatorio L\xedquidos".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),t.t0=s,t.next=11,w.a.getBody("faturamentoCusteio.php",{token:!0,codigo:a});case 11:return t.t1=t.sent,t.t2={loading:!0,pdfContent:t.t1},t.next=15,t.t0.setState.call(t.t0,t.t2);case 15:if(s.state.pdfContent&&s.state.pdfContent[0]){t.next=17;break}return t.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 17:if(0,0,0,0,0,n=[],l=[],[],"",u=V.a.utils.book_new(),m=V.a.utils.json_to_sheet([]),V.a.utils.book_append_sheet(u,m,"FATURAMENTOS"),p=["Evento","Conta","Valor \xe0 Cobrar","Valor Pago","Valor L\xedquido"],d=[{titulo:"VALOR DA NF A SER EMITIDA",blank:"",valor_a_cobrar:"",valor_pago:"",valor_liquido:""}],v=[{_0:"",_1:"",_2:"",_3:"",_4:""}],f=[{wch:75},{wch:15},{wch:15},{wch:15},{wch:15}],m["!cols"]=f,h=0,g=4,b=[],E=[],x=[],N=[],O=[],S=[],k=[],y=[],j=[],F=[],A=[],T=[],P=[],D=[],_=s.state.pdfContent,L=[],I=[],M=[],_[0]){t.next=58;break}return t.next=57,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o documento!",loading:!1});case 57:return t.abrupt("return");case 58:if(_.map((function(e){1==e.repasse?M.push(e):L.includes(e.fornecedor_custeio)||(L.push(e.fornecedor_custeio),I.push(e.fornecedor_custeioCodigo))})),R=5,_[0].ROE&&0!=_[0].ROE&&(R=_[0].ROE),console.log(_,"pdfContent"),console.log("\n\n\n\n\n\n\n"),console.log(L,"pdfCusteio"),console.log(I,"pdfCusteioCodigo"),console.log(M,"pdfRepasse"),!_){t.next=70;break}return t.delegateYield(c.a.mark((function t(){var a,o,f,w,B,q,Y,U,z,G,W,H,X,J,$,K,Q,Z,ee,te,ae,oe,ne,re,se,ce,le,ie,ue;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(L.map((function(e,t){if(0,0,0,0,e){var a=["NAVIO ".concat(_[0].nome_navio?_[0].nome_navio.toUpperCase():""),"","","","ROE: ".concat(R)],o=["FATURAMENTO ".concat(e),"","","",""];0==h?(V.a.utils.sheet_add_aoa(m,[a,o,p]),y.push(h),b.push(h+1),y.push(h+2),h+=3):(V.a.utils.sheet_add_aoa(m,[o,p],{skipHeader:!0,origin:-1}),b.push(h),y.push(h+1),h+=2);var s=[];["17","16"].includes(I[t])?_.map((function(a,o){if(a.fornecedor_custeio==e){var c=a.valor_cobrar,l=a.valor_pago;6==a.moeda&&(c=C.a.toFixed(parseFloat(c)*parseFloat(R),2)),parseFloat(a.fornecedor_custeio==e?0:l),parseFloat(a.fornecedor_custeio==e?c:0),parseFloat(a.fornecedor_custeio==e?c:-l),a.fornecedor_custeio==e?c:0,n[0]&&n.find((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]}))?n=n.map((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]?Object(i.a)(Object(i.a)({},e),{},{row:[].concat(Object(r.a)(e.row),[h])}):Object(i.a)({},e)})):n.push({conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod,row:[h],custeioCodigo:I[t],custeioNome:L[t]}),s.push({evento:a.evento.trim(),conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod?a.contaCod:"",valor_a_cobrar:a.fornecedor_custeio==e?parseFloat(c):0,valor_pago:parseFloat(l),valor_liquido:""}),x.push(h),h++}else if(0==(null===a||void 0===a?void 0:a.repasse)){var u=0,m=a.valor_pago;6==a.moeda&&(u=C.a.toFixed(parseFloat(u)*parseFloat(R),2)),parseFloat(a.fornecedor_custeio==e?0:m),parseFloat(a.fornecedor_custeio==e?u:0),parseFloat(a.fornecedor_custeio==e?u:-m),a.fornecedor_custeio==e?u:0,n[0]&&n.find((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]}))?n=n.map((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]?Object(i.a)(Object(i.a)({},e),{},{row:[].concat(Object(r.a)(e.row),[h])}):Object(i.a)({},e)})):n.push({conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod,row:[h],custeioCodigo:I[t],custeioNome:L[t]}),s.push({evento:a.evento.trim(),conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod?a.contaCod:"",valor_a_cobrar:a.fornecedor_custeio==e?parseFloat(u):0,valor_pago:parseFloat(m),valor_liquido:""}),x.push(h),h++}})):_.filter((function(t){return t.fornecedor_custeio==e})).map((function(e,a){var o=e.valor_cobrar,c=e.valor_pago;269!=(null===e||void 0===e?void 0:e.fornecedor_custeioCodigo)&&32!=(null===e||void 0===e?void 0:e.fornecedor_custeioCodigo)||(c=0),6==e.moeda&&(o=C.a.toFixed(parseFloat(o)*parseFloat(R),2)),parseFloat(o),parseFloat(c);var l=parseFloat(o)-parseFloat(c);l,parseFloat(o),parseFloat(o),n[0]&&n.find((function(a){return a.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&a.custeioCodigo==I[t]}))?n=n.map((function(a){return a.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&a.custeioCodigo==I[t]?Object(i.a)(Object(i.a)({},a),{},{row:[].concat(Object(r.a)(a.row),[h])}):Object(i.a)({},a)})):n.push({conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod,row:[h],custeioCodigo:I[t],custeioNome:L[t]}),s.push({evento:e.evento.trim(),conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod?e.contaCod:"",valor_a_cobrar:parseFloat(o),valor_pago:parseFloat(c),valor_liquido:""}),x.push(h),h++})),V.a.utils.sheet_add_json(m,s,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++,V.a.utils.sheet_add_json(m,d,{skipHeader:!0,origin:-1}),k.push(h),h++,V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++}})),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,[{title:"TOTAL CONSOLIDADO",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),j.push(h+1),D.push(h+2),h+=3,M[0]&&(o=["DESPESAS PARA REPASSE","","","",""],V.a.utils.sheet_add_aoa(m,[o,p],{skipHeader:!0,origin:-1}),b.push(h),y.push(h+1),h+=2,M.map((function(e,t){0,0,0,0;var a=[],o=e.valor_cobrar,s=e.valor_pago;6==e.moeda&&(o=C.a.toFixed(parseFloat(o)*parseFloat(R),2)),parseFloat(o),parseFloat(s);var c=parseFloat(o)-parseFloat(s);c,parseFloat(o),parseFloat(o),n[0]&&n.find((function(t){return t.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&0==t.custeioCodigo}))?n=n.map((function(t){return t.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&0==t.custeioCodigo?Object(i.a)(Object(i.a)({},t),{},{row:[].concat(Object(r.a)(t.row),[h])}):Object(i.a)({},t)})):n.push({conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod,row:[h],custeioCodigo:0,custeioNome:"Despesas para Repasse"}),a.push({evento:e.evento.trim(),conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod?e.contaCod:"",valor_a_cobrar:parseFloat(s),valor_pago:parseFloat(s),valor_liquido:""}),N.push(h),h++,V.a.utils.sheet_add_json(m,a,{skipHeader:!0,origin:-1})})),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++,V.a.utils.sheet_add_json(m,d,{skipHeader:!0,origin:-1}),k.push(h),h++,V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++),V.a.utils.sheet_add_json(m,[{title:"TOTAL DO CUSTEIO SEM BANK CHARGES E GOVERNMENT TAXES",_1:"",_2:"",_3:"",_4:""},{title:"BANK CHARGES + GOVERNMENT TAXES (C. DESPESAS RECUPERADAS)",_1:"",_2:"",_3:"",_4:""},{title:"TOTAL FINAL DO FDA",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,[{title:"TOTAL CTA CUSTEIO ESPERADO ANTES DO FATURAMENTO",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),F.push(h),A.push(h+1),T.push(h+2),D.push(h+3),P.push(h+4),h+=5,[].concat(I,[0]).map((function(e,t){if(e&&n.find((function(e){return e.custeioCodigo==I[t]&&!!e.conta}))){l[0]&&(l.push({_0:"",_1:"",_2:"",_3:"",_4:""}),D.push(h),h++),l.push({_0:"",_1:"",_2:"",_3:L[t],_4:""}),E.push(h),h++,l.push({_0:"",_1:"",_2:"",_3:"Conta",_4:"Valor"}),y.push(h),h++,n.filter((function(t){return t.custeioCodigo==e&&!!t.conta})).map((function(e){parseFloat(e.valor),l.push({_0:"",_1:"",_2:"",_3:e.conta,_4:""}),O.push(h),h++})),l.push({_0:"",_1:"",_2:"",_3:"TOTAL",_4:""}),S.push(h),h++}})),l[0]&&V.a.utils.sheet_add_json(m,l,{skipHeader:!0,origin:-1}),m["!merges"]=[].concat(Object(r.a)(b.map((function(e){return{s:{c:0,r:e},e:{c:4,r:e}}}))),Object(r.a)(k.map((function(e){return{s:{c:0,r:e},e:{c:1,r:e}}}))),Object(r.a)([].concat(j,F,A,T,T).map((function(e){return{s:{c:0,r:e},e:{c:3,r:e}}}))),Object(r.a)(E.map((function(e){return{s:{c:3,r:e},e:{c:4,r:e}}})))),f=[],w=[],B=[],q="",Y=[],U=[],z=[],G=[],W=0;W<h;W++)for(H=0;H<=g;H++)X=V.a.utils.encode_cell({r:W,c:H}),b.includes(W)&&(m[X].s={alignment:{horizontal:"center",vertical:"center"},font:{sz:18,bold:!0},fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}}}),[].concat(E,O,S).includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{font:{sz:8}}),[3,4].includes(H)&&E.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{alignment:{horizontal:"center",vertical:"center"},fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}},font:Object(i.a)(Object(i.a)({},null===(J=m[X].s)||void 0===J?void 0:J.font),{},{bold:!0})}),3===H&&(q=m[X].v)),4===H&&O.includes(W)&&function(){var e,t,a=null===(e=m[V.a.utils.encode_cell({r:W,c:H-1})])||void 0===e?void 0:e.v,o=[];n.filter((function(e){return e.conta==a&&e.custeioNome==q})).forEach((function(e){e.row.forEach((function(e){o.push(e)}))})),m[X].f=null===o||void 0===o||null===(t=o.map((function(e){return V.a.utils.encode_cell({r:e,c:4})})))||void 0===t?void 0:t.join("+"),m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00"}),B.push(X)}(),S.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00",font:Object(i.a)(Object(i.a)({},null===($=m[X].s)||void 0===$?void 0:$.font),{},{bold:!0})}),4===H&&(m[X].f=B.join("+"),B=[],q=""))),k.includes(W)&&(f[0]&&w[0]&&(2===H?(m[X].f=f.join("+"),k[k.length-1]!==W&&U.push(V.a.utils.encode_cell({r:W,c:H}))):3===H?(m[X].f=w.join("+"),k[k.length-1]===W&&U.push(V.a.utils.encode_cell({r:W,c:H})),G.push(V.a.utils.encode_cell({r:W,c:H}))):4===H&&(Q=V.a.utils.encode_cell({r:W,c:2}),Z=V.a.utils.encode_cell({r:W,c:3}),m[X].f="".concat(Q," - ").concat(Z),f=[],w=[],Y.push(V.a.utils.encode_cell({r:W,c:H})))),m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{fill:{patternType:"solid",fgColor:{rgb:"CCCCCC"},bgColor:{rgb:"CCCCCC"}},font:Object(i.a)(Object(i.a)({},null===(K=m[X].s)||void 0===K?void 0:K.font),{},{bold:!0})})),[].concat(x,N).includes(W)&&(m[X].s={border:{right:{style:"thin",color:"000000"},left:{style:"thin",color:"000000"},top:{style:"thin",color:"000000"},bottom:{style:"thin",color:"000000"}}},4===H&&(ee=V.a.utils.encode_cell({r:W,c:2}),te=V.a.utils.encode_cell({r:W,c:3}),f.push(ee),w.push(te),m[X].f="".concat(ee," - ").concat(te))),([2,3,4].includes(H)&&[].concat(N,x,k).includes(W)||4===H&&[].concat(j,F,A,P,T).includes(W))&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00"})),j.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}},numFmt:"R$ #,##0.00",font:Object(i.a)(Object(i.a)({},null===(ae=m[X].s)||void 0===ae?void 0:ae.font),{},{bold:!0})}),4===H&&(m[X].f=Y.join("+"))),F.includes(W)&&4===H&&(m[X].f=U.map((function(e,t){return t===U.length-1?e.replace("D","C"):e})).join("+"),z.push(V.a.utils.encode_cell({r:W,c:H}))),A.includes(W)&&4===H&&(m[X].f="".concat(null===(oe=_[0])||void 0===oe?void 0:oe.governmentTaxes," + ").concat(null===(ne=_[0])||void 0===ne?void 0:ne.bankCharges),z.push(V.a.utils.encode_cell({r:W,c:H}))),T.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{font:Object(i.a)(Object(i.a)({},null===(re=m[X].s)||void 0===re?void 0:re.font),{},{bold:!0})}),4===H&&(m[X].f=z.join("+"))),P.includes(W)&&4===H&&(m[X].f=G.join("+"));return t.next=32,V.a.write(u,{type:"buffer",cellStyles:!0});case 32:se=t.sent,ce=e.from(se),le=new Blob([ce]),ie=window.URL.createObjectURL(le),(ue=document.createElement("a")).href=ie,ue.download="".concat(s.state.codigo," ").concat(null===(a=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===a?void 0:a.label,".xlsx"),ue.click();case 40:case"end":return t.stop()}}),t)}))(),"t3",68);case 68:t.next=73;break;case 70:return t.next=72,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o documento!",loading:!1});case 72:return t.abrupt("return");case 73:t.next=80;break;case 75:return t.prev=75,t.t4=t.catch(0),console.log(t.t4),t.next=80,s.setState({erro:"Erro ao criar o documento",loading:!1});case 80:s.setState({loading:!1});case 81:case"end":return t.stop()}}),t,null,[[0,75]])})));return function(e,a){return t.apply(this,arguments)}}(),s.Invoices=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,l,i,u,m,p,d,v,f,g,b,E,x,N,O,S,k,y,j,A,T,P,_,L,I,B,q,Y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(t,!1);case 7:return e.t0=s,e.next=10,w.a.getBody("invoices.php",{token:!0,os:s.state.chave,eventos:s.state.agrupadorEventos});case 10:return e.t1=e.sent,e.t2={loading:!0,pdfContent:e.t1},e.next=14,e.t0.setState.call(e.t0,e.t2);case 14:if(s.state.pdfContent&&s.state.pdfContent.events){e.next=16;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 16:a=s.state.pdfContent,[16,17].includes(parseInt(a.fornecedorCusteio))?o="sultrade":32==parseInt(a.fornecedorCusteio)?o="porto":269==parseInt(a.fornecedorCusteio)&&(o="coast"),s.setState({pdfNome:"Invoices - ".concat(o," (").concat(a.invoice,")")});try{n=JSON.parse(a.cabecalho)}catch(c){console.error(c)}if(r=a.ROE?parseFloat(a.ROE):5,l=0,![16,17].includes(parseInt(a.fornecedorCusteio))){e.next=26;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_sultrade"},h.a.createElement("div",{className:"invoices_header_image_sultrade"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/NCw9jYX/sultrade-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"375px",width:"375px",maxWidth:"375px",minHeight:"93px",height:"93px",maxHeight:"93px",objectFit:"cover"}})),h.a.createElement("div",{className:"invoices_header_info_sultrade"},h.a.createElement("h3",null,"SULTRADE SHIPPING AGENCY"),h.a.createElement("span",null,"CNPJ/VAT Number : 10.432.546/0001-75"),h.a.createElement("span",null,h.a.createElement("a",{href:"mailto:sultrade@sultradeagency.com"},"E-mail : sultrade@sultradeagency.com")),h.a.createElement("span",null,"Phone : +55 (53) 3235 3500"),h.a.createElement("span",null,h.a.createElement("a",{href:"https://www.sultradeagency.com"},"www.sultradeagency.com")))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_sultrade"},h.a.createElement("div",{className:"invoices_info_data_sultrade"},"COMPANY:"," ",h.a.createElement("b",null,(null===(u=n)||void 0===u?void 0:u.company)?null===(m=n)||void 0===m?void 0:m.company:a.clienteNome)),h.a.createElement("div",{className:"invoices_info_data_sultrade2"},"INVOICE NUMBER: ",h.a.createElement("b",null,a.invoice)),(null===(p=n)||void 0===p?void 0:p.CO)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"invoices_info_data_sultrade"},(null===(d=n)||void 0===d?void 0:d.CO)?"C/O: ":"",h.a.createElement("b",null,(null===(v=n)||void 0===v?void 0:v.CO)?n.CO:"")),h.a.createElement("div",{className:"invoices_info_data_sultrade2"},"DATE OF BILLING:"," ",h.a.createElement("b",null,D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-")),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"ADDRESS:"," ",h.a.createElement("b",null,(null===(f=n)||void 0===f?void 0:f.address)?null===(g=n)||void 0===g?void 0:g.address:a.address))),!(null===(b=n)||void 0===b?void 0:b.CO)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"invoices_info_data_sultrade"},"ADDRESS:"," ",h.a.createElement("b",null,(null===(E=n)||void 0===E?void 0:E.address)?null===(x=n)||void 0===x?void 0:x.address:a.address)),h.a.createElement("div",{className:"invoices_info_data_sultrade2"},"DATE OF BILLING:"," ",h.a.createElement("b",null,D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"))),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"PO - VESSEL:"," ",h.a.createElement("b",null,a.codigo,"-",a.navioNome)),h.a.createElement("div",{className:"invoices_info_data_sultrade"})),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_sultrade"},h.a.createElement("div",{className:"invoices_content_header_sultrade"},h.a.createElement("div",{className:"invoices_content_title_sultrade"},"Description"),h.a.createElement("div",{className:"invoices_content_title_sultrade"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_sultrade"},h.a.createElement("div",{className:"invoices_content_col_sultrade"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_sultrade text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_sultrade"},h.a.createElement("div",{className:"invoices_total_sultrade"},"Total"),h.a.createElement("div",{className:"invoices_total_sultrade"},"USD"),h.a.createElement("div",{className:"invoices_total_sultrade"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 26:if(32!=a.fornecedorCusteio){e.next=30;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_porto"},h.a.createElement("div",{className:"invoices_header_image_porto"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/QK61hd5/porto-brasil-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"150px",width:"150px",maxWidth:"150px",minHeight:"142px",height:"142px",maxHeight:"142px",objectFit:"cover"}}),h.a.createElement("h1",null,"Invoice")),h.a.createElement("div",{className:"invoices_header_info_porto"},h.a.createElement("h4",null,h.a.createElement("b",null,"TRANSPORTE PORTO BRAZIL LTDA")),h.a.createElement("span",null,h.a.createElement("b",null,"Date:")," ",D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"),h.a.createElement("span",null),h.a.createElement("span",null,h.a.createElement("b",null,"Invoice:")," ",a.invoice))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_porto"},h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"To:")," ",(null===(N=n)||void 0===N?void 0:N.company)?null===(O=n)||void 0===O?void 0:O.company:a.clienteNome),(null===(S=n)||void 0===S?void 0:S.CO)&&h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,(null===(k=n)||void 0===k?void 0:k.CO)?"C/O: ":""),(null===(y=n)||void 0===y?void 0:y.CO)?n.CO:""),h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"Address:")," ",(null===(j=n)||void 0===j?void 0:j.address)?null===(A=n)||void 0===A?void 0:A.address:a.address),h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"PO - VESSEL:")," ",a.codigo,"-",a.navioNome)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_porto"},h.a.createElement("div",{className:"invoices_content_header_porto"},h.a.createElement("div",{className:"invoices_content_title_porto"},"Description"),h.a.createElement("div",{className:"invoices_content_title_porto"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_porto"},h.a.createElement("div",{className:"invoices_content_col_porto"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_porto text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_porto"},h.a.createElement("div",{className:"invoices_total_porto"},"Total"),h.a.createElement("div",{className:"invoices_total_porto"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 30:if(269!=a.fornecedorCusteio){e.next=34;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_coast"},h.a.createElement("div",{className:"invoices_header_image_coast"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/mv8gqfw/coast-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"150px",width:"150px",maxWidth:"150px",minHeight:"59px",height:"59px",maxHeight:"59px",objectFit:"cover"}})),h.a.createElement("div",{className:"invoices_header_info_coast"},h.a.createElement("span",null,"COAST SERVICOS ADMINISTRATIVOS LTDA"),h.a.createElement("span",null,"Date:"," ",D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"),h.a.createElement("span",null,"CPNJ/VAT NUMBER : 15.258.758/0001-00"),h.a.createElement("span",null,"Invoice: ",a.invoice))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_coast"},h.a.createElement("div",{className:"invoices_info_data_coast"},"To:"," ",(null===(T=n)||void 0===T?void 0:T.company)?null===(P=n)||void 0===P?void 0:P.company:a.clienteNome),(null===(_=n)||void 0===_?void 0:_.CO)&&h.a.createElement("div",{className:"invoices_info_data_coast"},(null===(L=n)||void 0===L?void 0:L.CO)?"C/O: ".concat(n.CO):""),h.a.createElement("div",{className:"invoices_info_data_coast"},"Address:"," ",(null===(I=n)||void 0===I?void 0:I.address)?null===(B=n)||void 0===B?void 0:B.address:a.address),h.a.createElement("div",{className:"invoices_info_data_coast"},"PO - VESSEL: ",a.codigo,"-",a.navioNome)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_coast"},h.a.createElement("div",{className:"invoices_content_header_coast"},h.a.createElement("div",{className:"invoices_content_title_coast"},"Description"),h.a.createElement("div",{className:"invoices_content_title_coast"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_coast"},h.a.createElement("div",{className:"invoices_content_col_coast"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_coast text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_coast"},h.a.createElement("div",{className:"invoices_total_coast"},"Total"),h.a.createElement("div",{className:"invoices_total_coast"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 34:return e.abrupt("return",s.setState({error:{type:"error",msg:"Fornecedor Custeio desconhecido"},loading:!1}));case 35:return e.next=37,s.setState({pdfgerado:i});case 37:return q=document.getElementById("pdfDiv"),e.next=40,Object(M.a)(q,{paperSize:"A4",margin:"0.5cm",scale:.6,portrait:!0}).then((function(e){return Object(R.a)(e)})).then((function(e){return e}));case 40:return Y=e.sent,e.next=43,F.a.post("salvaInvoices.php",{token:!0,base64:Y,name:s.state.pdfNome,os:s.state.chave}).then((function(e){}),(function(e){return console.error(e)}));case 43:s.handleExportWithComponent(),e.next=51;break;case 46:return e.prev=46,e.t3=e.catch(0),console.log(e.t3),e.next=51,s.setState({erro:"Erro ao criar o documento",loading:!1});case 51:s.getInvoices(),s.setState({loading:!1});case 53:case"end":return e.stop()}}),e,null,[[0,46]])})));return function(t){return e.apply(this,arguments)}}(),s.RelatorioVoucher=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,l,u,m,p,d,v,f,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Vouchers".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.t0=s,e.next=11,w.a.getBody("relatorioVoucher.php",{token:!0,codigo:t});case 11:return e.t1=e.sent,e.t2={loading:!0,pdfContent:e.t1},e.next=15,e.t0.setState.call(e.t0,e.t2);case 15:if(s.state.pdfContent&&s.state.pdfContent.itens&&s.state.pdfContent.chaves){e.next=17;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 17:if(!s.state.pdfContent.itens.find((function(e){return!e.codsubgrupo_taxas}))){e.next=19;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 19:if(o=s.state.pdfContent.itens,n=s.state.pdfContent.chaves,r=s.state.pdfContent.campos,l=function(e){return"R"==e.tipo_op||0==e.repasse?e.fornecedor_custeio&&e.descricao_item?"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor_custeio):"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor):e.fornecedor&&e.descricao_item?"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor):void 0},u=function(e){return 6==e.moeda_item&&0!=e.ROE?e.valor_item*e.ROE:e.valor_item},m=function(e){return 5==e.moeda_item&&0!=e.ROE?e.valor_item/e.ROE:e.valor_item},p=function(){if(0!=o[0].ROE)return"Exchange Rate US$ 1,00 = R$".concat(o[0].ROE)},d=0,v=0,f="",g=[],b=[],!o){e.next=35;break}f=h.a.createElement("div",{style:{zoom:1},key:546546554654},n.toSorted((function(e,t){return parseInt(e.codsubgrupo_taxas)-parseInt(t.codsubgrupo_taxas)})).map((function(e,t){var a,n=e.company,s=e.address;if(e.cabecalho){var c;try{c=JSON.parse(e.cabecalho)}catch(E){var f;c=JSON.parse(null===(f=e.cabecalho)||void 0===f?void 0:f.replaceAll("\n","\\n").replaceAll("\t","\\t"))}c.company&&(n=c.company),c.address&&(s=c.address),c.CO&&(a=c.CO)}return d=0,v=0,g=[],b=[],h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement("div",{className:"voucherCabecalho ".concat(0==t?"":"page-break"),style:{marginRight:55}},"Voucher nr. ",e.codsubgrupo),h.a.createElement("br",null),h.a.createElement("div",{style:{float:"right",marginRight:55,marginTop:25}},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/n69ZD86/logo-Vertical.png",alt:"logo-lpc",border:"0",style:{width:"130px",height:"100px"}})),h.a.createElement("div",{style:{width:"70%",marginLeft:"5%"}},h.a.createElement("table",{style:{width:"100%"}},h.a.createElement("tr",null,n&&h.a.createElement("td",{colSpan:a?4:6,className:"pdf_large_column"},h.a.createElement("b",null,"Company:")," ",n),a&&h.a.createElement("td",{colSpan:a?2:0,className:n?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"C/O:")," ",a)),h.a.createElement("tr",null,s&&h.a.createElement("td",{colSpan:5,className:"pdf_large_column"},h.a.createElement("b",null,"Address:")," ",s),e.codigo&&h.a.createElement("td",{colSpan:1,className:s?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"PO:")," ",e.codigo)),h.a.createElement("tr",null,e.Data_Faturamento&&D()(e.Data_Faturamento).isValid()&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Date of Billing:")," ",D()(e.Data_Faturamento).format("DD/MM/YYYY")),e.eta&&D()(e.eta).isValid()&&h.a.createElement("td",{colSpan:3,className:e.Data_Faturamento&&D()(e.Data_Faturamento).isValid()?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"Arrived:")," ",D()(e.eta).format("DD/MM/YYYY"))),h.a.createElement("tr",null,e.vessel_name&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Vessel Name:")," ",e.vessel_name),e.Data_Saida&&D()(e.Data_Saida).isValid()&&h.a.createElement("td",{colSpan:3,className:e.vessel_name?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"Sailed:")," ",D()(e.Data_Saida).format("DD/MM/YYYY"))),h.a.createElement("tr",null,e.name_of_port&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Name of Port:")," ",e.name_of_port),h.a.createElement("td",{colSpan:3,className:e.name_of_port?"pdf_money_col":"pdf_small_col"},p())))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"voucherContent"},h.a.createElement("div",{className:"center"},e.subgrupos),h.a.createElement("table",null,h.a.createElement("tr",null,h.a.createElement("th",{className:"pdf_large_col",colSpan:7},"Services"),h.a.createElement("th",null,"Debit BRL"),h.a.createElement("th",null,"Debit USD")),o.filter((function(t){return t.codsubgrupo_taxas==e.codsubgrupo_taxas})).map((function(t,a){return d+=C.a.toFixed(parseFloat(u(t)),2),v+=C.a.toFixed(parseFloat(m(t)),2),r.filter((function(a){return a.chaveEvento==t.chsub&&a.chaveSubgrupo==e.codsubgrupo_taxas})).map((function(e){if(b.find((function(t){return t.titulo==e.campo}))||b.push({titulo:e.campo,tipo:e.tipoCampo}),"LISTA"!=e.tipoCampo||g.find((function(t){return t.campo==e.campo})))"TEXTO"!=e.tipoCampo||g.find((function(t){return t.campo==e.campo}))||g.push(e);else{var t,a=null===(t=e.complemento)||void 0===t?void 0:t.split("\n");a[0]&&a.forEach((function(t){g.push(Object(i.a)(Object(i.a)({},e),{},{complemento:t}))}))}})),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_large_col reduce-font",colSpan:7},l(t)),h.a.createElement("td",{className:"pdf_money_col reduce-font"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(u(t))),h.a.createElement("td",{className:"pdf_money_col reduce-font"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(m(t))))})),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:7,className:"pdf_large_col"},h.a.createElement("b",null,"TOTAL")),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(d))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(v)))))),h.a.createElement("div",{className:"voucherFooter"},"Comments:"),b.map((function(t){return"LISTA"==t.tipo?h.a.createElement("div",{className:"voucherCamposLista"},h.a.createElement("div",{className:"voucherCampoTitulos"},t.titulo),h.a.createElement("ul",{className:"voucherLiListaCampos"},g.filter((function(a){return a.campo==t.titulo&&a.chaveSubgrupo==e.codsubgrupo_taxas})).map((function(e){return h.a.createElement("li",null,e.complemento)})))):"TEXTO"==t.tipo?h.a.createElement("div",{className:"voucherCamposLista"},h.a.createElement("div",{className:"voucherCampoTitulos"},t.titulo),h.a.createElement("div",{className:"voucherComplementosLista"},g.filter((function(e){return e.campo==t.titulo})).map((function(e){return h.a.createElement("pre",null,e.complemento)})))):void 0})))}))),e.next=38;break;case 35:return e.next=37,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o pdf!",loading:!1});case 37:return e.abrupt("return");case 38:return e.next=40,s.setState({pdfgerado:f});case 40:s.handleExportWithComponent(),e.next=48;break;case 43:return e.prev=43,e.t3=e.catch(0),console.log(e.t3),e.next=48,s.setState({erro:"Erro ao criar o pdf",loading:!1});case 48:case"end":return e.stop()}}),e,null,[[0,43]])})));return function(t,a){return e.apply(this,arguments)}}(),s.CloseToReal=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,i,u,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Close to Real".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.next=10,s.setState({loading:!0});case 10:return e.next=12,F.a.post("getCloseToReal.php",{token:!0,codigo:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({pdfContent:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:if(o=0,n=0,r=0,i=0,u=0,m=0,p="",s.state.pdfContent&&s.state.pdfContent[0]){e.next=21;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 21:if(!s.state.pdfContent[0]){e.next=29;break}if(s.state.pdfContent[0].governmentTaxes>0&&(o+=parseFloat(s.state.pdfContent[0].governmentTaxes),n+=C.a.toFixed(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),s.state.pdfContent[0].bankCharges>0&&(o+=parseFloat(s.state.pdfContent[0].bankCharges),n+=C.a.toFixed(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),!s.state.pdfContent.find((function(e){return(0==e.tipo||1==e.tipo)&&!e.chavTaxa}))){e.next=26;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 26:p=h.a.createElement("div",{style:{zoom:1},key:546546554654},h.a.createElement("div",{className:"pdfHeader"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/vmKJkx4/logo.png",alt:"logo-lpc",border:"0",style:{width:"24%",height:"150px"}}),h.a.createElement("h3",{className:"pdfTitle"}),h.a.createElement("h4",null,"Close to Real")),h.a.createElement("hr",null),h.a.createElement("div",{className:"pdfContent"},h.a.createElement("div",null,h.a.createElement("table",{className:"pdfTableCabecalho"},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",{style:{paddingRight:5}},"COMPANY:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].cliente))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_large_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ADDRESS:")," ","".concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].complemento)," ").concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].rua)," ").concat(s.state.pdfContent[0].numero&&"0"!=s.state.pdfContent[0].numero?s.state.pdfContent[0].numero:""," ").concat(s.state.pdfContent[0].cep&&"0"!=s.state.pdfContent[0].cep?s.state.pdfContent[0].cep:""))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Vessel Name:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomeNavio)),h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Name of Port:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomePorto))),h.a.createElement("tr",null,s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid()&&h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Arrived:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_chegada)).format("MMMM DD, YYYY")),s.state.pdfContent[0].data_saida&&"Invalid date"!=D()(s.state.pdfContent[0].data_saida).format("DD/MM/YYYY")&&h.a.createElement("td",{className:"".concat(s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid?"pdf_money_col":"pdf_small_col"),colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Sailed:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_saida)).format("MMMM DD, YYYY"))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"PO:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].codigo)),h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"O.C.C:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].centro_custo))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ROE:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].roe.replaceAll(".",","))))),h.a.createElement("br",null))),h.a.createElement("div",null,h.a.createElement("table",{style:{width:"90%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"2",className:"pdf_small_col pdfTitle"}),h.a.createElement("td",{className:"pdf_small_col"}),h.a.createElement("td",{className:"pdf_small_col"})),h.a.createElement("tr",null),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col",style:{backgroundColor:"#CDCDCD"}},"DESCRIPTION:"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (USD)"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (R$)")),s.state.pdfContent.map((function(e,t){if(0==e.tipo||1==e.tipo?5==e.moeda?(o+=parseFloat(e.valor),n+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(o+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),n+=parseFloat(e.valor)):2==e.tipo?5==e.moeda?(r+=parseFloat(e.valor),i+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(r+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),i+=parseFloat(e.valor)):3==e.tipo&&(5==e.moeda?(u+=parseFloat(e.valor),m+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(u+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),m+=parseFloat(e.valor))),0==e.tipo||1==e.tipo)return h.a.createElement("tr",{style:{background:t%2==0?"white":"#dddddd"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},e.descos),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},5==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor))),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},6==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor))))})),s.state.pdfContent[0].governmentTaxes>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"GOVERNMENT TAXES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes))))),s.state.pdfContent[0].bankCharges>0&&h.a.createElement("tr",{styles:{padding:"37px 0px 37px 0px"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"BANK CHARGES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Total"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(n)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(o))))),parseFloat(u)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Discount"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(m)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(u))))),parseFloat(r)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Received"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(i)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(r))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Balance"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(n)-(parseFloat(i)+parseFloat(m))))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(o)-(parseFloat(r)+parseFloat(u)))))))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),h.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account number:")," 161441-X")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," 10.432.546/0001-75")))),e.next=32;break;case 29:return e.next=31,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o pdf!",loading:!1});case 31:return e.abrupt("return");case 32:return e.next=34,s.setState({pdfgerado:p});case 34:s.handleExportWithComponent(),e.next=41;break;case 37:return e.prev=37,e.t0=e.catch(0),e.next=41,s.setState({erro:"Erro ao criar o pdf",loading:!1});case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,a){return e.apply(this,arguments)}}(),s.GerarEtiqueta=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]&&o[1],e.next=3,F.a.post("enviaEtiquetaOS.php",{os:t,navio:s.state.naviosOptions.find((function(e){return e.value==s.state.navio}))?s.state.naviosOptions.find((function(e){return e.value==s.state.navio})).label:"",cliente:s.state.clientesOptions.find((function(e){return e.value==s.state.cliente}))?s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})).label:"",servico:s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico}))?s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})).label:"",operador:s.state.operadoresOptions.find((function(e){return e.value==s.state.operador}))?s.state.operadoresOptions.find((function(e){return e.value==s.state.operador})).label:"",porto:s.state.portosOptions.find((function(e){return e.value==s.state.porto}))?s.state.portosOptions.find((function(e){return e.value==s.state.porto})).label:"",eta:"Invalid date"!=D()(s.state.eta).format("DD/MM/YYYY")?D()(s.state.eta).format("DD/MM/YYYY"):"T.B.I.",etb:"Invalid date"!=D()(s.state.etb).format("DD/MM/YYYY")?D()(s.state.etb).format("DD/MM/YYYY HH:mm"):"T.B.I.",data_saida:"Invalid date"!=D()(s.state.data_saida).format("DD/MM/YYYY")?D()(s.state.data_saida).format("DD/MM/YYYY HH:mm"):"T.B.I.",criacao:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.enviaDocumento=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({loading:!0});case 2:if(t="",a="",o="",!s.state.documento[0]){e.next=11;break}return e.next=8,C.a.getBase64(s.state.documento[0]);case 8:t=e.sent,a=s.state.documento[0].type,o=s.state.documentoNome.split(".")[s.state.documentoNome.split(".").length-1];case 11:if(s.state.documentoEditar){e.next=20;break}return(n=s.state.documentoCaminho.split("."))[n.length-1]=o,e.next=16,s.setState({dadosFinaisDoc:[{titulo:"Descricao",valor:C.a.formatForLogs(s.state.documentoDescricao)},{titulo:"Tipo de Documento",valor:C.a.formatForLogs(s.state.documentoTipo,"options","","",s.state.tiposDocumentosOptions)},{titulo:"Caminho",valor:C.a.formatForLogs(n.join(""))}]});case 16:return e.next=18,F.a.post("enviaDocumento.php",{documento:t,format:a,ext:o,chave_os:s.state.chave,chave_osi:0,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:e.next=27;break;case 20:if(!s.state.documentoTrocar){e.next=25;break}return e.next=23,F.a.post("trocaDocumento.php",{documento:t,format:a,ext:o,chave:s.state.documentoChave,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo,caminho:s.state.documentoCaminho}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,s.state.dadosIniciaisDoc,s.state.dadosFinaisDoc,s.state.documentoChave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:e.next=27;break;case 25:return e.next=27,F.a.post("updateDocumento.php",{chave:s.state.documentoChave,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,s.state.dadosIniciaisDoc,s.state.dadosFinaisDoc,s.state.documentoChave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 27:case"end":return e.stop()}}),e)}))),s.revertItemEdit=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,l,i,u,m,p,d,v,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({eventoData:null===(a=t.valores.find((function(e){return"Data"===e.titulo})))||void 0===a?void 0:a.valor,eventoFornecedor:null===(o=t.valores.find((function(e){return"Fornecedor"===e.titulo})))||void 0===o?void 0:o.valor,eventoTaxa:null===(n=t.valores.find((function(e){return"Taxa"===e.titulo})))||void 0===n?void 0:n.valor,eventoMoeda:null===(r=t.valores.find((function(e){return"Valor"===e.titulo})))||void 0===r?void 0:r.valor1,eventoValor:null===(l=t.valores.find((function(e){return"Valor"===e.titulo})))||void 0===l?void 0:l.valor2,eventoVlrc:null===(i=t.valores.find((function(e){return"VCP"===e.titulo})))||void 0===i?void 0:i.valor,eventoRepasse:null===(u=t.valores.find((function(e){return"Repasse"===e.titulo})))||void 0===u?void 0:u.valor,eventoDescricao:null===(m=t.valores.find((function(e){return"Descri\xe7\xe3o"===e.titulo})))||void 0===m?void 0:m.valor,eventoTipo:null===(p=t.valores.find((function(e){return"Tipo"===e.titulo})))||void 0===p?void 0:p.valor,eventoOrdem:null===(d=t.valores.find((function(e){return"Ordem"===e.titulo})))||void 0===d?void 0:d.valor,eventoRemarks:null===(v=t.valores.find((function(e){return"Remarks"===e.titulo})))||void 0===v?void 0:v.valor,eventoFornecedorCusteio:null===(f=t.valores.find((function(e){return"Fornecedor Custeio"===e.titulo})))||void 0===f?void 0:f.valor,eventoQntd:null===(h=t.valores.find((function(e){return"Quantidade"===e.titulo})))||void 0===h?void 0:h.valor});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.salvarEvento=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=3,s.setState({dadosFinaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)},{titulo:"Quantidade",valor:C.a.formatForLogs(s.state.eventoQntd)}],loading:!0});case 3:if(0!==parseInt(s.state.eventoChave)){e.next=9;break}return"1"==s.state.eventoRepasse&&(console.log("repasse = 1"),s.setState({eventoFornecedorCusteio:0})),e.next=7,F.a.post("insertServicoItemBasico.php",{token:!0,values:"'".concat(s.state.chave,"', '").concat(s.state.eventoData,"', '").concat(s.state.eventoFornecedor,"', '").concat(s.state.eventoTaxa,"', '").concat(s.state.eventoDescricao,"', '").concat(s.state.eventoTipo,"', '").concat(s.state.eventoFornecedorCusteio,"', '").concat(s.state.eventoRemarks,"', '").concat(s.state.eventoMoeda,"', '").concat(parseFloat(""==s.state.eventoValor?0:s.state.eventoValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(""==s.state.eventoVlrc?0:s.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")),"', '").concat(s.state.eventoRepasse&&"0"!=s.state.eventoRepasse?1:0,"', '").concat(s.state.eventoQntd,"'"),chave_os:s.state.chave,ordem:s.state.eventoOrdem.replaceAll(",",".")}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.next=12;break;case 9:return"1"==s.state.eventoRepasse&&(console.log("repasse = 1"),s.setState({eventoFornecedorCusteio:0})),e.next=12,F.a.post("updateServicoItem.php",{token:!0,chave:s.state.eventoChave,chave_os:s.state.chave,data:s.state.eventoData,Moeda:s.state.eventoMoeda,valor:parseFloat(""==s.state.eventoValor?0:s.state.eventoValor.replaceAll(".","").replaceAll(",",".")),valor1:parseFloat(s.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")),repasse:s.state.eventoRepasse&&"0"!=s.state.eventoRepasse?1:0,fornecedor:s.state.eventoFornecedor,taxa:s.state.eventoTaxa,descricao:s.state.eventoDescricao,ordem:s.state.eventoOrdem.replaceAll(",","."),tipo_sub:s.state.eventoTipo,Fornecedor_Custeio:s.state.eventoFornecedorCusteio,remarks:s.state.eventoRemarks,qntd:s.state.eventoQntd}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=6;break}return e.next=3,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,s.state.dadosIniciaisSol,s.state.dadosFinaisSol,s.state.eventoChave,"EVENTO: ".concat(s.state.descricao));case 3:window.location.reload(),e.next=8;break;case 6:return e.next=8,alert("Erro ".concat(JSON.stringify(t)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.next=14,s.setState({modalItemAberto:!1});case 14:case"end":return e.stop()}}),e)}))),s.getCamposVoucher=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getBody("getCamposOS.php",{token:!0,chave_os:s.state.chave});case 2:t=e.sent,s.setState({camposOS:t,modalCamposOS:!0});case 4:case"end":return e.stop()}}),e)}))),s.RetornaParaOrcamento=Object(l.a)(c.a.mark((function e(){var t,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],e.next=3,F.a.post("retornaParaOrcamento.php",{token:!0,Chave:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a.data){e.next=7;break}if(!t){e.next=5;break}return e.next=4,s.setState({redirectReturnOrcamento:t});case 4:window.location.reload();case 5:e.next=9;break;case 7:return e.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:console.log("oi");case 4:case"end":return e.stop()}}),e)}))),s.handleExportWithComponent=function(e){s.pdfExportComponent.current.save(),s.setState({loading:!1})},s.openLogs=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getLogsOS(s.state.chave,s.state.todosEventos.map((function(e){return e.chave})));case 2:return t=(t=e.sent).map((function(e){return"os"==e.Tabela&&(e.Campos.includes("Inclus\xe3o")||e.Campos.includes("Cancelamento"))?Object(i.a)(Object(i.a)({},e),{},{Campos:"Solicita\xe7\xe3o de Servi\xe7o: ".concat(e.Campos)}):Object(i.a)({},e)})),e.next=6,s.setState({logs:t,modalLog:!0});case 6:case"end":return e.stop()}}),e)}))),s.pdfExportComponent=h.a.createRef(null),s}return Object(m.a)(o,[{key:"validateDates",value:function(){var e=this.state,t=e.encerramento,a=e.faturamento,o=e.envio;if(!t&&!a&&!o)return!0;var n=t&&"T.B.I."!==t?new Date(t):null,r=a&&"T.B.I."!==a?new Date(a):null,s=o&&"T.B.I."!==o?new Date(o):null,c=!t||"T.B.I."===t||!isNaN(n.getTime()),l=!a||"T.B.I."===a||!isNaN(r.getTime()),i=!o||"T.B.I."===o||!isNaN(s.getTime());if(!c||!l||!i)return!1;if(!t||"T.B.I."===t){if(a&&"T.B.I."!==a)return!1;if(o&&"T.B.I."!==o)return!1}if((!a||"T.B.I."===a)&&o&&"T.B.I."!==o)return!1;if(t&&"T.B.I."!==t){if(a&&"T.B.I."!==a&&r<n)return!1;if(o&&"T.B.I."!==o&&s<(a?r:n))return!1}return!(a&&"T.B.I."!==a&&o&&"T.B.I."!==o&&s<r)}},{key:"render",value:function(){var e,t,a,o,n,s,u=this,m=[];m.push(this.state.abertura),m.push(this.state.chegada),m.push(this.state.cliente),m.push(this.state.navio),m.push(this.state.operador),m.push(this.state.tipoServico),m.push(this.state.empresa),m.push(this.state.roe&&this.state.roe==parseFloat(this.state.roe)),m.push(!this.state.bloqueado);var p=this.validateDates(),d=m.reduce((function(e,t){return e&&t}))&&p,v=[];v.push(this.state.meioPagamento),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoReceita),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.contribuinte),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoIdentificadorTributo),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.mesCompetNumRef),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.dataApuracao),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfValor&&this.state.darfValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfValor.replaceAll(".","").replaceAll(",","."))),v.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfPagamento&&this.state.darfPagamento.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfPagamento.replaceAll(".","").replaceAll(",","."))),v.push(!this.state.bloqueadoContabiliza);var f=[];f.push(this.state.eventoData),f.push(this.state.eventoTaxa||2==this.state.eventoTipo||3==this.state.eventoTipo),f.push(this.state.eventoFornecedor||1==this.state.eventoTipo||2==this.state.eventoTipo||3==this.state.eventoTipo),f.push(this.state.eventoFornecedorCusteio||1!=this.state.eventoTipo),f.push(this.state.eventoValor&&!isNaN(this.state.eventoValor.replaceAll(".","").replaceAll(",","."))),f.push(0==this.state.eventoRepasse&&!this.state.eventoVlrc||this.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.eventoVlrc.replaceAll(".","").replaceAll(",","."))&&(0==this.state.eventoRepasse||this.state.eventoVlrc==this.state.eventoValor)),f.push(this.state.eventoDescricao),f.push(this.state.eventoOrdem&&this.state.eventoOrdem.replaceAll(",",".")==parseFloat(this.state.eventoOrdem.replaceAll(",",".")));var C=f.reduce((function(e,t){return e&&t}));return h.a.createElement("div",{className:"allContent"},h.a.createElement("div",{style:{position:"absolute",left:"-900000px",top:0}},h.a.createElement(I.a,{fileName:this.state.pdfNome,scale:.6,landscape:!1,className:"pdfExp",paperSize:"A4",margin:"0.5cm",forcePageBreak:".page-break",ref:this.pdfExportComponent},this.state.pdfgerado)),this.state.loading&&h.a.createElement(N.a,null),this.state.redirect&&h.a.createElement(k.a,{to:"/"}),this.state.recarregaPagina&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addos/".concat(this.state.chave),state:Object(i.a)(Object(i.a)({},this.props.location.state),{},{os:Object(i.a)({},this.state.os)})}}),window.location.reload()),this.state.redirectReturnOrcamento&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(this.state.chave),state:Object(i.a)(Object(i.a)({},this.props.location.state),{},{os:Object(i.a)({},this.state.os)})}}),window.location.reload()),this.state.redirectEventos&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addevento/".concat(this.state.eventofeed.chave),state:{evento:Object(i.a)({},this.state.eventofeed),os:Object(i.a)({},this.state.os)}}})),!this.state.loading&&h.a.createElement(h.a.Fragment,null,h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.documentoModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({documentoModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({documentoModal:!1,documentoTrocar:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloModal"},h.a.createElement("span",null,"Enviar documento:")),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,u.enviaDocumento();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Descri\xe7\xe3o:")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.documentoDescricao,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({documentoDescricao:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipo:")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10",style:this.state.tiposDocumentoOptions.length>75?{marginBottom:10}:{}},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.tiposDocumentoOptions.filter((function(e){return u.filterSearch(e,u.state.tiposDocumentoOptionsTexto)})).slice(0,75),onInputChange:function(e){u.setState({tiposDocumentoOptionsTexto:e})},value:this.state.tiposDocumentoOptions.filter((function(e){return e.value==u.state.documentoTipo}))[0],search:!0,onChange:function(e){u.setState({documentoTipo:e.value})}}),this.state.tiposDocumentoOptions.length>75&&h.a.createElement("span",{style:{color:"red",whiteSpace:"nowrap",fontSize:"0.8em"}},"Limite de 75 tipos atingido. Os tipos ocultos devem ser pesquisados")),this.state.documentoEditar&&h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Trocar documento?")),this.state.documentoEditar&&h.a.createElement("div",{className:"col-1"}),this.state.documentoEditar&&h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement("input",{className:"form_control",checked:this.state.documentoTrocar,onChange:function(e){u.setState({documentoTrocar:e.target.checked})},type:"checkbox"})),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Arquivo:")),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-1 errorMessage"}),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"file",value:this.state.documentoNome,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({documento:t.currentTarget.files,documentoNome:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-1"}))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",style:{width:300}},"Enviar")),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.agrupadorModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({agrupadorModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({agrupadorModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,u.setState({agrupadorModal:!1});case 4:if("CUSTEIO"!=u.state.agrupadorTipo){e.next=9;break}return e.next=7,u.agruparEventos();case 7:e.next=12;break;case 9:if("INVOICE"!=u.state.agrupadorTipo){e.next=12;break}return e.next=12,u.Invoices(d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Eventos:")),h.a.createElement("h3",{className:"text-center white"},"Selecionados"),this.state.agrupadorEventos[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.eventos[0]&&this.state.eventos.filter((function(e){return u.state.agrupadorEventos.includes(e.chave)})).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){"INVOICE"==u.state.agrupadorTipo&&0!=u.state.grupoSelecionado&&u.setState({grupoSelecionado:"",agrupadorEventos:[]}),u.setState({agrupadorEventos:u.state.agrupadorEventos.filter((function(t){return t!=e.chave}))})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!0}))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){"INVOICE"==u.state.agrupadorTipo&&0!=u.state.grupoSelecionado&&u.setState({grupoSelecionado:"",agrupadorEventos:[]}),u.setState({agrupadorEventos:u.state.agrupadorEventos.filter((function(t){return t!=e.chave}))})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,u.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!0}))))})))),!this.state.agrupadorEventos[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h3",{className:"text-center white"},"Eventos"),this.state.eventos.filter((function(e){return!u.state.agrupadorEventos.includes(e.chave)})).find(this.filterAgrupador)&&h.a.createElement("div",{className:"agrupador_eventos"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.eventos[0]&&this.state.eventos.filter((function(e){return!u.state.agrupadorEventos.includes(e.chave)})).filter(this.filterAgrupador).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){var t,a,o;"INVOICE"===u.state.agrupadorTipo&&0==u.state.agrupadorEventos.length&&u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))}))?u.setState({grupoSelecionado:null===(t=u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===t?void 0:t.chave_grupo,agrupadorEventos:null===(a=u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===a||null===(o=a.evento)||void 0===o?void 0:o.split(",")}):u.setState({agrupadorEventos:[].concat(Object(r.a)(u.state.agrupadorEventos),[e.chave])})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!1}))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){var t,a,o;"INVOICE"===u.state.agrupadorTipo&&0==u.state.agrupadorEventos.length&&u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))}))?u.setState({grupoSelecionado:null===(t=u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===t?void 0:t.chave_grupo,agrupadorEventos:null===(a=u.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===a||null===(o=a.evento)||void 0===o?void 0:o.split(",")}):u.setState({agrupadorEventos:[].concat(Object(r.a)(u.state.agrupadorEventos),[e.chave])})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,u.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!1}))))})))),!this.state.eventos.filter((function(e){return!u.state.agrupadorEventos.includes(e.chave)})).find(this.filterAgrupador)&&h.a.createElement("h4",{className:"text-center"},"Nenhum dispon\xedvel"))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),this.state.agrupadorEventos[0]&&h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),(0==this.state.grupoSelecionado||"INVOICE"==this.state.agrupadorTipo)&&h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),0!=this.state.grupoSelecionado&&"CUSTEIO"==this.state.agrupadorTipo&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",onClick:function(){return u.abrirContabilizacao(u.state.grupoSelecionado)},style:{width:300}},"Contabilizar"))),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.templatesModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,u.setState({templatesModal:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Templates:")),this.state.templates[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)"))),void 0!=this.state.templates[0]&&this.state.templates.filter((function(e){return!0})).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){u.setItemEdit(e,!0),u.setState({templatesModal:!1})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5))))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){u.setItemEdit(e,!0),u.setState({templatesModal:!1})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,u.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5))))))})))),!this.state.templates[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.gruposTemplatesModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({gruposTemplatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({gruposTemplatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,u.criarGrupoTemplates(d);case 4:return e.next=6,u.setState({gruposTemplatesModal:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Grupos de Templates:")),this.state.gruposTemplates[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Nome"))),void 0!=this.state.gruposTemplates[0]&&this.state.gruposTemplates.filter((function(e){return!0})).map((function(e,t){return h.a.createElement("tr",{onClick:function(){u.state.grupoTemplate&&u.state.grupoTemplate.chave!=e.chave?u.setState({grupoTemplate:e}):u.setState({grupoTemplate:{}})},style:{filter:e.chave==u.state.grupoTemplate.chave?"brightness(0.5)":void 0}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.nome)))})))),!this.state.gruposTemplates[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"))),this.state.grupoTemplate&&h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",disabled:!(null===(e=this.state.grupoTemplate)||void 0===e?void 0:e.chave)||!d,style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"})))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.cabecalhoModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({cabecalhoModal:!1});case 2:return e.next=4,u.salvarCabecalho();case 4:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({cabecalhoModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloModal"},h.a.createElement("span",null,"Cabe\xe7alho:")),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,u.salvarCabecalho();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Company:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.company.indexOf('"')||-1!=this.state.company.indexOf("'"))&&h.a.createElement(A.a,{title:"Aspas duplas e \xfanicas n\xe3o s\xe3o permitidas",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.company,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({company:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Address:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.address.indexOf('"')||-1!=this.state.address.indexOf("'"))&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.address,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({address:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C/O:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.CO.indexOf('"')||-1!=this.state.CO.indexOf("'"))&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.CO,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({CO:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",disabled:-1!=this.state.company.indexOf('"')||-1!=this.state.company.indexOf("'")||-1!=this.state.address.indexOf("'")||-1!=this.state.address.indexOf('"'),style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.contabiliza,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloPagesModal"},h.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return 0!=u.state.paginaContabiliza?u.setState({paginaContabiliza:u.state.paginaContabiliza-1}):{}}},h.a.createElement(A.a,{icon:T.o,color:0==this.state.paginaContabiliza?"#CFCFCF":"#8a8a8a"})),h.a.createElement("span",null,null===(t=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===t?void 0:t.descricao),h.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return u.state.paginaContabiliza!=u.state.eventosContabilizando.length-1?u.setState({paginaContabiliza:u.state.paginaContabiliza+1}):{}}},h.a.createElement(A.a,{icon:T.p,color:this.state.paginaContabiliza>=this.state.eventosContabilizando.length-1?"#CFCFCF":"#8a8a8a"}))),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:u.salvarConta(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Hist\xf3rico Padr\xe3o")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.historicosOptions.filter((function(e){return u.filterSearch(e,u.state.optionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({historicosOptionsTexto:e})},value:this.state.historicosOptions.filter((function(e){return e.chave==u.state.historicoPadrao}))[0],search:!0,onChange:function(e){u.setState({historico:u.state.historico.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.label})),historicoPadrao:u.state.historicoPadrao.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.chave}))})}})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Hist\xf3rico")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.historico[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({historico:u.state.historico.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({historico:u.state.historico.map((function(e){return e||t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3d. Barras")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codBarras[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({codBarras:u.state.codBarras.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({codBarras:u.state.codBarras.map((function(e){return e||t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Conta D\xe9bito")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaDebito[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!(0==(null===(a=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===a?void 0:a.tipo_sub)&&(null===(o=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===o?void 0:o.repasse)),options:this.state.planosContasOptions.filter((function(e){return u.filterSearch(e,u.state.optionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({optionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==u.state.contaDebito[u.state.paginaContabiliza]}))[0],search:!0,onChange:function(e){var t,a;0==(null===(t=u.state.eventosContabilizando[u.state.paginaContabiliza])||void 0===t?void 0:t.tipo_sub)&&(null===(a=u.state.eventosContabilizando[u.state.paginaContabiliza])||void 0===a?void 0:a.repasse)&&u.setState({contaDebito:u.state.contaDebito.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.value}))})}}))," ",h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Conta Cr\xe9dito")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaCredito[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!("0"==(null===(n=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===n?void 0:n.tipo_sub)&&!(null===(s=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===s?void 0:s.repasse)),options:this.state.planosContasOptions.filter((function(e){return u.filterSearch(e,u.state.optionsTexto)})).slice(0,20),value:this.state.planosContasOptions.filter((function(e){return e.value==u.state.contaCredito[u.state.paginaContabiliza]}))[0],onChange:function(e){var t,a;1==(null===(t=u.state.eventosContabilizando[u.state.paginaContabiliza])||void 0===t?void 0:t.tipo_sub)&&(null===(a=u.state.eventosContabilizando[u.state.paginaContabiliza])||void 0===a?void 0:a.repasse)||u.setState({contaCredito:u.state.contaCredito.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.value}))})}})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Meio de Pagamento")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.meioPagamento[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.meiosPagamentosOptions.filter((function(e){return u.filterSearch(e,u.state.optionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({optionsTexto:e})},value:this.state.meiosPagamentosOptions.filter((function(e){return e.value==u.state.meioPagamento[u.state.paginaContabiliza]}))[0],search:!0,onChange:function(e){u.setState({meioPagamento:u.state.meioPagamento.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.value})),meioPagamentoNome:u.state.meioPagamentoNome.map((function(t,a){return a!=u.state.paginaContabiliza&&t?t:e.label}))})}})),("DARF"==this.state.meioPagamentoNome[this.state.paginaContabiliza]||"GPS"==this.state.meioPagamentoNome[this.state.paginaContabiliza])&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement("hr",null)),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3digo da receita")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoReceita[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codigoReceita[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({codigoReceita:u.state.codigoReceita.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Contribuinte")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contribuinte[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.contribuinte[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({contribuinte:u.state.contribuinte.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({contribuinte:u.state.contribuinte.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3digo identicador do tributo")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoIdentificadorTributo[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codigoIdentificadorTributo[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({codigoIdentificadorTributo:u.state.codigoIdentificadorTributo.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({codigoIdentificadorTributo:u.state.codigoIdentificadorTributo.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"N\xfamero de refer\xeancia")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.mesCompetNumRef[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.mesCompetNumRef[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({mesCompetNumRef:u.state.mesCompetNumRef.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({mesCompetNumRef:u.state.mesCompetNumRef.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data de Apura\xe7\xe3o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.dataApuracao[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.dataApuracao[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({dataApuracao:u.state.dataApuracao.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({dataApuracao:u.state.dataApuracao.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Valor")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfValor[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfValor[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfValor:u.state.darfValor.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfValor:u.state.darfValor.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Multa")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfMulta[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfMulta[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfMulta:u.state.darfMulta.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfMulta:u.state.darfMulta.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Juros")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfJuros[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfJuros[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfJuros:u.state.darfJuros.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfJuros:u.state.darfJuros.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Valor de Pagamento")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfPagamento[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfPagamento[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfPagamento:u.state.darfPagamento.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfPagamento:u.state.darfPagamento.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Outros Valores")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfOutros[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfOutros[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfOutros:u.state.darfOutros.map((function(e,a){return a==u.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({darfOutros:u.state.darfOutros.map((function(e,a){return a!=u.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{disabled:!1,type:"submit",style:{width:300}},"Enviar")),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(x.a,{alteraModal:this.alteraModal,alteraNavio:this.alteraNavio,alteraPorto:this.alteraPorto,alteraCliente:this.alteraCliente,alteraTipoServico:this.alteraTipoServico,alteraCentroCusto:this.alteraCentroCusto,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,pesquisa:this.state.modalPesquisa,closeModal:function(){u.setState({modalAberto:!1})}}),this.state.modalCamposOS&&h.a.createElement(z.a,{open:this.state.modalCamposOS,closeModal:function(){u.setState({modalCamposOS:!1})},campos:this.state.camposOS,submit:function(){u.setState({modalCamposOS:!1}),u.salvarOS(d,!1)}}),h.a.createElement("section",null,h.a.createElement(b.a,{voltarOS:!0,titulo:"OS",chave:0!=this.state.codigo?this.state.codigo:""}),h.a.createElement("br",null)),h.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"-20px",marginBottom:"2%"}},h.a.createElement("h6",{style:{color:"red"}},this.state.erro)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"logButton"},h.a.createElement("button",{onClick:function(){return u.openLogs()}},"Logs")),h.a.createElement(j.a,{closeModal:function(){u.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.viagem,chave:this.state.chave,modalAberto:this.state.modalLog}),h.a.createElement("div",{className:"contact-section"},h.a.createElement(q.a,{alert:this.state.error,setAlert:function(e){return u.setState({error:e})}}),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-lg-12"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:u.salvarOS(d&&!u.state.faturado);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),h.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},0==this.state.chave&&h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},h.a.createElement("label",null,"Data Abertura")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.abertura&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",disabled:!0,value:this.state.abertura})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Navio")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navio&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),options:this.state.naviosOptions.filter((function(e){return u.filterSearch(e,u.state.naviosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({naviosOptionsTexto:e})},value:this.state.naviosOptions.filter((function(e){return e.value==u.state.navio}))[0],search:!0,onChange:function(e){u.setState({navio:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-10 col-10"},1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.navios[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getNavios.php");case 6:return e.t1=e.sent,e.t2={navios:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarNavios",modalPesquisa:u.state.navio,modalLista:u.state.navios});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Porto")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.porto&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(e){return u.filterSearch(e,u.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({portosOptionsTexto:e})},value:this.state.portosOptions.filter((function(e){return e.value==u.state.porto}))[0],search:!0,onChange:function(e){u.setState({porto:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.portos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getPortos.php");case 6:return e.t1=e.sent,e.t2={portos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarPortos",modalPesquisa:u.state.porto,modalLista:u.state.portos});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Cliente")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cliente&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.clientesOptions.filter((function(e){return u.filterSearch(e,u.state.clientesOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({clientesOptionsTexto:e})},value:this.state.clientesOptions.filter((function(e){return e.value==u.state.cliente}))[0],search:!0,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({cliente:t.value});case 2:return e.next=4,u.getDadosCliente();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.clientes[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getClientes.php");case 6:return e.t1=e.sent,e.t2={clientes:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:u.state.cliente,modalLista:u.state.clientes});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipos de Servi\xe7o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServico&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.tiposServicosOptions.filter((function(e){return u.filterSearch(e,u.state.tiposServicosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({tiposServicosOptionsTexto:e})},value:this.state.tiposServicosOptions.filter((function(e){return e.value==u.state.tipoServico}))[0],search:!0,onChange:function(e){u.setState({tipoServico:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.tiposServicos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getTiposServicos.php");case 6:return e.t1=e.sent,e.t2={tiposServicos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarTiposServicos",modalPesquisa:u.state.tipoServico,modalLista:u.state.tiposServicos});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Operador")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.operador&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.operadoresOptions.filter((function(e){return u.filterSearch(e,u.state.operadoresOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({operadoresOptionsTexto:e})},value:this.state.operadoresOptions.filter((function(e){return e.value==u.state.operador}))[0],search:!0,onChange:function(e){u.setState({operador:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"}),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.A.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.eta,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({eta:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.B.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"datetime-local",value:this.state.etb,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({etb:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.S.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"datetime-local",value:this.state.data_saida,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({data_saida:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),this.state.governmentTaxes&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Government Taxes")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.governmentTaxes,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"})),this.state.bankCharges&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Bank Charges")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.bankCharges,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"}))),0!=this.state.chave&&h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},h.a.createElement("label",null,"Codigo")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",disabled:!0,value:this.state.codigo.Proximo?"TS".concat(this.state.codigo.Proximo):this.state.codigo?this.state.codigo:""})),h.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 labelForm"},h.a.createElement("div",{className:"centerDiv"},h.a.createElement("button",{disabled:!d,type:"button",style:d?{width:150,height:50,padding:5,color:"white",border:"1px solid #efefef",marginBottom:25}:{backgroundColor:"#999",opacity:.3,width:150,height:50,padding:5,color:"#ccc",border:"1px solid #ccc",marginBottom:25},onClick:function(){u.setState({cabecalhoModal:!0})}},"Instru\xe7\xe3o de Cobran\xe7a"))),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data Abertura")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.abertura&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",disabled:!0,value:this.state.abertura})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Navio")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navio&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10 "},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.naviosOptions.filter((function(e){return u.filterSearch(e,u.state.naviosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({naviosOptionsTexto:e})},value:this.state.naviosOptions.filter((function(e){return e.value==u.state.navio}))[0],search:!0,onChange:function(e){u.setState({navio:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.navios[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getNavios.php");case 6:return e.t1=e.sent,e.t2={navios:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarNavios",modalPesquisa:u.state.navio,modalLista:u.state.navios});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Porto")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.porto&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.portosOptions.filter((function(e){return u.filterSearch(e,u.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({portosOptionsTexto:e})},value:this.state.portosOptions.filter((function(e){return e.value==u.state.porto}))[0],search:!0,onChange:function(e){u.setState({porto:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.portos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getPortos.php");case 6:return e.t1=e.sent,e.t2={portos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarPortos",modalPesquisa:u.state.porto,modalLista:u.state.portos});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Cliente")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cliente&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.clientesOptions.filter((function(e){return u.filterSearch(e,u.state.clientesOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({clientesOptionsTexto:e})},value:this.state.clientesOptions.filter((function(e){return e.value==u.state.cliente}))[0],search:!0,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({cliente:t.value});case 2:return e.next=4,u.getDadosCliente();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.clientes[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getClientes.php");case 6:return e.t1=e.sent,e.t2={clientes:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:u.state.cliente,modalLista:u.state.clientes});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipos de Servi\xe7o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServico&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.tiposServicosOptions.filter((function(e){return u.filterSearch(e,u.state.tiposServicosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({tiposServicosOptionsTexto:e})},value:this.state.tiposServicosOptions.filter((function(e){return e.value==u.state.tipoServico}))[0],search:!0,onChange:function(e){u.setState({tipoServico:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.tiposServicos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getTiposServicos.php");case 6:return e.t1=e.sent,e.t2={tiposServicos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarTiposServicos",modalPesquisa:u.state.tipoServico,modalLista:u.state.tiposServicos});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Operador")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.operadoresOptions.filter((function(e){return u.filterSearch(e,u.state.operadoresOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({operadoresOptionsTexto:e})},value:this.state.operadoresOptions.filter((function(e){return e.value==u.state.operador}))[0],search:!0,onChange:function(e){u.setState({operador:e.value})}})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.A.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"date",value:this.state.eta,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({eta:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.B.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"datetime-local",value:this.state.etb,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({etb:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.S.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"datetime-local",value:this.state.data_saida,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({data_saida:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),this.state.governmentTaxes&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Government Taxes")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.governmentTaxes,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"})),this.state.bankCharges&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Bank Charges")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.bankCharges,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"})),h.a.createElement("div",null,h.a.createElement("hr",null)),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data Encerramento")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:this.checkOsClosed(),type:"date",value:this.state.encerramento,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({encerramento:t.currentTarget.value});case 2:return e.next=4,u.setState({encerradoPor:""==u.state.encerramento?"":u.state.usuarioLogado.codigo});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data Faturamento")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.faturamento,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.faturarData(t.currentTarget.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data de Envio")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.envio,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({envio:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Centro de Custo")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{disabled:!this.state.editavel,isDisabled:this.state.codigo.slice(2)>=5850,className:"SearchSelect",options:this.state.centrosCustosOptions.filter((function(e){return u.filterSearchCentroCusto(e,u.state.centrosCustosOptionsTexto)})).slice(0,20),onInputChange:function(e){u.setState({centrosCustosOptionsTexto:e})},value:this.state.centrosCustosOptions.filter((function(e){return e.value==u.state.centroCusto}))[0],search:!0,onChange:function(e){u.setState({centroCusto:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.codigo.slice(2)<5850&&1==this.state.acessosPermissoes.filter((function(e){if("CENTROS_CUSTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.centrosCustos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=u,e.next=6,w.a.getBase("getCentroCustos.php");case 6:return e.t1=e.sent,e.t2={centrosCustos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,u.setState({modalAberto:!0,modal:"listarCentrosCustos",modalPesquisa:u.state.centroCusto,modalLista:u.state.centrosCustos});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"R.O.E.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,onWheel:function(e){return e.currentTarget.blur()},type:"number",step:"0.01",value:this.state.roe,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({roe:t.currentTarget.value}),console.log(t.currentTarget.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm "},h.a.createElement("label",null,"Coment\xe1rio Voucher")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"text",rows:"4",component:"textarea",value:this.state.comentario,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({comentario:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{disabled:!(d&&!this.state.faturado),type:"submit",style:d&&!this.state.faturado?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"}))))),h.a.createElement("br",null),0!=this.props.match.params.id&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Relat\xf3rios"))),h.a.createElement("br",null),h.a.createElement("div",{className:"relatoriosSection"},h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.CloseToReal(u.state.os.codigo,d)}},"Close to Real")),1==this.state.acessosPermissoes.filter((function(e){if("RELATORIOS_OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoImprime}))[0]&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.RelatorioVoucher(u.state.os.codigo,d)}},"Vouchers")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.CapaVoucher(u.state.os.codigo,d)}},"Capa")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.FaturamentoCusteio(u.state.os.codigo,d)}},"Relat\xf3rio L\xedquidos")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.setState({agrupadorModal:!0,grupoSelecionado:0,agrupadorEventos:[],agrupadorTipo:"INVOICE"})}},"Invoices"))))),0!=this.props.match.params.id&&h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Fun\xe7\xf5es"))),h.a.createElement("br",null),h.a.createElement("div",{className:"relatoriosSection"},h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.GerarEtiqueta(u.state.os.codigo,!1)}},"Enviar Etiqueta")),1==this.state.acessosPermissoes.filter((function(e){if("RELATORIOS_OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoImprime}))[0]&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.setState({agrupadorModal:!0,grupoSelecionado:0,agrupadorEventos:[],agrupadorTipo:"CUSTEIO"})}},"Custeio Subagente"))),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger"},h.a.createElement(y.b,{style:{color:"inherit",textDecoration:"none"},to:{pathname:"/financeiro/addFatura/0",state:{backTo:"/ordensservicos/os/".concat(this.state.chave),os:this.state.os}}},"Emitir NF"))),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.getCamposVoucher()}},"Campos de Voucher")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.RetornaParaOrcamento(!0)}},"Retroceder para or\xe7amento")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return u.getGruposTemplates()}},"Gerar templates")))),0!=this.props.match.params.id&&1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Eventos"))),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"row",id:"product-list"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},h.a.createElement("div",{className:"single-product-item"},h.a.createElement("div",{className:"row subtitulosTabela"},h.a.createElement("table",{className:"addOsTable"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addevento/0",state:{os:Object(i.a)({},this.state.os),editavel:this.state.editavel}}},h.a.createElement(A.a,{icon:T.M}))))),void 0!=this.state.eventos[0]&&this.state.eventos.map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.setState({modalItemAberto:!1});case 2:return t.next=4,u.setItemEdit(e);case 4:case"end":return t.stop()}}),t)}))),className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(e.chave),state:{evento:Object(i.a)({},e),os:Object(i.a)({},u.state.os)}}},h.a.createElement(A.a,{icon:T.w}))),1==u.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&h.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return u.deleteServicoItem(e.chave,e.descricao)}},h.a.createElement(A.a,{icon:T.S})))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.setState({modalItemAberto:!1});case 2:return t.next=4,u.setItemEdit(e);case 4:case"end":return t.stop()}}),t)}))),className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,u.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(u.state.os.ROE)?parseFloat(u.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(e.chave),state:{evento:Object(i.a)({},e),os:Object(i.a)({},u.state.os)}}},h.a.createElement(A.a,{icon:T.w}))),1==u.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&h.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return u.deleteServicoItem(e.chave,e.descricao)}},h.a.createElement(A.a,{icon:T.S})))))})),this.state.eventos[0]&&h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement(h.a.Fragment,null,this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:this.state.eventos.length%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Bank Charges"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Government Taxes"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0)+(this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Total"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal))),h.a.createElement("td",null))),window.innerWidth>=500&&h.a.createElement(h.a.Fragment,null,this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:this.state.eventos.length%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Bank Charges"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Government Taxes"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0)+(this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Total"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal))),h.a.createElement("td",null))))))))))))),h.a.createElement("div",{ref:"focusMe",tabindex:-1},h.a.createElement(U.a,{chave:this.state.eventoChave,taxas:this.state.taxas,itemPermissao:this.state.itemPermissao,acessosPermissoes:this.state.acessosPermissoes,setItemEdit:function(e){return u.revertItemEdit(e)},itemEdit:this.state.itemEdit,editavel:this.state.editavel,onSubmit:this.salvarEvento,valid:C,aberto:this.state.modalItemAberto,openTemplates:function(){return u.setState({templatesModal:!0})}})),0!=this.props.match.params.id&&this.state.custeios_subagentes[0]&&1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Custeios Subagentes"))),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"row",id:"product-list"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},h.a.createElement("div",{className:"single-product-item"},h.a.createElement("div",{className:"row subtitulosTabela"},h.a.createElement("table",{className:"addOsTable"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Grupo")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Fornecedor")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor")),h.a.createElement("th",{className:"text-center"})),void 0!=this.state.custeios_subagentes[0]&&this.state.custeios_subagentes.map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.grupo)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.fornecedorNome)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L,onClick:function(){return u.setState({grupoSelecionado:e.grupo,agrupadorModal:!0,agrupadorEventos:e.evento.split(","),agrupadorTipo:"CUSTEIO"})}})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.T,onClick:function(){return u.deleteGrupo(e.grupo)}})))),window.innerWidth>=500&&h.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.grupo)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,u.state.tiposServicosItens[e.tipo])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.fornecedorNome)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L,onClick:function(){return u.setState({grupoSelecionado:e.grupo,agrupadorModal:!0,agrupadorEventos:e.evento.split(","),agrupadorTipo:"CUSTEIO"})}})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.T,onClick:function(){return u.deleteGrupo(e.grupo)}})))))}))))))))))),0!=this.props.match.params.id&&1==this.state.acessosPermissoes.filter((function(e){if("DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Documentos"))),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"row",id:"product-list"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},h.a.createElement("div",{className:"single-product-item"},h.a.createElement("div",{className:"row subtitulosTabela"},h.a.createElement("table",{className:"addOsTable"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Nome")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Categoria")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,h.a.createElement(y.b,null,h.a.createElement(A.a,{icon:T.M,onClick:function(){return u.setState({documentoModal:!0})}}))))),void 0!=this.state.documentos[0]&&this.state.documentos.filter((function(e){return 0==e.chave_os_itens})).map((function(e,t){return h.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"},h.a.createElement("a",{href:55==e.tipo_docto?"".concat(O.t,"/").concat(e.caminho):"".concat(O.s,"/docs/").concat(e.caminho),className:"nonlink",target:"_blank"},h.a.createElement("p",null,e.chave))),h.a.createElement("td",{className:"text-center"},h.a.createElement("a",{href:55==e.tipo_docto?"".concat(O.t,"/").concat(e.caminho):"".concat(O.s,"/docs/").concat(e.caminho),className:"nonlink",target:"_blank"},h.a.createElement("p",null,e.descricao))),h.a.createElement("td",{className:"text-center"},h.a.createElement("a",{href:55==e.tipo_docto?"".concat(O.t,"/").concat(e.caminho):"".concat(O.s,"/docs/").concat(e.caminho),className:"nonlink",target:"_blank"},h.a.createElement("p",null,e.caminho))),h.a.createElement("td",{className:"text-center"},h.a.createElement("a",{href:55==e.tipo_docto?"".concat(O.t,"/").concat(e.caminho):"".concat(O.s,"/docs/").concat(e.caminho),className:"nonlink",target:"_blank"},h.a.createElement("p",null,e.categoria))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.M,onClick:function(){return u.setState({documentoModal:!0,documentoDescricao:"",documentoTipo:"",documentoNome:"",documentoEditar:!1})}})),h.a.createElement("span",{className:"iconelixo giveMargin"},h.a.createElement(A.a,{icon:T.L,onClick:function(){return u.setState({documentoModal:!0,documentoDescricao:e.descricao,documentoTipo:e.tipo_docto,documentoNome:"",documentoTrocar:!1,documentoEditar:!0,documentoChave:e.chave,documentoCaminho:e.caminho,dadosIniciaisDoc:[{titulo:"descricao",valor:e.descricao},{titulo:"tipo_doto",valor:e.tipo_docto},{titulo:"caminho",valor:e.caminho}]})}})),1==u.state.acessosPermissoes.filter((function(e){if("DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&h.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return u.deleteDocumento(e.chave,e.descricao,e.caminho)}},h.a.createElement(A.a,{icon:T.T}))))}))))))))))))),h.a.createElement(E.a,null)))}}]),o}(f.Component);t.a=Object(S.b)((function(e){return{user:e.user,empresa:e.empresa,online:e.servidor.online}}),null)(W)}).call(this,a(120).Buffer)},510:function(e,t,a){"use strict";(function(e){var o,n=a(345),r=a(27),s=a(1),c=a.n(s),l=a(2),i=a(3),u=a(14),m=a(15),p=a(18),d=a(17),v=a(9),f=a(0),h=a.n(f),g=(a(708),a(10)),b=a(21),E=a(23),x=a(76),N=a(29),C=a(4),w=a(7),O=a(19),S=a(22),k=a(50),y=a(12),j=a(41),F=a(8),A=a(6),T=a(5),P=a(11),D=a.n(P),_=a(20),L=a(28),I=a(118),M=a(563),R=a(564),B=a(88),q=a(74),Y=a(31),V=a.n(Y),U=(a(449),a(346)),z=a(347),G=(o={os:"",ordem_servico:[],ordem_servico_codigos:[],os_escolhida:{},chave:0,descricao:"",codigo:"",sequencialOrcamento:"",cliente:"",navio:"",abertura:D()().format("YYYY-MM-DD"),chegada:D()().format("YYYY-MM-DD"),tipoServico:"",viagem:"",porto:"",eta:"",atb:"",etb:"",governmentTaxes:!1,bankCharges:!1,data_saida:"",encerramento:"",faturamento:"",envio:"",centroCusto:"",roe:5,comentario:"",encerradoPor:"",faturadoPor:"",empresa:"",operador:"",editavel:!0,deleteSolicitao:!1,eventoChave:0,clientes:[],clientesOptions:[],clientesOptionsTexto:"",navios:[],naviosOptions:[],naviosOptionsTexto:"",portos:[],portosOptions:[],portosOptionsTexto:"",tiposServicos:[],tiposServicosOptions:[],tiposServicosOptionsTexto:"",operadores:[],operadoresOptions:[],operadoresOptionsTexto:"",tiposDocumento:[],tiposDocumentoOptions:[],tiposDocumentoOptionsTexto:"",documentoDescricao:"",documentoTipo:1,acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,modalAberto:!1,modal:0,modalLista:"",modalPesquisa:"",logs:[],modalLog:!1,dadosIniciais:[],dadosFinais:[],dadosIniciaisDoc:[],dadosFinaisDoc:[],modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:""},Object(v.a)(o,"eventoChave",""),Object(v.a)(o,"itemAdd",{}),Object(v.a)(o,"itemEdit",{}),Object(v.a)(o,"itemFinanceiro",{}),Object(v.a)(o,"itemEdit",{}),Object(v.a)(o,"itemDelete",""),Object(v.a)(o,"navioNome",""),Object(v.a)(o,"navioBloqueado",!1),Object(v.a)(o,"portoNome",""),Object(v.a)(o,"portoSigla",""),Object(v.a)(o,"portoBloqueado",!1),Object(v.a)(o,"clienteNome",""),Object(v.a)(o,"clienteCpf",""),Object(v.a)(o,"clienteCpfLimpo",""),Object(v.a)(o,"clienteBloqueado",!1),Object(v.a)(o,"tipoServicoNome",""),Object(v.a)(o,"tipoServicoPrazo",""),Object(v.a)(o,"tipoServicoBloqueado",!1),Object(v.a)(o,"centrosCustos",[]),Object(v.a)(o,"centrosCustosOptions",[]),Object(v.a)(o,"centrosCustosOptionsTexto",""),Object(v.a)(o,"empresas",[]),Object(v.a)(o,"empresasOptions",[]),Object(v.a)(o,"empresasOptionsTexto",""),Object(v.a)(o,"cpfAprovado",!1),Object(v.a)(o,"eventos",[]),Object(v.a)(o,"todosEventos",[]),Object(v.a)(o,"documentos",[]),Object(v.a)(o,"documentoModal",!1),Object(v.a)(o,"documento",[]),Object(v.a)(o,"documentoNome",""),Object(v.a)(o,"documentoChave",""),Object(v.a)(o,"documentoCaminho",""),Object(v.a)(o,"documentoTrocar",!0),Object(v.a)(o,"documentoEditar",!1),Object(v.a)(o,"tiposServicosItens",["Pagar","Receber","Adiantamento","Desconto"]),Object(v.a)(o,"pdfNome",""),Object(v.a)(o,"pdfgerado",[]),Object(v.a)(o,"pdfContent",[]),Object(v.a)(o,"anexosForn",[]),Object(v.a)(o,"moedas",""),Object(v.a)(o,"error",{msg:"",type:""}),Object(v.a)(o,"loading",!0),Object(v.a)(o,"recarregaPagina",!1),Object(v.a)(o,"redirectToNewOs",!1),Object(v.a)(o,"redirectAfterDelOrcamento",!1),Object(v.a)(o,"eventosTotal",0),Object(v.a)(o,"cabecalhoModal",!1),Object(v.a)(o,"cabecalho",""),Object(v.a)(o,"company",""),Object(v.a)(o,"address",""),Object(v.a)(o,"CO",""),Object(v.a)(o,"modalEscolhaOs",!1),Object(v.a)(o,"agrupadorModal",!1),Object(v.a)(o,"agrupadorTipo",""),Object(v.a)(o,"agrupadorEventos",[]),Object(v.a)(o,"agruparFunction",(function(){})),Object(v.a)(o,"custeios_subagentes",[]),Object(v.a)(o,"invoices_groups",[]),Object(v.a)(o,"historicosOptions",[]),Object(v.a)(o,"planosContasOptions",[]),Object(v.a)(o,"meiosPagamentosOptions",[]),Object(v.a)(o,"optionsTexto",""),Object(v.a)(o,"historico",[]),Object(v.a)(o,"historicoPadrao",[]),Object(v.a)(o,"codBarras",[]),Object(v.a)(o,"contaDebito",[]),Object(v.a)(o,"contaCredito",[]),Object(v.a)(o,"meioPagamento",[]),Object(v.a)(o,"meioPagamentoNome",[]),Object(v.a)(o,"codigoReceita",[]),Object(v.a)(o,"contribuinte",[]),Object(v.a)(o,"codigoIdentificadorTributo",[]),Object(v.a)(o,"mesCompetNumRef",[]),Object(v.a)(o,"dataApuracao",[]),Object(v.a)(o,"darfValor",[]),Object(v.a)(o,"darfPagamento",[]),Object(v.a)(o,"darfMulta",[]),Object(v.a)(o,"darfJuros",[]),Object(v.a)(o,"darfOutros",[]),Object(v.a)(o,"contabiliza",!1),Object(v.a)(o,"eventosContabilizando",[]),Object(v.a)(o,"paginaContabiliza",0),Object(v.a)(o,"anexosNaoValidados",[]),Object(v.a)(o,"faturado",!1),Object(v.a)(o,"eventoData",""),Object(v.a)(o,"eventoFornecedor",""),Object(v.a)(o,"eventoMoeda",""),Object(v.a)(o,"eventoFornecedorInicial",""),Object(v.a)(o,"eventoTaxa",""),Object(v.a)(o,"eventoDescricao",""),Object(v.a)(o,"eventoTipo",""),Object(v.a)(o,"eventoOrdem",""),Object(v.a)(o,"eventoRemarks",""),Object(v.a)(o,"eventoValor",""),Object(v.a)(o,"eventoVlrc",""),Object(v.a)(o,"eventoRepasse",""),Object(v.a)(o,"eventoFornecedorCusteio",""),Object(v.a)(o,"taxas",[]),Object(v.a)(o,"taxasOptions",[]),Object(v.a)(o,"fornecedoresOptions",[]),Object(v.a)(o,"descricoesPadraoOptions",[]),Object(v.a)(o,"tiposSubOptions",[{label:"Pagar",value:0},{label:"Receber",value:1},{label:"Recebimento de Remessa",value:2},{label:"Desconto",value:3}]),Object(v.a)(o,"dadosIniciaisSol",[]),Object(v.a)(o,"dadosFinaisSol",[]),Object(v.a)(o,"templatesModal",!1),Object(v.a)(o,"templates",[]),Object(v.a)(o,"grupoTemplate",{}),Object(v.a)(o,"gruposTemplates",[]),Object(v.a)(o,"gruposTemplatesModal",!1),Object(v.a)(o,"modalCamposOS",!1),Object(v.a)(o,"camposOS",[]),o),W=function(t){Object(p.a)(o,t);var a=Object(d.a)(o);function o(t){var s;return Object(u.a)(this,o),(s=a.call(this,t)).state=Object(i.a)(Object(i.a)({},G),{},{usuarioLogado:s.props.user}),s.componentDidMount=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=s.state.usuarioLogado)||void 0===t?void 0:t.codigo){e.next=2;break}return e.abrupt("return");case 2:return window.scrollTo(0,0),e.next=5,s.props.match.params.id;case 5:return a=e.sent,e.next=8,s.setState({chave:a});case 8:if(0==s.state.usuarioLogado.empresa){e.next=11;break}return e.next=11,s.setState({empresa:s.state.usuarioLogado.empresa});case 11:if(0===parseInt(a)){e.next=35;break}return e.t0=s,e.next=15,w.a.getOne("getOSUma.php",null,null,{chave_os:s.state.chave});case 15:return e.t1=e.sent,e.next=18,w.a.getOne("getContaOS.php",null,null,{chave_os:s.state.chave});case 18:return e.t2=e.sent,e.t3={os:e.t1,contaOs:e.t2},e.next=22,e.t0.setState.call(e.t0,e.t3);case 22:return e.next=24,s.setState({descricao:s.state.os.Descricao,codigo:s.state.os.codigo,cliente:s.state.os.Chave_Cliente,navio:s.state.os.chave_navio,abertura:D()(s.state.os.Data_Abertura).format("YYYY-MM-DD"),chegada:D()(s.state.os.Data_Chegada).format("YYYY-MM-DD"),tipoServico:s.state.os.chave_tipo_servico,viagem:s.state.os.viagem,porto:s.state.os.porto,eta:D()(s.state.os.eta).format("YYYY-MM-DD"),atb:D()(s.state.os.atb).format("YYYY-MM-DD"),etb:D()(s.state.os.etb).format("YYYY-MM-DD HH:mm"),data_saida:"Invalid date"!=D()(s.state.os.Data_Saida).format("YYYY-MM-DD")?D()(s.state.os.Data_Saida).format("YYYY-MM-DD HH:mm"):"T.B.I.",encerramento:"Invalid date"!=D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD")?D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD"):"T.B.I.",faturamento:"Invalid date"!=D()(s.state.os.Data_Faturamento).format("YYYY-MM-DD")?D()(s.state.os.Data_Faturamento).format("YYYY-MM-DD"):"T.B.I.",envio:"Invalid date"!=D()(s.state.os.envio).format("YYYY-MM-DD")?D()(s.state.os.envio).format("YYYY-MM-DD"):"T.B.I.",centroCusto:s.state.os.centro_custo,roe:0==parseFloat(s.state.os.ROE)?"5.00000":s.state.os.ROE,comentario:s.state.os.Comentario_Voucher,encerradoPor:s.state.os.encerradoPor,faturadoPor:s.state.os.faturadoPor,cabecalho:s.state.os.cabecalho,empresa:s.state.os.Empresa,operador:s.state.os.operador});case 24:if("Invalid date"==D()(s.state.os.Data_Encerramento).format("YYYY-MM-DD")){e.next=29;break}return e.next=27,s.setState({editavel:!1});case 27:e.next=31;break;case 29:return e.next=31,s.setState({editavel:!0});case 31:if(!s.state.cabecalho){e.next=35;break}try{o=JSON.parse(s.state.cabecalho)}catch(r){o=JSON.parse(s.state.cabecalho.replaceAll("\n","\\n").replaceAll("\t","\\t"))}return e.next=35,s.setState({company:o.company?o.company:"",address:o.address?o.address:"",CO:o.CO?o.CO:""});case 35:return e.next=37,s.loadAll();case 37:return e.next=39,s.getDadosCliente();case 39:if(0==s.state.chave){e.next=42;break}return e.next=42,s.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.descricao)},{titulo:"C\xf3digo",valor:C.a.formatForLogs(s.state.codigo)},{titulo:"Cliente",valor:C.a.formatForLogs(s.state.cliente,"options","","",s.state.pessoasOptions)},{titulo:"Navio",valor:C.a.formatForLogs(s.state.navio,"options","","",s.state.naviosOptions)},{titulo:"Data de Abertura",valor:C.a.formatForLogs(s.state.abertura,"date")},{titulo:"Data de Chegada",valor:C.a.formatForLogs(s.state.chegada,"date")},{titulo:"Tipo de Servico",valor:C.a.formatForLogs(s.state.tipoServico,"options","","",s.state.tiposServicosOptions)},{titulo:"Viagem",valor:C.a.formatForLogs(s.state.viagem)},{titulo:"Porto",valor:C.a.formatForLogs(s.state.porto,"options","","",s.state.portosOptions)},{titulo:"ETA",valor:C.a.formatForLogs(s.state.eta,"date")},{titulo:"ATB",valor:C.a.formatForLogs(s.state.atb,"date")},{titulo:"ETB",valor:C.a.formatForLogs(s.state.etb,"datetime")},{titulo:"Government Taxes",valor:C.a.formatForLogs(s.state.governmentTaxes,"money")},{titulo:"Bank Charges",valor:C.a.formatForLogs(s.state.bankCharges,"money")},{titulo:"Data de Saida",valor:C.a.formatForLogs(s.state.data_saida,"datetime")},{titulo:"Data de Encerramento",valor:C.a.formatForLogs(s.state.encerramento,"date")},{titulo:"Data de Faturamento",valor:C.a.formatForLogs(s.state.faturamento,"date")},{titulo:"Centro de Custo",valor:C.a.formatForLogs(s.state.centroCusto,"options","","",s.state.centrosCustosOptions)},{titulo:"ROE",valor:C.a.formatForLogs(s.state.roe)},{titulo:"Comentario Voucher",valor:C.a.formatForLogs(s.state.comentario)},{titulo:"Encerrado por",valor:C.a.formatForLogs(s.state.encerradoPor,"options","","",s.state.operadoresOptions)},{titulo:"Faturado por",valor:C.a.formatForLogs(s.state.faturadoPor,"options","","",s.state.operadoresOptions)},{titulo:"Operador",valor:C.a.formatForLogs(s.state.operador,"options","","",s.state.operadoresOptions)}]});case 42:"T.B.I."!=s.state.faturamento&&0!=s.state.chave?(n=!1,s.state.acessosPermissoes.map((function(e){"EVENTOS_FINANCEIRO"==e.acessoAcao&&1==e.permissaoEdita&&(n=!0)})),n||s.setState({faturado:!0})):s.setState({faturado:!1}),s.state.acessosPermissoes.map((function(e){("OS"==e.acessoAcao&&0==e.permissaoInsere&&0==s.state.chave||"OS"==e.acessoAcao&&0==e.permissaoEdita&&0!=s.state.chave)&&s.setState({bloqueado:!0})})),s.setState({loading:!1});case 45:case"end":return e.stop()}}),e)}))),s.componentDidUpdate=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.deleteSolicitao||s.state.modalItemAberto==a.modalItemAberto){e.next=3;break}return e.next=3,s.setState({modalItemAberto:!1,deleteSolicitao:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.calculaTotal=function(){var e=0;return s.state.eventos.map((function(t){0==t.tipo_sub||1==t.tipo_sub?5==t.Moeda?e+=parseFloat(t.valor):6==t.Moeda&&(e+=parseFloat(t.valor)*(0==parseFloat(s.state.os.ROE)?5:parseFloat(s.state.os.ROE))):5==t.Moeda?e-=parseFloat(t.valor):6==t.Moeda&&(e-=parseFloat(t.valor)*(0==parseFloat(s.state.os.ROE)?5:parseFloat(s.state.os.ROE)))})),s.state.bankCharges&&0!=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&(e+=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))),s.state.governmentTaxes&&0!=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&(e+=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))),s.setState({eventosTotal:e}),e},s.getDadosCliente=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getBody("getContatos.php",{token:!0,pessoa:s.state.cliente});case 2:t=e.sent,s.setState({bankCharges:!1,governmentTaxes:!1}),a=0;case 5:if(!(a<t.length)){e.next=24;break}if("BK"!=(o=t[a]).Tipo){e.next=20;break}if(!["SIM","S"].includes(o.Campo1.toUpperCase())){e.next=15;break}return e.next=11,w.a.getBody("getParametros.php",{token:!0,empresa:s.state.usuarioLogado.empresa});case 11:(n=e.sent)[0].bank_charges?s.setState({bankCharges:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(n[0].bank_charges)}):s.setState({bankCharges:"0,00"}),e.next=20;break;case 15:if(!C.a.verificaDatas(s.state.encerramento,o.Campo1)){e.next=20;break}return e.next=18,w.a.getBody("getParametros.php",{token:!0,empresa:s.state.usuarioLogado.empresa});case 18:(r=e.sent)[0].bank_charges?s.setState({bankCharges:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(r[0].bank_charges)}):s.setState({bankCharges:"0,00"});case 20:"GT"==o.Tipo&&(["SIM","S"].includes(o.Campo1.toUpperCase())?(l=0,s.state.eventos.filter((function(e){return 0!=e.Fornecedor_Custeio})).map((function(e){if(5==e.Moeda)l+=.05*parseFloat(e.valor);else if(6==e.Moeda){var t=5;s.state.os&&0!=parseFloat(s.state.os.ROE)&&(t=parseFloat(s.state.os.ROE)),l+=parseFloat(e.valor)*t*.05}})),s.setState({governmentTaxes:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l)})):C.a.verificaDatas(s.state.encerramento,o.Campo1)&&(i=0,s.state.eventos.filter((function(e){return 0!=e.Fornecedor_Custeio})).map((function(e){if(5==e.Moeda)i+=.05*parseFloat(e.valor);else if(6==e.Moeda){var t=5;s.state.os&&0!=parseFloat(s.state.os.ROE)&&(t=parseFloat(s.state.os.ROE)),i+=parseFloat(e.valor)*t*.05}})),s.setState({governmentTaxes:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)})));case 21:a++,e.next=5;break;case 24:s.calculaTotal();case 25:case"end":return e.stop()}}),e)}))),s.loadAll=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getOS();case 2:return e.t0=s,e.next=5,w.a.getBaseOptions("getNavios.php","nome","chave");case 5:return e.t1=e.sent,e.next=8,w.a.getBaseOptionsCustomLabel("getClientes.php","Nome","Cnpj_Cpf","Chave");case 8:return e.t2=e.sent,e.next=11,w.a.getBaseOptions("getTiposServicos.php","descricao","chave");case 11:return e.t3=e.sent,e.next=14,w.a.getBaseOptions("getPortos.php","Descricao","Chave");case 14:return e.t4=e.sent,e.next=17,w.a.getBaseOptions("getTiposDocumento.php","Descricao","Chave");case 17:return e.t5=e.sent,e.next=20,w.a.getBaseOptions("getMoedas.php","Sigla","Chave");case 20:return e.t6=e.sent,e.next=23,w.a.getBase("getTiposAcessos.php");case 23:return e.t7=e.sent,e.next=26,w.a.getBase("getPermissoes.php");case 26:return e.t8=e.sent,e.t9={naviosOptions:e.t1,clientesOptions:e.t2,tiposServicosOptions:e.t3,portosOptions:e.t4,tiposDocumentoOptions:e.t5,moedasOptions:e.t6,acessos:e.t7,permissoes:e.t8},e.next=30,e.t0.setState.call(e.t0,e.t9);case 30:return e.next=32,w.a.getPlanosContasAnaliticasOptions();case 32:return(t=e.sent).unshift({value:"",label:"Select..."}),e.next=36,w.a.getMeiosPagamentosOptions();case 36:return(a=e.sent).unshift({value:"",label:"Select..."}),e.next=40,s.getOperadores();case 40:if(!s.state.chave){e.next=51;break}return e.next=43,s.getCusteiosSubagentes();case 43:return e.next=45,s.getInvoices();case 45:return e.next=47,s.getCentrosCustos();case 47:return e.next=49,s.getServicosItens();case 49:return e.next=51,s.getDocumentos();case 51:return e.next=53,s.getTemplates();case 53:return e.t10=s,e.t11=t,e.t12=a,e.next=58,w.a.testaAcesso(s.state.acessos,s.state.permissoes,s.state.usuarioLogado);case 58:return e.t13=e.sent,e.t14={planosContasOptions:e.t11,meiosPagamentosOptions:e.t12,acessosPermissoes:e.t13},e.next=62,e.t10.setState.call(e.t10,e.t14);case 62:case"end":return e.stop()}}),e)}))),s.getOS=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[],e.t1=Object(r.a)(s.state.ordem_servico),e.t2=r.a,e.next=5,w.a.getBase("getOS.php",s.state.usuarioLogado.empresa,201,0);case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),t=e.t0.concat.call(e.t0,e.t1,e.t4),e.next=10,s.setState({ordem_servico:t});case 10:s.state.ordem_servico.map(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(r.a)(s.state.ordem_servico_codigos),[{label:t.codigo,value:t.Chave}]),e.next=3,s.setState({ordem_servico_codigos:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(s.state.ordem_servico_codigos);case 12:case"end":return e.stop()}}),e)}))),s.checkOsClosed=function(){return!s.state.editavel&&1!=s.state.acessosPermissoes.filter((function(e){if("OS_ENCERRADA"==e.acessoAcao)return e})).map((function(e){return e.permissaoEdita}))[0]},s.getCusteiosSubagentes=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCusteioSubagente.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data&&s.setState({custeios_subagentes:Object(r.a)(t.data)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getInvoices=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getInvoices.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data&&s.setState({invoices_groups:Object(r.a)(t.data)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.filterAgrupador=function(e){var t=[];if("INVOICE"==s.state.agrupadorTipo){if(0!=s.state.grupoSelecionado)return!1;if(s.state.agrupadorEventos[0]){if(s.state.invoices_groups.filter((function(e){return e.grupo!=s.state.grupoSelecionado})).map((function(e){return e.evento.split(",").map((function(e){t.push(e)}))})),t.includes(e.chave))return!1;var a=s.state.eventos.find((function(e){return e.chave==s.state.agrupadorEventos[0]}));if(e.voucher!=(null===a||void 0===a?void 0:a.voucher)||e.Fornecedor_Custeio!=(null===a||void 0===a?void 0:a.Fornecedor_Custeio))return!1}}if("CUSTEIO"==s.state.agrupadorTipo){if(s.state.custeios_subagentes.filter((function(e){return e.grupo!=s.state.grupoSelecionado})).map((function(e){return e.evento.split(",").map((function(e){t.push(e)}))})),t.includes(e.chave))return!1;if(!s.state.agrupadorEventos[0]&&!e.conta)return!0;var o=s.state.eventos.find((function(e){return e.chave==s.state.agrupadorEventos[0]}));if(e.tipo_sub!=(null===o||void 0===o?void 0:o.tipo_sub)||e.fornecedor!=(null===o||void 0===o?void 0:o.fornecedor))return!1}return!0},s.agruparEventos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=s.state.grupoSelecionado){e.next=5;break}return e.next=3,F.a.post("insertCusteioSubagente.php",{token:!0,os:s.state.chave,eventos:s.state.agrupadorEventos}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({agrupadorEventos:[]}),e.next=3,s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=7;break;case 5:return e.next=7,F.a.post("updateCusteioSubagente.php",{token:!0,os:s.state.chave,grupo:s.state.grupoSelecionado,eventos:s.state.agrupadorEventos}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({agrupadorEventos:[]}),e.next=3,s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)}))),s.abrirContabilizacao=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,l,i,u,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.state.eventos.filter((function(e){var a;return null===(a=s.state.custeios_subagentes.find((function(e){return e.grupo==t})))||void 0===a?void 0:a.evento.split(",").includes(e.chave)})),o=Object(r.a)(Array(a.length)).map((function(){return""})),l=[],i=[],u=Object(n.a)(a),e.prev=5,u.s();case 7:if((m=u.n()).done){e.next=62;break}if(1!=(p=m.value).tipo_sub){e.next=22;break}return e.t0=i,e.next=13,w.a.getContaTaxa(p.taxa);case 13:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=l,e.next=18,w.a.getContaPessoa(s.state.cliente);case 18:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=60;break;case 22:if(0!=p.tipo_sub){e.next=44;break}if(1!=p.repasse){e.next=36;break}return e.t4=i,e.next=27,w.a.getContaPessoa(p.fornecedor&&"0"!==p.fornecedor?p.fornecedor:p.Fornecedor_Custeio,"provisao");case 27:return e.t5=e.sent,e.t4.push.call(e.t4,e.t5),e.t6=l,e.next=32,w.a.getContaPessoa(s.state.cliente);case 32:e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.next=42;break;case 36:return e.t8=i,e.next=39,w.a.getContaPessoa(p.fornecedor&&"0"!==p.fornecedor?p.fornecedor:p.Fornecedor_Custeio,"provisao");case 39:e.t9=e.sent,e.t8.push.call(e.t8,e.t9),l.push("");case 42:e.next=60;break;case 44:if(2!=p.tipo_sub){e.next=53;break}return e.t10=i,e.next=48,w.a.getContaPessoa(s.state.cliente);case 48:e.t11=e.sent,e.t10.push.call(e.t10,e.t11),l.push(O.q),e.next=60;break;case 53:if(3!=p.tipo_sub){e.next=60;break}return e.t12=i,e.next=57,w.a.getContaPessoa(s.state.cliente);case 57:e.t13=e.sent,e.t12.push.call(e.t12,e.t13),l.push();case 60:e.next=7;break;case 62:e.next=67;break;case 64:e.prev=64,e.t14=e.catch(5),u.e(e.t14);case 67:return e.prev=67,u.f(),e.finish(67);case 70:s.setState({historico:o,codBarras:o,meioPagamento:o,meioPagamentoNome:o,darfPagamento:o,codigoReceita:o,contribuinte:o,codigoIdentificadorTributo:o,mesCompetNumRef:o,dataApuracao:o,darfValor:o,darfMulta:o,darfJuros:o,darfOutros:o,contaDebito:l,contaCredito:i,eventosContabilizando:a,contabiliza:!0,paginaContabiliza:0});case 71:case"end":return e.stop()}}),e,null,[[5,64,67,70]])})));return function(t){return e.apply(this,arguments)}}(),s.deleteGrupo=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var a=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},s.setState({modalItemAberto:!1}),h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este grupo?"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteCusteioSubagente.php",{token:!0,grupo:t,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("custeios_subagentes",s.state.usuarioLogado.codigo,null,"Exclus\xe3o",t);case 2:s.getCusteiosSubagentes();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:a();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getTaxasOptions=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!s.state.taxas[0]){e.next=5;break}t=s.state.taxas,e.next=8;break;case 5:return e.next=7,F.a.post("getTaxas.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t=e.sent;case 8:if(s.setState({taxas:t}),0!=s.state.eventoTipo){e.next=15;break}return a=t.filter((function(e){return"P"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=13,s.setState({taxasOptions:a});case 13:e.next=24;break;case 15:if(1!=s.state.eventoTipo){e.next=21;break}return o=t.filter((function(e){return"R"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=19,s.setState({taxasOptions:o});case 19:e.next=24;break;case 21:return n=t.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),e.next=24,s.setState({taxasOptions:n});case 24:case"end":return e.stop()}}),e)}))),s.getFornecedores=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getFornecedores.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=5;break}return(a=t.data.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(C.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}}))).unshift({label:"Nenhum",value:""}),e.next=5,s.setState({fornecedoresOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getDescricaoPadrao=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getDescricaoPadrao.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=4;break}return a=t.data.map((function(e){return{label:e.descricao,value:e.descricao}})),e.next=4,s.setState({descricoesPadraoOptions:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.setItemEdit=Object(l.a)(c.a.mark((function e(){var t,a,o,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,a=n.length>1&&void 0!==n[1]&&n[1],e.next=4,s.setState({modalItemAberto:!1});case 4:return e.next=6,s.getTaxasOptions();case 6:if(s.state.fornecedoresOptions[0]){e.next=9;break}return e.next=9,s.getFornecedores();case 9:if(s.state.descricoesPadraoOptions[0]){e.next=12;break}return e.next=12,s.getDescricaoPadrao();case 12:if(!a){e.next=18;break}return o={data:t.data||s.state.eventoData,fornecedor:t.fornecedor||s.state.eventoFornecedor,Moeda:t.Moeda||s.state.eventoMoeda,taxa:t.taxa||s.state.eventoTaxa,descricao:t.descricao||s.state.eventoDescricao,tipo_sub:t.tipo_sub||s.state.eventoTipo,ordem:s.state.eventoOrdem,remarks:t.remarks||s.state.eventoRemarks,valor:t.valor||s.state.eventoValor,valor1:t.valor1||s.state.eventoVlrc,repasse:t.repasse||s.state.eventoRepasse,Fornecedor_Custeio:t.Fornecedor_Custeio||s.state.eventoFornecedorCusteio,chave:s.state.eventoChave},e.next=16,s.setState({eventoData:o.data,eventoFornecedor:o.fornecedor,eventoMoeda:o.Moeda,eventoTaxa:o.taxa,eventoDescricao:o.descricao,eventoTipo:o.tipo_sub,eventoOrdem:o.ordem,eventoRemarks:o.remarks,eventoValor:Number(o.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor):"0,00",eventoVlrc:Number(o.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor1):"0,00",eventoRepasse:o.repasse,eventoFornecedorCusteio:o.Fornecedor_Custeio,eventoChave:o.chave,modalItemAberto:!0,itemNome:o.descricao,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)}],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",valor:o.data,obrigatorio:!0,tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",valor:o.ordem,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",valor:o.tipo_sub,obrigatorio:!0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:1==o.repasse,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",valor:o.taxa,obrigatorio:[0,1].includes(o.tipo_sub),tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",valor:o.fornecedor,obrigatorio:0==o.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:o.Fornecedor_Custeio,obrigatorio:1==o.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:o.descricao,tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",valor:o.descricao,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:o.Moeda,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:Number(o.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor):"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"VCP",valor:Number(o.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.valor1):"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:o.remarks,tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 16:e.next=25;break;case 18:if(!t){e.next=23;break}return e.next=21,s.setState({eventoData:t.data||s.state.eventoData,eventoFornecedor:t.fornecedor,eventoMoeda:t.Moeda,eventoTaxa:t.taxa,eventoDescricao:t.descricao,eventoTipo:t.tipo_sub,eventoOrdem:t.ordem,eventoRemarks:t.remarks,eventoValor:Number(t.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor):"0,00",eventoVlrc:Number(t.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor1):"0,00",eventoRepasse:t.repasse,eventoFornecedorCusteio:t.Fornecedor_Custeio,eventoChave:t.chave,modalItemAberto:!0,itemNome:t.descricao,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)}],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",valor:t.data,obrigatorio:!0,tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",valor:t.ordem,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",valor:t.tipo_sub,obrigatorio:!0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:1==t.repasse,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",valor:t.taxa,obrigatorio:[0,1].includes(t.tipo_sub),tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",valor:t.fornecedor,obrigatorio:0==t.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:t.Fornecedor_Custeio,obrigatorio:1==t.tipo_sub,tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:t.descricao,tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",valor:t.descricao,obrigatorio:!0,tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:t.Moeda,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:Number(t.valor)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor):"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"VCP",valor:Number(t.valor1)?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.valor1):"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:t.remarks,tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 21:e.next=25;break;case 23:return e.next=25,s.setState({eventoData:D()().format("YYYY-MM-DD"),eventoFornecedor:"",eventoMoeda:6,eventoTaxa:"",eventoDescricao:"",eventoTipo:0,eventoOrdem:"".concat(Math.floor(Math.max.apply(Math,Object(r.a)(s.state.eventos.map((function(e){return parseFloat(e.ordem)}))).concat([0])))+1),eventoRemarks:"",eventoValor:"0,00",eventoVlrc:"0,00",eventoRepasse:!1,eventoFornecedorCusteio:"",modalItemAberto:!0,itemNome:"",eventoChave:0,itemPermissao:"SERVICOS_ITENS",dadosIniciaisSol:[],itemEdit:{onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.salvarEvento();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),valores:[{titulo:"Data",obrigatorio:!0,valor:D()().format("YYYY-MM-DD"),tipo:"date",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Ordem",obrigatorio:!0,valor:"".concat(Math.floor(Math.max.apply(Math,Object(r.a)(s.state.eventos.map((function(e){return parseFloat(e.ordem)}))).concat([0])))+1),tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoOrdem:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Tipo",obrigatorio:!0,valor:0,tipo:"select",options:s.state.tiposSubOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTipo:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Repasse",valor:!1,tipo:"check",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRepasse:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Taxa",obrigatorio:!0,valor:"",tipo:"select",options:s.state.taxasOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoTaxa:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor",obrigatorio:!0,valor:"",tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Fornecedor Custeio",valor:"",tipo:"select",options:s.state.fornecedoresOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoFornecedorCusteio:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o Padr\xe3o",valor:"",tipo:"select",options:s.state.descricoesPadraoOptions,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Descri\xe7\xe3o",obrigatorio:!0,valor:"",tipo:"text",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoDescricao:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{half:!0,titulo:"Valor",obrigatorio:!0,valor1:6,tipo1:"select",options1:s.state.moedasOptions,onChange1:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoMoeda:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),valor2:"0,00",tipo2:"text",onChange2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur2:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoValor:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"VCP",valor:"0,00",tipo:"money",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoVlrc:Number(t.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.replaceAll(".","").replaceAll(",",".")):""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{titulo:"Remarks",valor:"",tipo:"textarea",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({eventoRemarks:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}});case 25:s.refs.focusMe&&s.refs.focusMe.focus();case 26:case"end":return e.stop()}}),e)}))),s.getServicosItens=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getServicosItensOs.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(r.a)(s.state.todosEventos),Object(r.a)(t.data)),(o=[].concat(Object(r.a)(s.state.eventos),Object(r.a)(t.data.filter((function(e){return 1!=e.cancelada}))))).find((function(e){return 0==e.Moeda}))&&s.setState({error:{type:"error",msg:"Foram encontrados eventos sem valor de moeda. Por favor contate o setor de desenvolvimento"}}),e.next=5,s.setState({eventos:o,todosEventos:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.erroApi(e)}));case 2:case"end":return e.stop()}}),e)}))),s.getDocumentos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getDocumentosOS.php",{token:!0,chave_os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(r.a)(s.state.documentos),Object(r.a)(t.data)),e.next=3,s.setState({documentos:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.erroApi(e)}));case 2:case"end":return e.stop()}}),e)}))),s.faturarData=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.anexosForn[0]){e.next=5;break}return e.next=3,s.setState({faturamento:t,faturadoPor:""!=t&&D()(t).isValid()?s.state.usuarioLogado.codigo:""});case 3:e.next=7;break;case 5:return e.next=7,s.setState({error:{type:"error",msg:"H\xe1 Faturas Pendentes!"}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.deleteServicoItem=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({deleteSolicitao:!0}),Object(L.confirmAlert)({customUI:function(e){var o=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},s.setState({modalItemAberto:!1}),h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este evento? (",a,") "),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteServicoItem.php",{token:!0,chave:t,canceladaPor:s.state.usuarioLogado.codigo}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.data){e.next=4;break}return e.next=3,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Cancelamento",t);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:o();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.deleteDocumento=function(){var e=Object(l.a)(c.a.mark((function e(t,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var n=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Deseja remover este Documento? (",a,") "),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteDocumento.php",{token:!0,chave:t,nome:o}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.data){e.next=4;break}return e.next=3,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,null,"Exclus\xe3o",t);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:n();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}(),s.getCodigo=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCodigos.php",{token:!0,tipo:"OS"}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({codigo:t.data[0]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getSequencialOrcamento=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCodigos.php",{token:!0,tipo:"SO"}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({sequencialOrcamento:t.data[0]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getCentrosCustos=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getCentrosCustosLivres.php",{token:!0,os_chave:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({centrosCustos:t.data});case 2:return a=s.state.centrosCustos.map((function(e){return{label:"CC:".concat(e.Codigo," - ").concat(e.Descricao),value:e.Chave}})),(o=s.state.centrosCustos.find((function(e){return!s.state.centroCusto&&e.Codigo==s.state.codigo.slice(2)&&e.Codigo>=5850})))&&s.setState({centroCusto:o.Chave}),a.unshift({label:"--",value:""}),e.next=8,s.setState({centrosCustosOptions:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getOperadores=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getOperadores.php",{token:!0,empresa:s.state.usuarioLogado.empresa}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({operadores:t.data});case 2:return(a=s.state.operadores.filter((function(e){return 1==e.ativo})).map((function(e){return{label:e.Nome,value:e.Codigo}}))).unshift({label:"NENHUM",value:""}),e.next=6,s.setState({operadoresOptions:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.finalizaSalvamento=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.confirmAlert)({customUI:function(e){var t=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"OS salva!"),h.a.createElement("p",null,"Deseja criar mais?"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({recarregaPagina:!0});case 2:t();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 1:case"end":return e.stop()}}),e)}))),s.getTemplates=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("getEventosTemplates.php",{token:!0,empresa:s.state.usuarioLogado.empresa,offset:0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({templates:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.getGruposTemplates=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.gruposTemplates[0]){e.next=3;break}return e.next=3,F.a.post("getGruposTemplates.php",{token:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({gruposTemplates:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:s.setState({gruposTemplatesModal:!0});case 4:case"end":return e.stop()}}),e)}))),s.criarGrupoTemplates=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.state.grupoTemplate,(null===(a=n.templatesChaves)||void 0===a||null===(o=a.split("@.@"))||void 0===o?void 0:o.map((function(e){return s.state.templates.find((function(t){return t.chave==e}))}))).forEach(function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.state.eventos.length>0?parseFloat(null===(n=s.state.eventos[s.state.eventos.length-1])||void 0===n?void 0:n.ordem.replaceAll(",","."))+(a+1):a+1,e.next=3,F.a.post("insertServicoItemBasico.php",{token:!0,values:"'".concat(s.state.chave,"', '', '").concat(t.fornecedor,"', '").concat(t.taxa,"', '").concat(t.descricao,"', '").concat(t.tipo_sub,"', '").concat(t.Fornecedor_Custeio,"', '").concat(t.remarks,"', '").concat(t.Moeda,"', '").concat(t.valor,"', '").concat(t.valor1,"', '").concat(t.repasse,"'"),chave_os:s.state.chave,ordem:o}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),t?s.salvarOS(t):s.setState({recarregaPagina:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.salvarOS=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,u,m,p=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(p.length>1&&void 0!==p[1])||p[1],s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=4,s.setState({governmentTaxes:s.state.governmentTaxes?s.state.governmentTaxes:0,bankCharges:s.state.bankCharges?s.state.bankCharges:0,dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.descricao)},{titulo:"C\xf3digo",valor:C.a.formatForLogs(s.state.codigo)},{titulo:"Cliente",valor:C.a.formatForLogs(s.state.cliente,"options","","",s.state.pessoasOptions)},{titulo:"Navio",valor:C.a.formatForLogs(s.state.navio,"options","","",s.state.naviosOptions)},{titulo:"Data de Abertura",valor:C.a.formatForLogs(s.state.abertura,"date")},{titulo:"Data de Chegada",valor:C.a.formatForLogs(s.state.chegada,"date")},{titulo:"Tipo de Servico",valor:C.a.formatForLogs(s.state.tipoServico,"options","","",s.state.tiposServicosOptions)},{titulo:"Viagem",valor:C.a.formatForLogs(s.state.viagem)},{titulo:"Porto",valor:C.a.formatForLogs(s.state.porto,"options","","",s.state.portosOptions)},{titulo:"ETA",valor:C.a.formatForLogs(s.state.eta,"date")},{titulo:"ATB",valor:C.a.formatForLogs(s.state.atb,"date")},{titulo:"ETB",valor:C.a.formatForLogs(s.state.etb,"datetime")},{titulo:"Government Taxes",valor:C.a.formatForLogs(s.state.governmentTaxes,"money")},{titulo:"Bank Charges",valor:C.a.formatForLogs(s.state.bankCharges,"money")},{titulo:"Data de Saida",valor:C.a.formatForLogs(s.state.data_saida,"datetime")},{titulo:"Data de Encerramento",valor:C.a.formatForLogs(s.state.encerramento,"date")},{titulo:"Data de Faturamento",valor:C.a.formatForLogs(s.state.faturamento,"date")},{titulo:"Centro de Custo",valor:C.a.formatForLogs(s.state.centroCusto,"options","","",s.state.centrosCustosOptions)},{titulo:"ROE",valor:C.a.formatForLogs(s.state.roe)},{titulo:"Comentario Voucher",valor:C.a.formatForLogs(s.state.comentario)},{titulo:"Encerrado por",valor:C.a.formatForLogs(s.state.encerradoPor,"options","","",s.state.operadoresOptions)},{titulo:"Faturado por",valor:C.a.formatForLogs(s.state.faturadoPor,"options","","",s.state.operadoresOptions)},{titulo:"Operador",valor:C.a.formatForLogs(s.state.operador,"options","","",s.state.operadoresOptions)}],loading:!0,bloqueado:!0});case 4:if(0!==parseInt(s.state.chave)||!t){e.next=15;break}return e.next=7,s.getCodigo();case 7:return e.next=9,s.getSequencialOrcamento();case 9:return m=(m=null===(o=s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})))||void 0===o?void 0:o.label).split(" ")[0],e.next=13,F.a.post("insertOsOrcamento.php",{token:!0,values:"'".concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.descricao,"', 'ST").concat(s.state.codigo.Proximo,"', '").concat(s.state.cliente,"', '").concat(s.state.navio,"', '").concat(D()(s.state.abertura).format("YYYY-MM-DD"),"', '").concat(D()(s.state.chegada).format("YYYY-MM-DD"),"', '").concat(D()(s.state.data_saida).format("YYYY-MM-DD HH:mm"),"', '").concat(s.state.tipoServico,"', '").concat(s.state.viagem,"', '").concat(s.state.porto,"', '").concat(s.state.encerradoPor,"', '").concat(s.state.faturadoPor,"', '").concat(s.state.empresa,"', '").concat(s.state.eta,"', '").concat(s.state.atb,"', '").concat(s.state.etb,"', '").concat(s.state.governmentTaxes?parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",",".")):0,"', '").concat(s.state.bankCharges?parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",",".")):0,"', '").concat(s.state.operador,"', '").concat(s.state.envio,"'"),codigo:s.state.codigo.Proximo,sequencial:s.state.sequencialOrcamento.Proximo,tipo:s.state.codigo.Tipo,navio:null===(n=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===n?void 0:n.label,tipoServico:null===(r=s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})))||void 0===r?void 0:r.label,cliente:m,clienteChave:s.state.cliente,porto:null===(u=s.state.portosOptions.find((function(e){return e.value==s.state.porto})))||void 0===u?void 0:u.label}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(o=t.data[0])||void 0===o?void 0:o.Chave)){e.next=11;break}return e.next=3,s.setState({codigo:t.data[0].codigo,chave:t.data[0].Chave,os:t.data[0]});case 3:return e.next=5,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].Chave);case 5:return e.next=7,s.setState({loading:!1,bloqueado:!1});case 7:return e.next=9,s.setState({recarregaPagina:a});case 9:e.next=12;break;case 11:console.log(t.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:e.next=30;break;case 15:if(!t){e.next=30;break}if(!(parseInt(s.state.codigo.slice(2))>=5850)||s.state.navio==s.state.os.chave_navio&&s.state.porto==s.state.os.porto&&s.state.cliente==s.state.os.Chave_Cliente&&s.state.tipoServico==s.state.os.tipo_servico){e.next=20;break}return e.next=20,s.mudarCentroCusto();case 20:if(!s.state.faturamento||!D()(s.state.faturamento).isValid()){e.next=25;break}return e.next=23,s.faturaOS();case 23:e.next=28;break;case 25:if(s.state.faturamento){e.next=28;break}return e.next=28,s.checkAndDeleteContaOS();case 28:return e.next=30,F.a.post("updateOS.php",{token:!0,Chave:s.state.chave,Descricao:s.state.descricao,Codigo:s.state.codigo,Chave_Cliente:s.state.cliente,chave_navio:s.state.navio,Data_Abertura:s.state.abertura?D()(s.state.abertura).format("YYYY-MM-DD"):"",Data_Chegada:s.state.chegada?D()(s.state.chegada).format("YYYY-MM-DD"):"",chave_tipo_servico:s.state.tipoServico,viagem:s.state.viagem,porto:s.state.porto,eta:s.state.eta?D()(s.state.eta).format("YYYY-MM-DD"):"",atb:s.state.atb?D()(s.state.atb).format("YYYY-MM-DD"):"",etb:s.state.etb?D()(s.state.etb).format("YYYY-MM-DD HH:mm"):"",Data_Saida:s.state.data_saida?D()(s.state.data_saida).format("YYYY-MM-DD HH:mm"):"",Data_Encerramento:s.state.encerramento?D()(s.state.encerramento).format("YYYY-MM-DD"):"",Data_Faturamento:s.state.faturamento?D()(s.state.faturamento).format("YYYY-MM-DD"):"",centro_custo:s.state.centroCusto,ROE:s.state.roe,Comentario_Voucher:s.state.comentario,encerradoPor:s.state.encerradoPor,faturadoPor:s.state.faturadoPor,Empresa:s.state.empresa,governmentTaxes:s.state.governmentTaxes?parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",",".")):0,bankCharges:s.state.bankCharges?parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",",".")):0,operador:s.state.operador,envio:s.state.envio}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=8;break}return e.next=3,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,s.state.dadosIniciais,s.state.dadosFinais,s.state.chave,"Or\xe7amento: ".concat(s.state.chave));case 3:return e.next=5,s.setState({loading:!1,bloqueado:!1,governmentTaxes:!!s.state.governmentTaxes&&s.state.governmentTaxes,bankCharges:!!s.state.bankCharges&&s.state.bankCharges});case 5:a&&window.location.reload(),e.next=10;break;case 8:return e.next=10,alert("Erro ".concat(JSON.stringify(t)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.faturaOS=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,a=0,o=0,n=0,s.state.eventos.map((function(e){3==e.tipo_sub&&0==e.cancelada?5==e.Moeda?o+=parseFloat(e.valor):6==e.Moeda&&(o+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))):2==e.tipo_sub?5==e.Moeda?n+=parseFloat(e.valor):6==e.Moeda&&(n+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))):[3,2].includes(e.tipo_sub)||0!=e.cancelada||0==e.repasse&&0==e.Fornecedor_Custeio||(5==e.Moeda?t+=parseFloat(e.valor):6==e.Moeda&&(t+=parseFloat(e.valor)*(0==parseFloat(s.state.roe.replace(",","."))?5:parseFloat(s.state.roe.replace(",",".")))))})),s.state.bankCharges&&0!=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&(t+=parseFloat(s.state.bankCharges.replaceAll(".","").replaceAll(",","."))),s.state.governmentTaxes&&0!=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&(t+=parseFloat(s.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))),r="",a=t-(o+n),s.state.contaOs){e.next=15;break}return 0!=o&&(r="'0', '".concat(parseFloat(o),"', 'Desconto de ").concat(s.state.codigo,"', 'DESCONTO'")),e.next=13,F.a.post("insertContaOS.php",{token:!0,values:"'".concat(s.state.chave,"', '").concat(D()(s.state.faturamento).format("YYYY-MM-DD"),"', '0', '").concat(s.state.cliente,"', '0', '0', '").concat(s.state.centroCusto,"', '',  0,1, 1, '").concat(parseFloat("".concat(t)),"', '").concat(parseFloat("".concat(a)),"', '', '', '",0,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.empresa,"', 0, 0, 0, ''"),valuesRet:r,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:e.next=17;break;case 15:return e.next=17,F.a.post("updateContaOS.php",{token:!0,chave_conta:null===(i=s.state.contaOs)||void 0===i?void 0:i.Chave,Lancto:D()(s.state.faturamento).format("YYYY-MM-DD"),Pessoa:s.state.cliente,Centro_Custo:s.state.centroCusto,Valor:parseFloat(t),Saldo:parseFloat(a),Operador:s.state.usuarioLogado.codigo,Empresa:s.state.empresa,valuesRet:parseFloat(o)}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)}))),s.checkAndDeleteContaOS=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("checkAndDeleteContaOS.php",{token:!0,os:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),s.mudarCentroCusto=Object(l.a)(c.a.mark((function e(){var t,a,o,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=null===(t=s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})))||void 0===t?void 0:t.label).split(" ")[0],i=parseInt(s.state.codigo.slice(2)),e.next=5,F.a.post("updateCentroCustoFromOS.php",{token:!0,Chave:s.state.centroCusto,OSCodigo:i,Descricao:"".concat(s.state.codigo,", ").concat(null===(a=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===a?void 0:a.label," - ").concat(null===(o=s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})))||void 0===o?void 0:o.label," - ").concat(r," - ").concat(null===(n=s.state.portosOptions.find((function(e){return e.value==s.state.porto})))||void 0===n?void 0:n.label),Cliente:s.state.cliente}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)}))),s.calculaValorTotal=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.valoresOS(s.state.chave);case 2:return t=e.sent,a=0,t[0].governmentTaxes>0&&(a+=parseFloat(t[0].governmentTaxes)),t[0].bankCharges>0&&(a+=parseFloat(s.state.pdfContent[0].bankCharges)),t.map((function(e,t){5==e.moeda?a+=parseFloat(e.valor):a+=C.a.toFixed(parseFloat(e.valor*s.state.roe),2)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),s.salvarConta=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),s.setState({loading:!0,contabiliza:!1}),t=[],s.state.eventosContabilizando.forEach((function(e,a){var o,n,r=t.findIndex((function(t){return e.desconto_conta==t.desconto_conta&&e.retencao_inss==t.retencao_inss&&e.retencao_ir==t.retencao_ir&&e.retencao_iss==t.retencao_iss&&e.retencao_csll==t.retencao_csll&&s.state.historico[a]==t.historico&&s.state.historicoPadrao[a]==t.historicoPadrao&&s.state.codBarras[a]==t.codBarras&&s.state.contaDebito[a]==t.contaDebito&&s.state.contaCredito[a]==t.contaCredito&&s.state.meioPagamento[a]==t.meioPagamento&&s.state.codigoReceita[a]==t.codigoReceita&&s.state.contribuinte[a]==t.contribuinte&&s.state.codigoIdentificadorTributo[a]==t.codigoIdentificadorTributo&&s.state.mesCompetNumRef[a]==t.mesCompetNumRef&&s.state.dataApuracao[a]==t.dataApuracao&&s.state.darfValor[a]==t.darfValor&&s.state.darfPagamento[a]==t.darfPagamento&&s.state.darfMulta[a]==t.darfMulta&&s.state.darfJuros[a]==t.darfJuros&&s.state.darfOutros[a]==t.darfOutros}));-1!=r?(t[r].eventos.push(Object(i.a)({},e)),t[r].vcp+=parseFloat(e.valor1)):t.push((n={valuesLancto:"'".concat(D()().format("YYYY-MM-DD"),"', '").concat(e.tipo_documento?e.tipo_documento:"","', '").concat(s.state.centroCusto,"', '").concat(s.state.historicoPadrao[a],"', '").concat(s.state.cliente,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.usuarioLogado.codigo,"', '").concat(D()().format("YYYY-MM-DD"),"', '").concat(D()().format("YYYY-MM-DD"),"', '0', '0', '0'"),valuesConta:"'".concat(D()(e.emissao?e.emissao:"").format("YYYY-MM-DD"),"', '").concat(0==e.tipo_sub?1:0,"', '").concat(e.fornecedor,"', '").concat(0==s.state.tipo_sub?s.state.contaCredito[a]:s.state.contaDebito[a],"', '").concat(s.state.codBarras[a],"', '").concat(s.state.centroCusto,"', '").concat(s.state.historico[a],"', '").concat(0==s.state.tipo_sub?s.state.contaDebito[a]:s.state.contaCredito[a],"', '1', '1', '").concat(e.vencimento,"', '").concat(e.vencimento,"', '', '").concat(s.state.usuarioLogado.codigo,"', '").concat(s.state.empresa,"', '").concat(e.documento,"', '").concat(e.tipo_documento,"', '").concat(s.state.meioPagamento[a],"', '").concat(e.chave,"'"),valuesDarf:!!["DARF","GPS","GRU","PIX"].includes(s.state.meioPagamentoNome[a])&&"'".concat(s.state.codigoReceita[a],"', '").concat(s.state.contribuinte[a],"', '").concat(s.state.codigoIdentificadorTributo[a],"', '").concat(s.state.mesCompetNumRef[a],"', '").concat(D()(s.state.dataApuracao[a]).format("YYYY-MM-DD"),"', '").concat(parseFloat(s.state.darfValor[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfMulta[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfJuros[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfOutros[a].replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(s.state.darfPagamento[a].replaceAll(".","").replaceAll(",",".")),"'"),eventos:[Object(i.a)({},e)],vcp:parseFloat(e.valor1),desconto_conta:e.desconto_conta,retencao_inss:e.retencao_inss,retencao_ir:e.retencao_ir,retencao_iss:e.retencao_iss,retencao_csll:e.retencao_csll,contaDebito:s.state.contaDebito[a],contaCredito:s.state.contaCredito[a],chave:null===(o=s.state.custeios_subagentes.find((function(e){return e.grupo==s.state.grupoSelecionado})))||void 0===o?void 0:o.chave_grupo,historico:s.state.historico[a],historicoPadrao:s.state.historicoPadrao[a],codBarras:s.state.codBarras[a]},Object(v.a)(n,"contaDebito",s.state.contaDebito[a]),Object(v.a)(n,"contaCredito",s.state.contaCredito[a]),Object(v.a)(n,"meioPagamento",s.state.meioPagamento[a]),Object(v.a)(n,"meioPagamentoNome",s.state.meioPagamentoNome[a]),Object(v.a)(n,"codigoReceita",s.state.codigoReceita[a]),Object(v.a)(n,"contribuinte",s.state.contribuinte[a]),Object(v.a)(n,"codigoIdentificadorTributo",s.state.codigoIdentificadorTributo[a]),Object(v.a)(n,"mesCompetNumRef",s.state.mesCompetNumRef[a]),Object(v.a)(n,"dataApuracao",s.state.dataApuracao[a]),Object(v.a)(n,"darfValor",s.state.darfValor[a]),Object(v.a)(n,"darfPagamento",s.state.darfPagamento[a]),Object(v.a)(n,"darfMulta",s.state.darfMulta[a]),Object(v.a)(n,"darfJuros",s.state.darfJuros[a]),Object(v.a)(n,"darfOutros",s.state.darfOutros[a]),n))})),e.next=6,F.a.post("contabilizaCusteioSubagente.php",{token:!0,grupos:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=5;break}return e.next=3,s.setState({loading:!1});case 3:e.next=7;break;case 5:return e.next=7,alert("Erro ".concat(JSON.stringify(t)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),s.salvarCabecalho=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=3,s.setState({loading:!0,cabecalhoModal:!1});case 3:return t='{"company": "'.concat(s.state.company.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'", "address": "').concat(s.state.address.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'", "CO": "').concat(s.state.CO.replaceAll('"',"'").replaceAll("\t","\\t").replaceAll("\n","\\n"),'"}'),e.next=6,F.a.post("updateOSCabecalho.php",{token:!0,Chave:s.state.chave,cabecalho:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data){e.next=5;break}return e.next=3,s.setState({loading:!1});case 3:e.next=7;break;case 5:return e.next=7,alert("Erro ".concat(JSON.stringify(t)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),s.erroApi=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert(t),e.next=3,s.setState({redirect:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},s.filterSearchCentroCusto=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)||e.value.toUpperCase().includes(a)},s.alteraModal=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({modal:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraNavio=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getNavios.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getNavios.php","nome","chave");case 7:return e.t3=e.sent,e.t4={navio:e.t1,modalAberto:!1,navios:e.t2,naviosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraPorto=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getPortos.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getPortos.php","Descricao","Chave");case 7:return e.t3=e.sent,e.t4={porto:e.t1,modalAberto:!1,portos:e.t2,portosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraCliente=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!=a.split("")[0]){e.next=5;break}return e.next=3,s.setState({cliente:t});case 3:return e.next=5,s.getDadosCliente();case 5:return e.t0=s,e.next=8,w.a.getBase("getClientes.php");case 8:return e.t1=e.sent,e.next=11,w.a.getBaseOptions("getClientes.php","Nome","Chave");case 11:return e.t2=e.sent,e.t3={modalAberto:!1,clientes:e.t1,clientesOptions:e.t2},e.next=15,e.t0.setState.call(e.t0,e.t3);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.alteraTipoServico=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=t,e.next=4,w.a.getBase("getTiposServicos.php");case 4:return e.t2=e.sent,e.next=7,w.a.getBaseOptions("getTiposServicos.php","descricao","chave");case 7:return e.t3=e.sent,e.t4={tipoServico:e.t1,modalAberto:!1,tiposServicos:e.t2,tiposServicosOptions:e.t3},e.next=11,e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.alteraCentroCusto=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({centroCusto:t});case 2:return e.next=4,s.setState({modalAberto:!1});case 4:return e.next=6,s.getCentrosCustos();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.CapaVoucher=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,i,u,m,p,d,v,f,g,b,E,x,N;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Capa".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.next=10,s.setState({loading:!0});case 10:return e.next=12,F.a.post("getCapaVoucher.php",{token:!0,codigo:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({pdfContent:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:if(s.state.pdfContent&&s.state.pdfContent[0]){e.next=14;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 14:if(!s.state.pdfContent.find((function(e){return!e.chavTaxa&&[0,1].includes(e.tipo)}))){e.next=16;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 16:if(o=[],s.state.pdfContent.filter((function(e){return 2!=e.tipo})).map((function(e){o.includes(e.chavTaxa)||o.push(e.chavTaxa)})),n="#ffffff",r="",s.state.pdfContent[0]&&(r=s.state.operadores.filter((function(e){return e.Codigo==s.state.pdfContent[0].faturadoPor}))[0]),i="",u=0,m=0,p=0,d=0,v=0,f=0,g=C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].cliente),b="".concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].complemento)," ").concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].rua)," ").concat(s.state.pdfContent[0].numero&&"0"!=s.state.pdfContent[0].numero?s.state.pdfContent[0].numero:""," ").concat(s.state.pdfContent[0].cep&&"0"!=s.state.pdfContent[0].cep?s.state.pdfContent[0].cep:""),s.state.pdfContent[0].cabecalho){try{x=JSON.parse(s.state.pdfContent[0].cabecalho)}catch(w){x=JSON.parse(null===(N=s.state.pdfContent[0].cabecalho)||void 0===N?void 0:N.replaceAll("\n","\\n").replaceAll("\t","\\t"))}x.company&&(g=x.company),x.address&&(b=x.address),x.CO&&(E=x.CO)}if(s.state.pdfContent[0].GT&&["SIM","S"].includes(s.state.pdfContent[0].GT.toUpperCase())&&(u+=parseFloat(s.state.pdfContent[0].governmentTaxes),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].governmentTaxes/s.state.pdfContent[0].roe),2)),s.state.pdfContent[0].BK&&["SIM","S"].includes(s.state.pdfContent[0].BK.toUpperCase())&&(u+=parseFloat(s.state.pdfContent[0].bankCharges),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].bankCharges/s.state.pdfContent[0].roe),2)),!s.state.pdfContent[0]){e.next=37;break}i=h.a.createElement("div",{key:546546554654},h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},h.a.createElement("b",null,"AGENT DISBURSEMENT ACCOUNT")),h.a.createElement("h4",{style:{width:"100%",textAlign:"center"}},"SULTRADE SHIPPING AGENCY"),h.a.createElement("div",{className:"voucherImagem"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/n69ZD86/logo-Vertical.png",alt:"logo-lpc",border:"0",style:{width:"130px",height:"100px"}})),h.a.createElement("br",null),h.a.createElement("div",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("table",null,h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Company:")," ",g)),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Address:")," ",b)),E&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"C/O:")," ",E)),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Vessel Name:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomeNavio))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Name of Port:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomePorto))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Arrived:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_chegada).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_chegada).format("MMMM DD, YYYY"):"T.B.I.")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",null,"Sailed:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_saida).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_saida).format("MMMM DD, YYYY"):"T.B.I.")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:2,className:"pdf_large_col"},h.a.createElement("b",null,"Date of Billing:")," ","Invalid date"!=D()(s.state.pdfContent[0].data_faturamento).format("MMMM DD, YYYY")?D()(s.state.pdfContent[0].data_faturamento).format("MMMM DD, YYYY"):"T.B.I."),h.a.createElement("td",{colSpan:2,className:"pdf_money_col"},h.a.createElement("b",null,"PO:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].codigo))))),h.a.createElement("br",null),h.a.createElement("div",{className:"pdfContent"},h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("table",{className:"voucherTable"},h.a.createElement("tr",null,h.a.createElement("td",{className:"pdfTitle",style:{width:75}},"Voucher"),h.a.createElement("td",{colSpan:"3",className:"pdfTitle"},"Description"),h.a.createElement("td",{colSpan:"2",className:"pdfTitle"},"Expense Type"),h.a.createElement("td",{className:"pdfTitle"},"Final USD"),h.a.createElement("td",{className:"pdfTitle"},"Final BRL")),o.map((function(e,t){var a=s.state.pdfContent.find((function(t){return t.chavTaxa==e}));n=t%2==0?"#FFFFFF":"#BBBBBB";var o=0;return a.chavTaxa?h.a.createElement(h.a.Fragment,null,s.state.pdfContent.filter((function(t){return 2!=t.tipo&&3!=t.tipo&&t.chavTaxa==e&&(t.repasse||t.faturamentoCusteio)})).map((function(e,t){3!=e.tipo?5==e.moeda?(o+=parseFloat(e.valor),u+=parseFloat(e.valor),m+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(o+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),u+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),m+=parseFloat(e.valor)):5==e.moeda?(o-=parseFloat(e.valor),p+=parseFloat(e.valor),d+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(o-=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),p+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),d+=parseFloat(e.valor))})),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col reduce_font",style:{backgroundColor:n}},a.chavTaxa),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col reduce_font",style:{backgroundColor:n}},a.descSubgrupo),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col reduce_font",style:{backgroundColor:n}},a.descGrupo),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{backgroundColor:n}},C.a.formataDinheiroBrasileiro(parseFloat(o/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{backgroundColor:n}},C.a.formataDinheiroBrasileiro(parseFloat(o))))):h.a.createElement(h.a.Fragment,null)})),s.state.pdfContent[0].GT&&["SIM","S"].includes(s.state.pdfContent[0].GT.toUpperCase())&&h.a.createElement("tr",null,h.a.createElement("td",null),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col",style:{fontWeight:"bold"}},"GOVERNMENT TAXES"),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col",style:{fontWeight:"bold"}}),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes)))),s.state.pdfContent[0].BK&&["SIM","S"].includes(s.state.pdfContent[0].BK.toUpperCase())&&h.a.createElement("tr",null,h.a.createElement("td",null),h.a.createElement("td",{colSpan:"3",className:"pdf_large_col",style:{fontWeight:"bold"}},"BANK CHARGES"),h.a.createElement("td",{colSpan:"2",className:"pdf_small_col",style:{fontWeight:"bold"}}),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges/s.state.pdfContent[0].roe))),h.a.createElement("td",{className:"pdf_money_col",style:{fontWeight:"bold"}},C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges)))),s.state.pdfContent.filter((function(e){return 3==e.tipo})).map((function(e){5==e.moeda?(p+=parseFloat(e.valor),d+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(p+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),d+=parseFloat(e.valor))})),s.state.pdfContent.filter((function(e){return 2==e.tipo})).map((function(e){5==e.moeda?(v+=parseFloat(e.valor),f+=C.a.toFixed(parseFloat(e.valor/s.state.pdfContent[0].roe),2)):(v+=C.a.toFixed(parseFloat(e.valor*s.state.pdfContent[0].roe),2),f+=parseFloat(e.valor))}))),h.a.createElement("br",null),h.a.createElement("table",{className:"voucherTableFinal"},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdfTitle pdf_small_col"},"Total Final Costs"),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(m))),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(u)))),parseFloat(v)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdf_small_col"},"Funds Received"),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(f))),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(v)))),parseFloat(p)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdf_small_col"},"Discount"),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(d))),h.a.createElement("td",{className:"pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(p)))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"5",className:"pdfTitle pdf_small_col"},"Final Blce/Debit Customer"),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(m)-parseFloat(d)-parseFloat(f))),h.a.createElement("td",{className:"pdfTitle pdf_money_col"},C.a.formataDinheiroBrasileiro(parseFloat(u)-parseFloat(p)-parseFloat(v))))),h.a.createElement("table",{className:"pdfTable",style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},"ISSUED BY:"),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"},colSpan:"2"},r?r.Nome:""),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},"ROE:"),h.a.createElement("td",{style:{padding:"0px 3px 0px 3px"}},C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].roe.replaceAll(".",","))))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),h.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account number:")," ","161441-X")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," ","10.432.546/0001-75")))))),e.next=40;break;case 37:return e.next=39,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para criar o pdf",loading:!1});case 39:return e.abrupt("return");case 40:return e.next=42,s.setState({pdfgerado:i});case 42:s.handleExportWithComponent(),e.next=49;break;case 45:return e.prev=45,e.t0=e.catch(0),e.next=49,s.setState({erro:"Erro ao criar pdf",loading:!1});case 49:case"end":return e.stop()}}),e,null,[[0,45]])})));return function(t,a){return e.apply(this,arguments)}}(),s.FaturamentoCusteio=function(){var t=Object(l.a)(c.a.mark((function t(a,o){var n,l,u,m,p,d,v,f,h,g,b,E,x,N,O,S,k,y,j,F,A,T,P,D,_,L,I,M,R;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=5;break}return t.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return t.abrupt("return");case 5:return t.next=7,s.salvarOS(o,!1);case 7:return s.setState({pdfNome:"Relatorio L\xedquidos".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),t.t0=s,t.next=11,w.a.getBody("faturamentoCusteio.php",{token:!0,codigo:a});case 11:return t.t1=t.sent,t.t2={loading:!0,pdfContent:t.t1},t.next=15,t.t0.setState.call(t.t0,t.t2);case 15:if(s.state.pdfContent&&s.state.pdfContent[0]){t.next=17;break}return t.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 17:if(0,0,0,0,0,n=[],l=[],[],"",u=V.a.utils.book_new(),m=V.a.utils.json_to_sheet([]),V.a.utils.book_append_sheet(u,m,"FATURAMENTOS"),p=["Evento","Conta","Valor \xe0 Cobrar","Valor Pago","Valor L\xedquido"],d=[{titulo:"VALOR DA NF A SER EMITIDA",blank:"",valor_a_cobrar:"",valor_pago:"",valor_liquido:""}],v=[{_0:"",_1:"",_2:"",_3:"",_4:""}],f=[{wch:75},{wch:15},{wch:15},{wch:15},{wch:15}],m["!cols"]=f,h=0,g=4,b=[],E=[],x=[],N=[],O=[],S=[],k=[],y=[],j=[],F=[],A=[],T=[],P=[],D=[],_=s.state.pdfContent,L=[],I=[],M=[],_[0]){t.next=58;break}return t.next=57,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o documento!",loading:!1});case 57:return t.abrupt("return");case 58:if(_.map((function(e){1==e.repasse?M.push(e):L.includes(e.fornecedor_custeio)||(L.push(e.fornecedor_custeio),I.push(e.fornecedor_custeioCodigo))})),R=5,_[0].ROE&&0!=_[0].ROE&&(R=_[0].ROE),!_){t.next=65;break}return t.delegateYield(c.a.mark((function t(){var a,o,f,w,B,q,Y,U,z,G,W,H,X,J,$,K,Q,Z,ee,te,ae,oe,ne,re,se,ce,le,ie,ue;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(L.map((function(e,t){if(0,0,0,0,e){var a=["NAVIO ".concat(_[0].nome_navio?_[0].nome_navio.toUpperCase():""),"","","","ROE: ".concat(R)],o=["FATURAMENTO ".concat(e),"","","",""];0==h?(V.a.utils.sheet_add_aoa(m,[a,o,p]),y.push(h),b.push(h+1),y.push(h+2),h+=3):(V.a.utils.sheet_add_aoa(m,[o,p],{skipHeader:!0,origin:-1}),b.push(h),y.push(h+1),h+=2);var s=[];["17","16"].includes(I[t])?_.filter((function(e){return!!e.fornecedor_custeio})).map((function(a,o){var c=a.valor_cobrar,l=a.valor_pago;6==a.moeda&&(c=C.a.toFixed(parseFloat(c)*parseFloat(R),2)),parseFloat(a.fornecedor_custeio==e?0:l),parseFloat(a.fornecedor_custeio==e?c:0),parseFloat(a.fornecedor_custeio==e?c:-l),a.fornecedor_custeio==e?c:0,n[0]&&n.find((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]}))?n=n.map((function(e){return e.conta==(81==a.uf?a.contaEstrangeiraCod:a.contaCod)&&e.custeioCodigo==I[t]?Object(i.a)(Object(i.a)({},e),{},{row:[].concat(Object(r.a)(e.row),[h])}):Object(i.a)({},e)})):n.push({conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod,row:[h],custeioCodigo:I[t],custeioNome:L[t]}),s.push({evento:a.evento.trim(),conta:81==a.uf?a.contaEstrangeiraCod:a.contaCod?a.contaCod:"",valor_a_cobrar:a.fornecedor_custeio==e?parseFloat(c):0,valor_pago:parseFloat(l),valor_liquido:""}),x.push(h),h++})):_.filter((function(t){return t.fornecedor_custeio==e})).map((function(e,a){var o=e.valor_cobrar,c=e.valor_pago;6==e.moeda&&(o=C.a.toFixed(parseFloat(o)*parseFloat(R),2)),parseFloat(o),parseFloat(c);var l=parseFloat(o)-parseFloat(c);l,parseFloat(o),parseFloat(o),n[0]&&n.find((function(a){return a.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&a.custeioCodigo==I[t]}))?n=n.map((function(a){return a.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&a.custeioCodigo==I[t]?Object(i.a)(Object(i.a)({},a),{},{row:[].concat(Object(r.a)(a.row),[h])}):Object(i.a)({},a)})):n.push({conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod,row:[h],custeioCodigo:I[t],custeioNome:L[t]}),s.push({evento:e.evento.trim(),conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod?e.contaCod:"",valor_a_cobrar:parseFloat(o),valor_pago:0,valor_liquido:""}),x.push(h),h++})),V.a.utils.sheet_add_json(m,s,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++,V.a.utils.sheet_add_json(m,d,{skipHeader:!0,origin:-1}),k.push(h),h++,V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++}})),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,[{title:"TOTAL CONSOLIDADO",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),j.push(h+1),D.push(h+2),h+=3,M[0]&&(o=["DESPESAS PARA REPASSE","","","",""],V.a.utils.sheet_add_aoa(m,[o,p],{skipHeader:!0,origin:-1}),b.push(h),y.push(h+1),h+=2,M.map((function(e,t){0,0,0,0;var a=[],o=e.valor_cobrar,s=e.valor_pago;6==e.moeda&&(o=C.a.toFixed(parseFloat(o)*parseFloat(R),2)),parseFloat(o),parseFloat(s);var c=parseFloat(o)-parseFloat(s);c,parseFloat(o),parseFloat(o),n[0]&&n.find((function(t){return t.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&0==t.custeioCodigo}))?n=n.map((function(t){return t.conta==(81==e.uf?e.contaEstrangeiraCod:e.contaCod)&&0==t.custeioCodigo?Object(i.a)(Object(i.a)({},t),{},{row:[].concat(Object(r.a)(t.row),[h])}):Object(i.a)({},t)})):n.push({conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod,row:[h],custeioCodigo:0,custeioNome:"Despesas para Repasse"}),a.push({evento:e.evento.trim(),conta:81==e.uf?e.contaEstrangeiraCod:e.contaCod?e.contaCod:"",valor_a_cobrar:parseFloat(s),valor_pago:parseFloat(s),valor_liquido:""}),N.push(h),h++,V.a.utils.sheet_add_json(m,a,{skipHeader:!0,origin:-1})})),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++,V.a.utils.sheet_add_json(m,d,{skipHeader:!0,origin:-1}),k.push(h),h++,V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),D.push(h),h++),V.a.utils.sheet_add_json(m,[{title:"TOTAL DO CUSTEIO SEM BANK CHARGES E GOVERNMENT TAXES",_1:"",_2:"",_3:"",_4:""},{title:"BANK CHARGES + GOVERNMENT TAXES (C. DESPESAS RECUPERADAS)",_1:"",_2:"",_3:"",_4:""},{title:"TOTAL FINAL DO FDA",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,v,{skipHeader:!0,origin:-1}),V.a.utils.sheet_add_json(m,[{title:"TOTAL CTA CUSTEIO ESPERADO ANTES DO FATURAMENTO",_1:"",_2:"",_3:"",_4:""}],{skipHeader:!0,origin:-1}),F.push(h),A.push(h+1),T.push(h+2),D.push(h+3),P.push(h+4),h+=5,[].concat(I,[0]).map((function(e,t){if(e&&n.find((function(e){return e.custeioCodigo==I[t]&&!!e.conta}))){l[0]&&(l.push({_0:"",_1:"",_2:"",_3:"",_4:""}),D.push(h),h++),l.push({_0:"",_1:"",_2:"",_3:L[t],_4:""}),E.push(h),h++,l.push({_0:"",_1:"",_2:"",_3:"Conta",_4:"Valor"}),y.push(h),h++,n.filter((function(t){return t.custeioCodigo==e&&!!t.conta})).map((function(e){parseFloat(e.valor),l.push({_0:"",_1:"",_2:"",_3:e.conta,_4:""}),O.push(h),h++})),l.push({_0:"",_1:"",_2:"",_3:"TOTAL",_4:""}),S.push(h),h++}})),l[0]&&V.a.utils.sheet_add_json(m,l,{skipHeader:!0,origin:-1}),m["!merges"]=[].concat(Object(r.a)(b.map((function(e){return{s:{c:0,r:e},e:{c:4,r:e}}}))),Object(r.a)(k.map((function(e){return{s:{c:0,r:e},e:{c:1,r:e}}}))),Object(r.a)([].concat(j,F,A,T,T).map((function(e){return{s:{c:0,r:e},e:{c:3,r:e}}}))),Object(r.a)(E.map((function(e){return{s:{c:3,r:e},e:{c:4,r:e}}})))),f=[],w=[],B=[],q="",Y=[],U=[],z=[],G=[],W=0;W<h;W++)for(H=0;H<=g;H++)X=V.a.utils.encode_cell({r:W,c:H}),b.includes(W)&&(m[X].s={alignment:{horizontal:"center",vertical:"center"},font:{sz:18,bold:!0},fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}}}),[].concat(E,O,S).includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{font:{sz:8}}),[3,4].includes(H)&&E.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{alignment:{horizontal:"center",vertical:"center"},fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}},font:Object(i.a)(Object(i.a)({},null===(J=m[X].s)||void 0===J?void 0:J.font),{},{bold:!0})}),3===H&&(q=m[X].v)),4===H&&O.includes(W)&&function(){var e,t,a=null===(e=m[V.a.utils.encode_cell({r:W,c:H-1})])||void 0===e?void 0:e.v,o=[];n.filter((function(e){return e.conta==a&&e.custeioNome==q})).forEach((function(e){e.row.forEach((function(e){o.push(e)}))})),m[X].f=null===o||void 0===o||null===(t=o.map((function(e){return V.a.utils.encode_cell({r:e,c:4})})))||void 0===t?void 0:t.join("+"),m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00"}),B.push(X)}(),S.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00",font:Object(i.a)(Object(i.a)({},null===($=m[X].s)||void 0===$?void 0:$.font),{},{bold:!0})}),4===H&&(m[X].f=B.join("+"),B=[],q=""))),k.includes(W)&&(f[0]&&w[0]&&(2===H?(m[X].f=f.join("+"),k[k.length-1]!==W&&U.push(V.a.utils.encode_cell({r:W,c:H}))):3===H?(m[X].f=w.join("+"),k[k.length-1]===W&&U.push(V.a.utils.encode_cell({r:W,c:H})),G.push(V.a.utils.encode_cell({r:W,c:H}))):4===H&&(Q=V.a.utils.encode_cell({r:W,c:2}),Z=V.a.utils.encode_cell({r:W,c:3}),m[X].f="".concat(Q," - ").concat(Z),f=[],w=[],Y.push(V.a.utils.encode_cell({r:W,c:H})))),m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{fill:{patternType:"solid",fgColor:{rgb:"CCCCCC"},bgColor:{rgb:"CCCCCC"}},font:Object(i.a)(Object(i.a)({},null===(K=m[X].s)||void 0===K?void 0:K.font),{},{bold:!0})})),[].concat(x,N).includes(W)&&(m[X].s={border:{right:{style:"thin",color:"000000"},left:{style:"thin",color:"000000"},top:{style:"thin",color:"000000"},bottom:{style:"thin",color:"000000"}}},4===H&&(ee=V.a.utils.encode_cell({r:W,c:2}),te=V.a.utils.encode_cell({r:W,c:3}),f.push(ee),w.push(te),m[X].f="".concat(ee," - ").concat(te))),([2,3,4].includes(H)&&[].concat(N,x,k).includes(W)||4===H&&[].concat(j,F,A,P,T).includes(W))&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{numFmt:"R$ #,##0.00"})),j.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{fill:{patternType:"solid",fgColor:{rgb:"888888"},bgColor:{rgb:"888888"}},numFmt:"R$ #,##0.00",font:Object(i.a)(Object(i.a)({},null===(ae=m[X].s)||void 0===ae?void 0:ae.font),{},{bold:!0})}),4===H&&(m[X].f=Y.join("+"))),F.includes(W)&&4===H&&(m[X].f=U.map((function(e,t){return t===U.length-1?e.replace("D","C"):e})).join("+"),z.push(V.a.utils.encode_cell({r:W,c:H}))),A.includes(W)&&4===H&&(m[X].f="".concat(null===(oe=_[0])||void 0===oe?void 0:oe.governmentTaxes," + ").concat(null===(ne=_[0])||void 0===ne?void 0:ne.bankCharges),z.push(V.a.utils.encode_cell({r:W,c:H}))),T.includes(W)&&(m[X].s=Object(i.a)(Object(i.a)({},m[X].s),{},{font:Object(i.a)(Object(i.a)({},null===(re=m[X].s)||void 0===re?void 0:re.font),{},{bold:!0})}),4===H&&(m[X].f=z.join("+"))),P.includes(W)&&4===H&&(m[X].f=G.join("+"));return t.next=32,V.a.write(u,{type:"buffer",cellStyles:!0});case 32:se=t.sent,ce=e.from(se),le=new Blob([ce]),ie=window.URL.createObjectURL(le),(ue=document.createElement("a")).href=ie,ue.download="".concat(s.state.codigo," ").concat(null===(a=s.state.naviosOptions.find((function(e){return e.value==s.state.navio})))||void 0===a?void 0:a.label,".xlsx"),ue.click();case 40:case"end":return t.stop()}}),t)}))(),"t3",63);case 63:t.next=68;break;case 65:return t.next=67,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o documento!",loading:!1});case 67:return t.abrupt("return");case 68:t.next=75;break;case 70:return t.prev=70,t.t4=t.catch(0),console.log(t.t4),t.next=75,s.setState({erro:"Erro ao criar o documento",loading:!1});case 75:s.setState({loading:!1});case 76:case"end":return t.stop()}}),t,null,[[0,70]])})));return function(e,a){return t.apply(this,arguments)}}(),s.Invoices=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,l,i,u,m,p,d,v,f,g,b,E,x,N,O,S,k,y,j,A,T,P,_,L,I,B,q,Y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(t,!1);case 7:return e.t0=s,e.next=10,w.a.getBody("invoices.php",{token:!0,os:s.state.chave,eventos:s.state.agrupadorEventos});case 10:return e.t1=e.sent,e.t2={loading:!0,pdfContent:e.t1},e.next=14,e.t0.setState.call(e.t0,e.t2);case 14:if(s.state.pdfContent&&s.state.pdfContent.events){e.next=16;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 16:a=s.state.pdfContent,[16,17].includes(parseInt(a.fornecedorCusteio))?o="sultrade":32==parseInt(a.fornecedorCusteio)?o="porto":269==parseInt(a.fornecedorCusteio)&&(o="coast"),s.setState({pdfNome:"Invoices - ".concat(o," (").concat(a.invoice,")")});try{n=JSON.parse(a.cabecalho)}catch(c){console.error(c)}if(r=a.ROE?parseFloat(a.ROE):5,l=0,![16,17].includes(parseInt(a.fornecedorCusteio))){e.next=26;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_sultrade"},h.a.createElement("div",{className:"invoices_header_image_sultrade"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/NCw9jYX/sultrade-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"375px",width:"375px",maxWidth:"375px",minHeight:"93px",height:"93px",maxHeight:"93px",objectFit:"cover"}})),h.a.createElement("div",{className:"invoices_header_info_sultrade"},h.a.createElement("h3",null,"SULTRADE SHIPPING AGENCY"),h.a.createElement("span",null,"CNPJ/VAT Number : 10.432.546/0001-75"),h.a.createElement("span",null,h.a.createElement("a",{href:"mailto:sultrade@sultradeagency.com"},"E-mail : sultrade@sultradeagency.com")),h.a.createElement("span",null,"Phone : +55 (53) 3235 3500"),h.a.createElement("span",null,h.a.createElement("a",{href:"https://www.sultradeagency.com"},"www.sultradeagency.com")))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_sultrade"},h.a.createElement("div",{className:"invoices_info_data_sultrade"},"COMPANY:"," ",h.a.createElement("b",null,(null===(u=n)||void 0===u?void 0:u.company)?null===(m=n)||void 0===m?void 0:m.company:a.clienteNome)),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"INVOICE NUMBER: ",h.a.createElement("b",null,a.invoice)),(null===(p=n)||void 0===p?void 0:p.CO)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"invoices_info_data_sultrade"},(null===(d=n)||void 0===d?void 0:d.CO)?"C/O: ":"",h.a.createElement("b",null,(null===(v=n)||void 0===v?void 0:v.CO)?n.CO:"")),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"DATE OF BILLING:"," ",h.a.createElement("b",null,D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-")),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"ADDRESS:"," ",h.a.createElement("b",null,(null===(f=n)||void 0===f?void 0:f.address)?null===(g=n)||void 0===g?void 0:g.address:a.address))),!(null===(b=n)||void 0===b?void 0:b.CO)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"invoices_info_data_sultrade"},"ADDRESS:"," ",h.a.createElement("b",null,(null===(E=n)||void 0===E?void 0:E.address)?null===(x=n)||void 0===x?void 0:x.address:a.address)),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"DATE OF BILLING:"," ",h.a.createElement("b",null,D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"))),h.a.createElement("div",{className:"invoices_info_data_sultrade"},"PO - VESSEL:"," ",h.a.createElement("b",null,a.codigo,"-",a.navioNome)),h.a.createElement("div",{className:"invoices_info_data_sultrade"})),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_sultrade"},h.a.createElement("div",{className:"invoices_content_header_sultrade"},h.a.createElement("div",{className:"invoices_content_title_sultrade"},"Description"),h.a.createElement("div",{className:"invoices_content_title_sultrade"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_sultrade"},h.a.createElement("div",{className:"invoices_content_col_sultrade"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_sultrade text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_sultrade"},h.a.createElement("div",{className:"invoices_total_sultrade"},"Total"),h.a.createElement("div",{className:"invoices_total_sultrade"},"USD"),h.a.createElement("div",{className:"invoices_total_sultrade"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 26:if(32!=a.fornecedorCusteio){e.next=30;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_porto"},h.a.createElement("div",{className:"invoices_header_image_porto"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/QK61hd5/porto-brasil-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"150px",width:"150px",maxWidth:"150px",minHeight:"142px",height:"142px",maxHeight:"142px",objectFit:"cover"}}),h.a.createElement("h1",null,"Invoice")),h.a.createElement("div",{className:"invoices_header_info_porto"},h.a.createElement("h4",null,h.a.createElement("b",null,"TRANSPORTE PORTO BRAZIL LTDA")),h.a.createElement("span",null,h.a.createElement("b",null,"Date:")," ",D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"),h.a.createElement("span",null),h.a.createElement("span",null,h.a.createElement("b",null,"Invoice:")," ",a.invoice))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_porto"},h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"To:")," ",(null===(N=n)||void 0===N?void 0:N.company)?null===(O=n)||void 0===O?void 0:O.company:a.clienteNome),(null===(S=n)||void 0===S?void 0:S.CO)&&h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,(null===(k=n)||void 0===k?void 0:k.CO)?"C/O: ":""),(null===(y=n)||void 0===y?void 0:y.CO)?n.CO:""),h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"Address:")," ",(null===(j=n)||void 0===j?void 0:j.address)?null===(A=n)||void 0===A?void 0:A.address:a.address),h.a.createElement("div",{className:"invoices_info_data_porto"},h.a.createElement("b",null,"PO - VESSEL:")," ",a.codigo,"-",a.navioNome)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_porto"},h.a.createElement("div",{className:"invoices_content_header_porto"},h.a.createElement("div",{className:"invoices_content_title_porto"},"Description"),h.a.createElement("div",{className:"invoices_content_title_porto"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_porto"},h.a.createElement("div",{className:"invoices_content_col_porto"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_porto text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_porto"},h.a.createElement("div",{className:"invoices_total_porto"},"Total"),h.a.createElement("div",{className:"invoices_total_porto"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 30:if(269!=a.fornecedorCusteio){e.next=34;break}i=h.a.createElement("div",{key:546546554654,className:"pdf_padding",id:"pdfDiv"},h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_header_coast"},h.a.createElement("div",{className:"invoices_header_image_coast"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/mv8gqfw/coast-logo.png",alt:"logo-lpc",border:"0",style:{minWidth:"150px",width:"150px",maxWidth:"150px",minHeight:"59px",height:"59px",maxHeight:"59px",objectFit:"cover"}})),h.a.createElement("div",{className:"invoices_header_info_coast"},h.a.createElement("span",null,"COAST SERVICOS ADMINISTRATIVOS LTDA"),h.a.createElement("span",null,"Date:"," ",D()(a.data_emissao).isValid()?D()(a.data_emissao).format("MMMM DD, YYYY"):"-"),h.a.createElement("span",null,"CPNJ/VAT NUMBER : 15.258.758/0001-00"),h.a.createElement("span",null,"Invoice: ",a.invoice))),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_info_coast"},h.a.createElement("div",{className:"invoices_info_data_coast"},"To:"," ",(null===(T=n)||void 0===T?void 0:T.company)?null===(P=n)||void 0===P?void 0:P.company:a.clienteNome),(null===(_=n)||void 0===_?void 0:_.CO)&&h.a.createElement("div",{className:"invoices_info_data_coast"},(null===(L=n)||void 0===L?void 0:L.CO)?"C/O: ".concat(n.CO):""),h.a.createElement("div",{className:"invoices_info_data_coast"},"Address:"," ",(null===(I=n)||void 0===I?void 0:I.address)?null===(B=n)||void 0===B?void 0:B.address:a.address),h.a.createElement("div",{className:"invoices_info_data_coast"},"PO - VESSEL: ",a.codigo,"-",a.navioNome)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"invoices_content_coast"},h.a.createElement("div",{className:"invoices_content_header_coast"},h.a.createElement("div",{className:"invoices_content_title_coast"},"Description"),h.a.createElement("div",{className:"invoices_content_title_coast"})),a.events.map((function(e){var t=1*(5==e.Moeda?C.a.toFixed(parseFloat(e.valor/r),2):parseFloat(e.valor));return l+=t,h.a.createElement("div",{className:"invoices_content_row_coast"},h.a.createElement("div",{className:"invoices_content_col_coast"},e.descricao),h.a.createElement("div",{className:"invoices_content_col_coast text-right"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)))})),h.a.createElement("div",{className:"invoices_total_row_coast"},h.a.createElement("div",{className:"invoices_total_coast"},"Total"),h.a.createElement("div",{className:"invoices_total_coast"},"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(l))))),e.next=35;break;case 34:return e.abrupt("return",s.setState({error:{type:"error",msg:"Fornecedor Custeio desconhecido"},loading:!1}));case 35:return e.next=37,s.setState({pdfgerado:i});case 37:return q=document.getElementById("pdfDiv"),e.next=40,Object(M.a)(q,{paperSize:"A4",margin:"0.5cm",scale:.6,portrait:!0}).then((function(e){return Object(R.a)(e)})).then((function(e){return e}));case 40:return Y=e.sent,e.next=43,F.a.post("salvaInvoices.php",{token:!0,base64:Y,name:s.state.pdfNome,os:s.state.chave}).then((function(e){}),(function(e){return console.error(e)}));case 43:s.handleExportWithComponent(),e.next=51;break;case 46:return e.prev=46,e.t3=e.catch(0),console.log(e.t3),e.next=51,s.setState({erro:"Erro ao criar o documento",loading:!1});case 51:s.getInvoices(),s.setState({loading:!1});case 53:case"end":return e.stop()}}),e,null,[[0,46]])})));return function(t){return e.apply(this,arguments)}}(),s.RelatorioVoucher=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,l,u,m,p,d,v,f,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Vouchers".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.t0=s,e.next=11,w.a.getBody("relatorioVoucher.php",{token:!0,codigo:t});case 11:return e.t1=e.sent,e.t2={loading:!0,pdfContent:e.t1},e.next=15,e.t0.setState.call(e.t0,e.t2);case 15:if(s.state.pdfContent&&s.state.pdfContent.itens&&s.state.pdfContent.chaves){e.next=17;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 17:if(!s.state.pdfContent.itens.find((function(e){return!e.codsubgrupo_taxas}))){e.next=19;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 19:if(o=s.state.pdfContent.itens,n=s.state.pdfContent.chaves,r=s.state.pdfContent.campos,l=function(e){return"R"==e.tipo_op||0==e.repasse?e.fornecedor_custeio&&e.descricao_item?"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor_custeio):"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor):e.fornecedor&&e.descricao_item?"Expenses incurred with ".concat(e.descricao_item,", as per attached bill from ").concat(e.fornecedor):void 0},u=function(e){return 6==e.moeda_item&&0!=e.ROE?e.valor_item*e.ROE:e.valor_item},m=function(e){return 5==e.moeda_item&&0!=e.ROE?e.valor_item/e.ROE:e.valor_item},p=function(){if(0!=o[0].ROE)return"Exchange Rate US$ 1,00 = R$".concat(o[0].ROE)},d=0,v=0,f="",g=[],b=[],!o){e.next=35;break}f=h.a.createElement("div",{style:{zoom:1},key:546546554654},n.toSorted((function(e,t){return parseInt(e.codsubgrupo_taxas)-parseInt(t.codsubgrupo_taxas)})).map((function(e,t){var a,n=e.company,s=e.address;if(e.cabecalho){var c;try{c=JSON.parse(e.cabecalho)}catch(E){var f;c=JSON.parse(null===(f=e.cabecalho)||void 0===f?void 0:f.replaceAll("\n","\\n").replaceAll("\t","\\t"))}c.company&&(n=c.company),c.address&&(s=c.address),c.CO&&(a=c.CO)}return d=0,v=0,g=[],b=[],h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement("div",{className:"voucherCabecalho ".concat(0==t?"":"page-break"),style:{marginRight:55}},"Voucher nr. ",e.codsubgrupo),h.a.createElement("br",null),h.a.createElement("div",{style:{float:"right",marginRight:55,marginTop:25}},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/n69ZD86/logo-Vertical.png",alt:"logo-lpc",border:"0",style:{width:"130px",height:"100px"}})),h.a.createElement("div",{style:{width:"70%",marginLeft:"5%"}},h.a.createElement("table",{style:{width:"100%"}},h.a.createElement("tr",null,n&&h.a.createElement("td",{colSpan:4,className:"pdf_large_column"},h.a.createElement("b",null,"Company:")," ",n),a&&h.a.createElement("td",{colSpan:2,className:n?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"C/O:")," ",a)),h.a.createElement("tr",null,s&&h.a.createElement("td",{colSpan:5,className:"pdf_large_column"},h.a.createElement("b",null,"Address:")," ",s),e.codigo&&h.a.createElement("td",{colSpan:1,className:s?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"PO:")," ",e.codigo)),h.a.createElement("tr",null,e.Data_Faturamento&&D()(e.Data_Faturamento).isValid()&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Date of Billing:")," ",D()(e.Data_Faturamento).format("DD/MM/YYYY")),e.eta&&D()(e.eta).isValid()&&h.a.createElement("td",{colSpan:3,className:e.Data_Faturamento&&D()(e.Data_Faturamento).isValid()?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"Arrived:")," ",D()(e.eta).format("DD/MM/YYYY"))),h.a.createElement("tr",null,e.vessel_name&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Vessel Name:")," ",e.vessel_name),e.Data_Saida&&D()(e.Data_Saida).isValid()&&h.a.createElement("td",{colSpan:3,className:e.vessel_name?"pdf_money_col":"pdf_small_col"},h.a.createElement("b",null,"Sailed:")," ",D()(e.Data_Saida).format("DD/MM/YYYY"))),h.a.createElement("tr",null,e.name_of_port&&h.a.createElement("td",{colSpan:3,className:"pdf_large_column"},h.a.createElement("b",null,"Name of Port:")," ",e.name_of_port),h.a.createElement("td",{colSpan:3,className:e.name_of_port?"pdf_money_col":"pdf_small_col"},p())))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"voucherContent"},h.a.createElement("div",{className:"center"},e.subgrupos),h.a.createElement("table",null,h.a.createElement("tr",null,h.a.createElement("th",{className:"pdf_large_col",colSpan:7},"Services"),h.a.createElement("th",null,"Debit BRL"),h.a.createElement("th",null,"Debit USD")),o.filter((function(t){return t.codsubgrupo_taxas==e.codsubgrupo_taxas})).map((function(e,t){return d+=C.a.toFixed(parseFloat(u(e)),2),v+=C.a.toFixed(parseFloat(m(e)),2),r.filter((function(t){return t.chaveEvento==e.chsub})).map((function(e){if(b.find((function(t){return t.titulo==e.campo}))||b.push({titulo:e.campo,tipo:e.tipoCampo}),"LISTA"!=e.tipoCampo||g.find((function(t){return t.campo==e.campo})))"TEXTO"!=e.tipoCampo||g.find((function(t){return t.campo==e.campo}))||g.push(e);else{var t,a=null===(t=e.complemento)||void 0===t?void 0:t.split("\n");a[0]&&a.forEach((function(t){g.push(Object(i.a)(Object(i.a)({},e),{},{complemento:t}))}))}})),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_large_col reduce-font",colSpan:7},l(e)),h.a.createElement("td",{className:"pdf_money_col reduce-font"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(u(e))),h.a.createElement("td",{className:"pdf_money_col reduce-font"},new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(m(e))))})),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:7,className:"pdf_large_col"},h.a.createElement("b",null,"TOTAL")),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(d))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(v)))))),h.a.createElement("div",{className:"voucherFooter"},"Comments:"),b.map((function(e){return"LISTA"==e.tipo?h.a.createElement("div",{className:"voucherCamposLista"},h.a.createElement("div",{className:"voucherCampoTitulos"},e.titulo),h.a.createElement("ul",{className:"voucherLiListaCampos"},g.filter((function(t){return t.campo==e.titulo})).map((function(e){return h.a.createElement("li",null,e.complemento)})))):"TEXTO"==e.tipo?h.a.createElement("div",{className:"voucherCamposLista"},h.a.createElement("div",{className:"voucherCampoTitulos"},e.titulo),h.a.createElement("div",{className:"voucherComplementosLista"},g.filter((function(t){return t.campo==e.titulo})).map((function(e){return h.a.createElement("pre",null,e.complemento)})))):void 0})))}))),e.next=38;break;case 35:return e.next=37,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o pdf!",loading:!1});case 37:return e.abrupt("return");case 38:return e.next=40,s.setState({pdfgerado:f});case 40:s.handleExportWithComponent(),e.next=48;break;case 43:return e.prev=43,e.t3=e.catch(0),console.log(e.t3),e.next=48,s.setState({erro:"Erro ao criar o pdf",loading:!1});case 48:case"end":return e.stop()}}),e,null,[[0,43]])})));return function(t,a){return e.apply(this,arguments)}}(),s.CloseToReal=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,i,u,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=5;break}return e.next=4,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 4:return e.abrupt("return");case 5:return e.next=7,s.salvarOS(a,!1);case 7:return s.setState({pdfNome:"Close to Real".concat(s.state.codigo?" - ".concat(s.state.codigo):"")}),e.next=10,s.setState({loading:!0});case 10:return e.next=12,F.a.post("getCloseToReal.php",{token:!0,codigo:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({pdfContent:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:if(o=0,n=0,r=0,i=0,u=0,m=0,p="",s.state.pdfContent&&s.state.pdfContent[0]){e.next=21;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 21:if(!s.state.pdfContent[0]){e.next=29;break}if(s.state.pdfContent[0].governmentTaxes>0&&(o+=parseFloat(s.state.pdfContent[0].governmentTaxes),n+=C.a.toFixed(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),s.state.pdfContent[0].bankCharges>0&&(o+=parseFloat(s.state.pdfContent[0].bankCharges),n+=C.a.toFixed(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),!s.state.pdfContent.find((function(e){return(0==e.tipo||1==e.tipo)&&!e.chavTaxa}))){e.next=26;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 26:p=h.a.createElement("div",{style:{zoom:1},key:546546554654},h.a.createElement("div",{className:"pdfHeader"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/vmKJkx4/logo.png",alt:"logo-lpc",border:"0",style:{width:"24%",height:"150px"}}),h.a.createElement("h3",{className:"pdfTitle"}),h.a.createElement("h4",null,"Close to Real")),h.a.createElement("hr",null),h.a.createElement("div",{className:"pdfContent"},h.a.createElement("div",null,h.a.createElement("table",{className:"pdfTableCabecalho"},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",{style:{paddingRight:5}},"COMPANY:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].cliente))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_large_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ADDRESS:")," ","".concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].complemento)," ").concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].rua)," ").concat(s.state.pdfContent[0].numero&&"0"!=s.state.pdfContent[0].numero?s.state.pdfContent[0].numero:""," ").concat(s.state.pdfContent[0].cep&&"0"!=s.state.pdfContent[0].cep?s.state.pdfContent[0].cep:""))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Vessel Name:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomeNavio)),h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Name of Port:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomePorto))),h.a.createElement("tr",null,s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid()&&h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Arrived:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_chegada)).format("MMMM DD, YYYY")),s.state.pdfContent[0].data_saida&&"Invalid date"!=D()(s.state.pdfContent[0].data_saida).format("DD/MM/YYYY")&&h.a.createElement("td",{className:"".concat(s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid?"pdf_money_col":"pdf_small_col"),colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"Sailed:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_saida)).format("MMMM DD, YYYY"))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"PO:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].codigo)),h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"O.C.C:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].centro_custo))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ROE:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].roe.replaceAll(".",","))))),h.a.createElement("br",null))),h.a.createElement("div",null,h.a.createElement("table",{style:{width:"90%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"2",className:"pdf_small_col pdfTitle"}),h.a.createElement("td",{className:"pdf_small_col"}),h.a.createElement("td",{className:"pdf_small_col"})),h.a.createElement("tr",null),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col",style:{backgroundColor:"#CDCDCD"}},"DESCRIPTION:"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (USD)"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (R$)")),s.state.pdfContent.map((function(e,t){if(0==e.tipo||1==e.tipo?5==e.moeda?(o+=parseFloat(e.valor),n+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(o+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),n+=parseFloat(e.valor)):2==e.tipo?5==e.moeda?(r+=parseFloat(e.valor),i+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(r+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),i+=parseFloat(e.valor)):3==e.tipo&&(5==e.moeda?(u+=parseFloat(e.valor),m+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(u+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),m+=parseFloat(e.valor))),0==e.tipo||1==e.tipo)return h.a.createElement("tr",{style:{background:t%2==0?"white":"#dddddd"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},e.descos),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},5==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor))),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},6==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor))))})),s.state.pdfContent[0].governmentTaxes>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"GOVERNMENT TAXES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes))))),s.state.pdfContent[0].bankCharges>0&&h.a.createElement("tr",{styles:{padding:"37px 0px 37px 0px"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"BANK CHARGES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Total"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(n)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(o))))),parseFloat(u)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Discount"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(m)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(u))))),parseFloat(r)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Received"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(i)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(r))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Balance"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(n)-(parseFloat(i)+parseFloat(m))))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(o)-(parseFloat(r)+parseFloat(u)))))))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),h.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account number:")," 161441-X")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," 10.432.546/0001-75")))),e.next=32;break;case 29:return e.next=31,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o pdf!",loading:!1});case 31:return e.abrupt("return");case 32:return e.next=34,s.setState({pdfgerado:p});case 34:s.handleExportWithComponent(),e.next=41;break;case 37:return e.prev=37,e.t0=e.catch(0),e.next=41,s.setState({erro:"Erro ao criar o pdf",loading:!1});case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,a){return e.apply(this,arguments)}}(),s.gerarOrcamento=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var o,n,r,i,u,m,p,d,v,f,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=6;break}return console.log("foi no !validForm"),e.next=5,s.setState({error:{type:"error",msg:"Verifique se as informa\xe7\xf5es est\xe3o corretas!"}});case 5:return e.abrupt("return");case 6:return e.next=8,s.salvarOS(a,!1);case 8:return console.log(t),e.next=11,s.setState({loading:!0});case 11:return e.next=13,F.a.post("getOrcamentoDataPdf.php",{token:!0,codigo:t}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({pdfContent:t.data});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:if(u=0,m=0,p=0,d=0,v=0,f=0,g="",s.state.pdfContent&&s.state.pdfContent[0]){e.next=24;break}return console.log("foi no !this.state.pdfContent ||..."),console.log(s.state.pdfContent),e.abrupt("return",s.setState({error:{type:"error",msg:"Sem informa\xe7\xf5es necess\xe1rias"},loading:!1}));case 24:if(s.setState({pdfNome:"PROFORMA INVOICE".concat((null===(o=s.state.pdfContent[0])||void 0===o?void 0:o.dataEmissao)&&(null===(n=s.state.pdfContent[0])||void 0===n?void 0:n.sequencialOrcamento)?" - ".concat(null===(r=s.state.pdfContent[0])||void 0===r?void 0:r.dataEmissao).concat(null===(i=s.state.pdfContent[0])||void 0===i?void 0:i.sequencialOrcamento):"")}),!s.state.pdfContent[0]){e.next=33;break}if(s.state.pdfContent[0].governmentTaxes>0&&(u+=parseFloat(s.state.pdfContent[0].governmentTaxes),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),s.state.pdfContent[0].bankCharges>0&&(u+=parseFloat(s.state.pdfContent[0].bankCharges),m+=C.a.toFixed(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)),!s.state.pdfContent.find((function(e){return(0==e.tipo||1==e.tipo)&&!e.chavTaxa}))){e.next=30;break}return e.abrupt("return",s.setState({error:{type:"error",msg:"H\xe1 eventos sem taxas"},loading:!1}));case 30:g=h.a.createElement("div",{style:{zoom:1},key:546546554654},h.a.createElement("div",{className:"pdfHeader"},h.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/vmKJkx4/logo.png",alt:"logo-lpc",border:"0",style:{width:"24%",height:"150px"}}),h.a.createElement("h3",{className:"pdfTitle"}),h.a.createElement("h4",null,"PROFORMA INVOICE")),h.a.createElement("hr",null),h.a.createElement("div",{className:"pdfContent"},h.a.createElement("div",null,h.a.createElement("table",{className:"pdfTableCabecalho"},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:4,className:"pdf_large_col"},h.a.createElement("b",{style:{paddingRight:5}},"COMPANY:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].cliente))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_large_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ADDRESS:")," ","".concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].complemento)," ").concat(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].rua)," ").concat(s.state.pdfContent[0].numero&&"0"!=s.state.pdfContent[0].numero?s.state.pdfContent[0].numero:""," ").concat(s.state.pdfContent[0].cep&&"0"!=s.state.pdfContent[0].cep?s.state.pdfContent[0].cep:""))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"Vessel Name:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomeNavio)),s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid()&&h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"ETA:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_chegada)).format("MMMM DD, YYYY"))),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"Port:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].nomePorto)),s.state.pdfContent[0].etb&&D()(s.state.pdfContent[0].etb).isValid()&&h.a.createElement("td",{className:"pdf_money_col",colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"ETB:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].etb)).format("MMMM DD, YYYY"))),h.a.createElement("tr",null),h.a.createElement("tr",null),h.a.createElement("tr",null,h.a.createElement("td",{className:"pdf_small_col",colSpan:"4"},h.a.createElement("b",{style:{paddingRight:5}},"ROE:")," ",C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].roe.replaceAll(".",","))),s.state.pdfContent[0].data_saida&&"Invalid date"!=D()(s.state.pdfContent[0].data_saida).format("DD/MM/YYYY")&&h.a.createElement("td",{className:"".concat(s.state.pdfContent[0].data_chegada&&D()(s.state.pdfContent[0].data_chegada).isValid?"pdf_money_col":"pdf_small_col"),colSpan:"2"},h.a.createElement("b",{style:{paddingRight:5}},"ETS:")," ",D()(C.a.returnIfExists(s.state.pdfContent[0],s.state.pdfContent[0].data_saida)).format("MMMM DD, YYYY")))),h.a.createElement("br",null))),h.a.createElement("div",null,h.a.createElement("table",{style:{width:"90%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"2",className:"pdf_small_col pdfTitle"}),h.a.createElement("td",{className:"pdf_small_col"}),h.a.createElement("td",{className:"pdf_small_col"})),h.a.createElement("tr",null),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col",style:{backgroundColor:"#CDCDCD"}},"DESCRIPTION:"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (USD)"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"#CDCDCD"}},"VALUE (R$)")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col",style:{backgroundColor:"white"}},"\xa0"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"white"}},"\xa0"),h.a.createElement("td",{className:"pdf_money_col",style:{backgroundColor:"white"}},"\xa0")),s.state.pdfContent.map((function(e,t){if(0==e.tipo||1==e.tipo?5==e.moeda?(u+=parseFloat(e.valor),m+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(u+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),m+=parseFloat(e.valor)):2==e.tipo?5==e.moeda?(p+=parseFloat(e.valor),d+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(p+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),d+=parseFloat(e.valor)):3==e.tipo&&(5==e.moeda?(v+=parseFloat(e.valor),f+=C.a.toFixed(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2)):(v+=C.a.toFixed(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5)),2),f+=parseFloat(e.valor))),0==e.tipo||1==e.tipo)return h.a.createElement("tr",{style:{background:t%2==0?"white":"#dddddd"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},"LINHA VAZIA"!=e.descos?e.descos:null,"\xa0"),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},"LINHA VAZIA"!=e.descos?5==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor)):null,"\xa0"),h.a.createElement("td",{className:"pdf_money_col reduce_font",style:{background:t%2==0?"white":"#ccc"}},"LINHA VAZIA"!=e.descos?6==e.moeda?C.a.formataDinheiroBrasileiro(parseFloat(e.valor*(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))):C.a.formataDinheiroBrasileiro(parseFloat(e.valor)):null,"\xa0"))})),s.state.pdfContent[0].governmentTaxes>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"GOVERNMENT TAXES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].governmentTaxes))))),s.state.pdfContent[0].bankCharges>0&&h.a.createElement("tr",{styles:{padding:"37px 0px 37px 0px"}},h.a.createElement("td",{colSpan:"7",className:"pdf_large_col reduce_font"},h.a.createElement("b",null,"BANK CHARGES")),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges/(s.state.pdfContent[0].roe?s.state.pdfContent[0].roe:5))))),h.a.createElement("td",{className:"pdf_money_col reduce_font"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(s.state.pdfContent[0].bankCharges))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Total"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(m)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(u))))),parseFloat(v)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Discount"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(f)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(v))))),parseFloat(p)>0&&h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Received"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(d)))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(p))))),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:"7",className:"pdf_large_col pdfTitle"},"Balance"),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(m)-(parseFloat(d)+parseFloat(f))))),h.a.createElement("td",{className:"pdf_money_col"},h.a.createElement("b",null,C.a.formataDinheiroBrasileiro(parseFloat(u)-(parseFloat(p)+parseFloat(v)))))))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),h.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account number:")," 161441-X")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),h.a.createElement("tr",null,h.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},h.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," 10.432.546/0001-75")))),e.next=36;break;case 33:return e.next=35,s.setState({erro:"Sem as informa\xe7\xf5es necess\xe1rias para gerar o pdf!",loading:!1});case 35:return e.abrupt("return");case 36:return e.next=38,s.setState({pdfgerado:g});case 38:s.handleExportWithComponent(),e.next=45;break;case 41:return e.prev=41,e.t0=e.catch(0),e.next=45,s.setState({erro:"Erro ao criar o pdf",loading:!1});case 45:case"end":return e.stop()}}),e,null,[[0,41]])})));return function(t,a){return e.apply(this,arguments)}}(),s.GerarEtiqueta=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]&&o[1],e.next=3,F.a.post("enviaEtiquetaOS.php",{os:t,navio:s.state.naviosOptions.find((function(e){return e.value==s.state.navio}))?s.state.naviosOptions.find((function(e){return e.value==s.state.navio})).label:"",cliente:s.state.clientesOptions.find((function(e){return e.value==s.state.cliente}))?s.state.clientesOptions.find((function(e){return e.value==s.state.cliente})).label:"",servico:s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico}))?s.state.tiposServicosOptions.find((function(e){return e.value==s.state.tipoServico})).label:"",operador:s.state.operadoresOptions.find((function(e){return e.value==s.state.operador}))?s.state.operadoresOptions.find((function(e){return e.value==s.state.operador})).label:"",porto:s.state.portosOptions.find((function(e){return e.value==s.state.porto}))?s.state.portosOptions.find((function(e){return e.value==s.state.porto})).label:"",eta:"Invalid date"!=D()(s.state.eta).format("DD/MM/YYYY")?D()(s.state.eta).format("DD/MM/YYYY"):"T.B.I.",etb:"Invalid date"!=D()(s.state.etb).format("DD/MM/YYYY")?D()(s.state.etb).format("DD/MM/YYYY HH:mm"):"T.B.I.",data_saida:"Invalid date"!=D()(s.state.data_saida).format("DD/MM/YYYY")?D()(s.state.data_saida).format("DD/MM/YYYY HH:mm"):"T.B.I.",criacao:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.enviaDocumento=Object(l.a)(c.a.mark((function e(){var t,a,o,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({loading:!0});case 2:if(t="",a="",o="",!s.state.documento[0]){e.next=11;break}return e.next=8,C.a.getBase64(s.state.documento[0]);case 8:t=e.sent,a=s.state.documento[0].type,o=s.state.documentoNome.split(".")[s.state.documentoNome.split(".").length-1];case 11:if(s.state.documentoEditar){e.next=20;break}return(n=s.state.documentoCaminho.split("."))[n.length-1]=o,e.next=16,s.setState({dadosFinaisDoc:[{titulo:"Descricao",valor:C.a.formatForLogs(s.state.documentoDescricao)},{titulo:"Tipo de Documento",valor:C.a.formatForLogs(s.state.documentoTipo,"options","","",s.state.tiposDocumentosOptions)},{titulo:"Caminho",valor:C.a.formatForLogs(n.join(""))}]});case 16:return e.next=18,F.a.post("enviaDocumento.php",{documento:t,format:a,ext:o,chave_os:s.state.chave,chave_osi:0,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:e.next=27;break;case 20:if(!s.state.documentoTrocar){e.next=25;break}return e.next=23,F.a.post("trocaDocumento.php",{documento:t,format:a,ext:o,chave:s.state.documentoChave,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo,caminho:s.state.documentoCaminho}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,s.state.dadosIniciaisDoc,s.state.dadosFinaisDoc,s.state.documentoChave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:e.next=27;break;case 25:return e.next=27,F.a.post("updateDocumento.php",{chave:s.state.documentoChave,descricao:s.state.documentoDescricao,tipo:s.state.documentoTipo}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_documentos",s.state.usuarioLogado.codigo,s.state.dadosIniciaisDoc,s.state.dadosFinaisDoc,s.state.documentoChave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 27:case"end":return e.stop()}}),e)}))),s.revertItemEdit=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,n,r,l,i,u,m,p,d,v,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({eventoData:null===(a=t.valores.find((function(e){return"Data"===e.titulo})))||void 0===a?void 0:a.valor,eventoFornecedor:null===(o=t.valores.find((function(e){return"Fornecedor"===e.titulo})))||void 0===o?void 0:o.valor,eventoTaxa:null===(n=t.valores.find((function(e){return"Taxa"===e.titulo})))||void 0===n?void 0:n.valor,eventoMoeda:null===(r=t.valores.find((function(e){return"Valor"===e.titulo})))||void 0===r?void 0:r.valor1,eventoValor:null===(l=t.valores.find((function(e){return"Valor"===e.titulo})))||void 0===l?void 0:l.valor2,eventoVlrc:null===(i=t.valores.find((function(e){return"VCP"===e.titulo})))||void 0===i?void 0:i.valor,eventoRepasse:null===(u=t.valores.find((function(e){return"Repasse"===e.titulo})))||void 0===u?void 0:u.valor,eventoDescricao:null===(m=t.valores.find((function(e){return"Descri\xe7\xe3o"===e.titulo})))||void 0===m?void 0:m.valor,eventoTipo:null===(p=t.valores.find((function(e){return"Tipo"===e.titulo})))||void 0===p?void 0:p.valor,eventoOrdem:null===(d=t.valores.find((function(e){return"Ordem"===e.titulo})))||void 0===d?void 0:d.valor,eventoRemarks:null===(v=t.valores.find((function(e){return"Remarks"===e.titulo})))||void 0===v?void 0:v.valor,eventoFornecedorCusteio:null===(f=t.valores.find((function(e){return"Fornecedor Custeio"===e.titulo})))||void 0===f?void 0:f.valor});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.salvarEvento=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(i.a)({},C.a.cleanStates(s.state))),e.next=3,s.setState({dadosFinaisSol:[{titulo:"Data",valor:C.a.formatForLogs(s.state.eventoData,"date")},{titulo:"Fornecedor",valor:C.a.formatForLogs(s.state.eventoFornecedor,"options","","",s.state.fornecedoresOptions)},{titulo:"Taxa",valor:C.a.formatForLogs(s.state.eventoTaxa,"options","","",s.state.taxasOptions)},{titulo:"Moeda",valor:C.a.formatForLogs(s.state.eventoMoeda,"options","","",s.state.moedasOptions)},{titulo:"Valor",valor:C.a.formatForLogs(s.state.eventoValor,"money","0,00")},{titulo:"VCP",valor:C.a.formatForLogs(s.state.eventoVlrc,"money","0,00")},{titulo:"Repasse",valor:C.a.formatForLogs(s.state.eventoRepasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:C.a.formatForLogs(s.state.eventoDescricao)},{titulo:"Tipo",valor:C.a.formatForLogs(s.state.eventoTipo,"options","","",s.state.tiposSubOptions)},{titulo:"Ordem",valor:C.a.formatForLogs(s.state.eventoOrdem)},{titulo:"Remarks",valor:C.a.formatForLogs(s.state.eventoRemarks)},{titulo:"Fornecedor Custeio",valor:C.a.formatForLogs(s.state.eventoFornecedorCusteio,"options","","",s.state.fornecedoresOptions)}],loading:!0});case 3:if(0!==parseInt(s.state.eventoChave)){e.next=8;break}return e.next=6,F.a.post("insertServicoItemBasico.php",{token:!0,values:"'".concat(s.state.chave,"', '").concat(s.state.eventoData,"', '").concat(s.state.eventoFornecedor,"', '").concat(s.state.eventoTaxa,"', '").concat(s.state.eventoDescricao,"', '").concat(s.state.eventoTipo,"', '").concat(s.state.eventoFornecedorCusteio,"', '").concat(s.state.eventoRemarks,"', '").concat(s.state.eventoMoeda,"', '").concat(parseFloat(""==s.state.eventoValor?0:s.state.eventoValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(""==s.state.eventoVlrc?0:s.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")),"', '").concat(s.state.eventoRepasse&&"0"!=s.state.eventoRepasse?1:0,"'"),chave_os:s.state.chave,ordem:s.state.eventoOrdem.replaceAll(",",".")}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=10;break;case 8:return e.next=10,F.a.post("updateServicoItem.php",{token:!0,chave:s.state.eventoChave,chave_os:s.state.chave,data:s.state.eventoData,Moeda:s.state.eventoMoeda,valor:parseFloat(""==s.state.eventoValor?0:s.state.eventoValor.replaceAll(".","").replaceAll(",",".")),valor1:parseFloat(s.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")),repasse:s.state.eventoRepasse&&"0"!=s.state.eventoRepasse?1:0,fornecedor:s.state.eventoFornecedor,taxa:s.state.eventoTaxa,descricao:s.state.eventoDescricao,ordem:s.state.eventoOrdem.replaceAll(",","."),tipo_sub:s.state.eventoTipo,Fornecedor_Custeio:s.state.eventoFornecedorCusteio,remarks:s.state.eventoRemarks}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=6;break}return e.next=3,w.a.salvaLogs("os_servicos_itens",s.state.usuarioLogado.codigo,s.state.dadosIniciaisSol,s.state.dadosFinaisSol,s.state.eventoChave,"EVENTO: ".concat(s.state.descricao));case 3:window.location.reload(),e.next=8;break;case 6:return e.next=8,alert("Erro ".concat(JSON.stringify(t)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.setState({modalItemAberto:!1});case 12:case"end":return e.stop()}}),e)}))),s.getCamposVoucher=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getBody("getCamposOS.php",{token:!0,chave_os:s.state.chave});case 2:t=e.sent,s.setState({camposOS:t,modalCamposOS:!0});case 4:case"end":return e.stop()}}),e)}))),s.handleExportWithComponent=function(e){s.pdfExportComponent.current.save(),s.setState({loading:!1})},s.openLogs=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getLogsOS(s.state.chave,s.state.todosEventos.map((function(e){return e.chave})));case 2:return t=(t=e.sent).map((function(e){return"os"==e.Tabela&&(e.Campos.includes("Inclus\xe3o")||e.Campos.includes("Cancelamento"))?Object(i.a)(Object(i.a)({},e),{},{Campos:"Solicita\xe7\xe3o de Servi\xe7o: ".concat(e.Campos)}):Object(i.a)({},e)})),e.next=6,s.setState({logs:t,modalLog:!0});case 6:case"end":return e.stop()}}),e)}))),s.deleteOrcamento=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({deleteOS:!0}),Object(L.confirmAlert)({customUI:function(e){var a=e.onClose;return h.a.createElement("div",{className:"custom-ui text-center"},h.a.createElement("h1",null,O.w),h.a.createElement("p",null,"Cancelar este or\xe7amento? "),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),h.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("deleteOS.php",{token:!0,chave:t,canceladoPor:s.state.usuarioLogado.codigo}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.data){e.next=6;break}return e.next=3,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,null,"Cancelamento",t);case 3:return e.next=5,s.setState({redirectAfterDelOrcamento:!0});case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:a();case 3:case"end":return e.stop()}}),e)})))},"Sim"))}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.InserirEmOs=Object(l.a)(c.a.mark((function e(){var t=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],e.next=3,F.a.post("insertEventosOrcamentoToOs.php",{token:!0,chave_os:s.state.os_escolhida.value,chave_orcamento:s.state.chave,canceladaPor:s.state.usuarioLogado.codigo}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("FOI: ".concat(t.data));case 2:return e.next=4,s.setState({redirectAfterInsertEventsInOs:!0});case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),s.criarOs=Object(l.a)(c.a.mark((function e(){var t,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],e.next=3,F.a.post("transformaOrcamentoEmOs.php",{token:!0,Chave:s.state.chave}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a.data){e.next=13;break}return e.next=3,w.a.salvaLogs("os",s.state.usuarioLogado.codigo,s.state.dadosIniciais,s.state.dadosFinais,s.state.chave,"Or\xe7amento -> OS: ".concat(s.state.codigo));case 3:return e.next=5,s.GerarEtiqueta(s.state.codigo,!0);case 5:return e.next=7,s.setState({loading:!1,bloqueado:!1,governmentTaxes:!!s.state.governmentTaxes&&s.state.governmentTaxes,bankCharges:!!s.state.bankCharges&&s.state.bankCharges});case 7:if(!t){e.next=11;break}return e.next=10,s.setState({redirectToNewOs:t});case 10:window.location.reload();case 11:e.next=15;break;case 13:return e.next=15,alert("Erro ".concat(JSON.stringify(a)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:console.log("oi");case 4:case"end":return e.stop()}}),e)}))),s.pdfExportComponent=h.a.createRef(null),s}return Object(m.a)(o,[{key:"render",value:function(){var e,t,a,o,n,s,u,m,p=this,d=[];d.push(this.state.abertura),d.push(this.state.chegada),d.push(this.state.cliente),d.push(this.state.navio),d.push(this.state.tipoServico),d.push(this.state.empresa),d.push(this.state.roe&&this.state.roe==parseFloat(this.state.roe)),d.push(!this.state.bloqueado);var f=d.reduce((function(e,t){return e&&t})),C=[];C.push(this.state.meioPagamento),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoReceita),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.contribuinte),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoIdentificadorTributo),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.mesCompetNumRef),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.dataApuracao),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfValor&&this.state.darfValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfValor.replaceAll(".","").replaceAll(",","."))),C.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfPagamento&&this.state.darfPagamento.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfPagamento.replaceAll(".","").replaceAll(",","."))),C.push(!this.state.bloqueadoContabiliza);var O=[];O.push(this.state.eventoData),O.push(this.state.eventoTaxa||2==this.state.eventoTipo||3==this.state.eventoTipo),O.push(this.state.eventoFornecedor||1==this.state.eventoTipo||2==this.state.eventoTipo||3==this.state.eventoTipo),O.push(this.state.eventoFornecedorCusteio||1!=this.state.eventoTipo),O.push(this.state.eventoValor&&!isNaN(this.state.eventoValor.replaceAll(".","").replaceAll(",","."))),O.push(0==this.state.eventoRepasse&&!this.state.eventoVlrc||this.state.eventoVlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.eventoVlrc.replaceAll(".","").replaceAll(",","."))&&(0==this.state.eventoRepasse||this.state.eventoVlrc==this.state.eventoValor)),O.push(this.state.eventoDescricao),O.push(this.state.eventoOrdem&&this.state.eventoOrdem.replaceAll(",",".")==parseFloat(this.state.eventoOrdem.replaceAll(",",".")));var S=O.reduce((function(e,t){return e&&t}));return h.a.createElement("div",{className:"allContent"},h.a.createElement("div",{style:{position:"absolute",left:"-900000px",top:0}},h.a.createElement(I.a,{fileName:this.state.pdfNome,scale:.6,landscape:!1,className:"pdfExp",paperSize:"A4",margin:"0.5cm",forcePageBreak:".page-break",ref:this.pdfExportComponent},this.state.pdfgerado)),this.state.loading&&h.a.createElement(N.a,null),this.state.redirect&&h.a.createElement(k.a,{to:"/"}),this.state.recarregaPagina&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(this.state.chave),state:Object(i.a)(Object(i.a)({},this.props.location.state),{},{os:Object(i.a)({},this.state.os)})}}),window.location.reload()),this.state.redirectToNewOs&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addos/".concat(this.state.chave),state:Object(i.a)(Object(i.a)({},this.props.location.state),{},{os:Object(i.a)({},this.state.os)})}})),this.state.redirectAfterDelOrcamento&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/osOrcamento"}})),this.state.redirectAfterInsertEventsInOs&&h.a.createElement(h.a.Fragment,null,h.a.createElement(k.a,{to:{pathname:"/ordensservico/addos/".concat(this.state.os_escolhida.value)}})),!this.state.loading&&h.a.createElement(h.a.Fragment,null,h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.documentoModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({documentoModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({documentoModal:!1,documentoTrocar:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloModal"},h.a.createElement("span",null,"Enviar documento:")),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,p.enviaDocumento();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Descri\xe7\xe3o:")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.documentoDescricao,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({documentoDescricao:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipo:")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10",style:this.state.tiposDocumentoOptions.length>75?{marginBottom:10}:{}},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.tiposDocumentoOptions.filter((function(e){return p.filterSearch(e,p.state.tiposDocumentoOptionsTexto)})).slice(0,75),onInputChange:function(e){p.setState({tiposDocumentoOptionsTexto:e})},value:this.state.tiposDocumentoOptions.filter((function(e){return e.value==p.state.documentoTipo}))[0],search:!0,onChange:function(e){p.setState({documentoTipo:e.value})}}),this.state.tiposDocumentoOptions.length>75&&h.a.createElement("span",{style:{color:"red",whiteSpace:"nowrap",fontSize:"0.8em"}},"Limite de 75 tipos atingido. Os tipos ocultos devem ser pesquisados")),this.state.documentoEditar&&h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Trocar documento?")),this.state.documentoEditar&&h.a.createElement("div",{className:"col-1"}),this.state.documentoEditar&&h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement("input",{className:"form_control",checked:this.state.documentoTrocar,onChange:function(e){p.setState({documentoTrocar:e.target.checked})},type:"checkbox"})),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Arquivo:")),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-1 errorMessage"}),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"file",value:this.state.documentoNome,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({documento:t.currentTarget.files,documentoNome:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.documentoTrocar&&h.a.createElement("div",{className:"col-1"}))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}}),h.a.createElement("div",{className:"col-2"}),h.a.createElement("button",{type:"submit",style:{width:300}},"Enviar"))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.modalEscolhaOs,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({modalEscolhaOs:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({modalEscolhaOs:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{codigo:""},onSubmit:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.InserirEmOs(!1);case 1:case"end":return e.stop()}}),e)})))},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},void 0==this.state.eventos[0]?h.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"center",alignItems:"center"}},h.a.createElement("h4",{style:{justifyContent:"center",alignItems:"center"}},"Nenhum evento cadastrado.")):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Escolha a OS:")),h.a.createElement(_.a,{className:"SearchSelect",options:this.state.ordem_servico_codigos,value:this.state.os_escolhida,search:!0,onChange:function(e){p.setState({os_escolhida:e})}})),h.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"center",alignItems:"center"}},h.a.createElement("button",{type:"submit",disabled:!this.state.os_escolhida.label,style:this.state.os_escolhida.label?{justifyContent:"center",alignItems:"center",width:300}:{justifyContent:"center",alignItems:"center",backgroundColor:"gray",width:300}},"Enviar"))),h.a.createElement("div",{className:"col-2"})),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.agrupadorModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({agrupadorModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({agrupadorModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,p.setState({agrupadorModal:!1});case 4:if("CUSTEIO"!=p.state.agrupadorTipo){e.next=9;break}return e.next=7,p.agruparEventos();case 7:e.next=12;break;case 9:if("INVOICE"!=p.state.agrupadorTipo){e.next=12;break}return e.next=12,p.Invoices(f);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Eventos:")),h.a.createElement("h3",{className:"text-center white"},"Selecionados"),this.state.agrupadorEventos[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.eventos[0]&&this.state.eventos.filter((function(e){return p.state.agrupadorEventos.includes(e.chave)})).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){"INVOICE"==p.state.agrupadorTipo&&0!=p.state.grupoSelecionado&&p.setState({grupoSelecionado:"",agrupadorEventos:[]}),p.setState({agrupadorEventos:p.state.agrupadorEventos.filter((function(t){return t!=e.chave}))})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!0}))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){"INVOICE"==p.state.agrupadorTipo&&0!=p.state.grupoSelecionado&&p.setState({grupoSelecionado:"",agrupadorEventos:[]}),p.setState({agrupadorEventos:p.state.agrupadorEventos.filter((function(t){return t!=e.chave}))})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,p.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!0}))))})))),!this.state.agrupadorEventos[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h3",{className:"text-center white"},"Eventos"),this.state.eventos.filter((function(e){return!p.state.agrupadorEventos.includes(e.chave)})).find(this.filterAgrupador)&&h.a.createElement("div",{className:"agrupador_eventos"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.eventos[0]&&this.state.eventos.filter((function(e){return!p.state.agrupadorEventos.includes(e.chave)})).filter(this.filterAgrupador).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){var t,a,o;"INVOICE"===p.state.agrupadorTipo&&0==p.state.agrupadorEventos.length&&p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))}))?p.setState({grupoSelecionado:null===(t=p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===t?void 0:t.chave_grupo,agrupadorEventos:null===(a=p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===a||null===(o=a.evento)||void 0===o?void 0:o.split(",")}):p.setState({agrupadorEventos:[].concat(Object(r.a)(p.state.agrupadorEventos),[e.chave])})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!1}))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){var t,a,o;"INVOICE"===p.state.agrupadorTipo&&0==p.state.agrupadorEventos.length&&p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))}))?p.setState({grupoSelecionado:null===(t=p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===t?void 0:t.chave_grupo,agrupadorEventos:null===(a=p.state.invoices_groups.find((function(t){return t.evento.split(",").find((function(t){return(null===t||void 0===t?void 0:t.trim())==e.chave}))})))||void 0===a||null===(o=a.evento)||void 0===o?void 0:o.split(",")}):p.setState({agrupadorEventos:[].concat(Object(r.a)(p.state.agrupadorEventos),[e.chave])})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,p.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("input",{type:"checkbox",checked:!1}))))})))),!this.state.eventos.filter((function(e){return!p.state.agrupadorEventos.includes(e.chave)})).find(this.filterAgrupador)&&h.a.createElement("h4",{className:"text-center"},"Nenhum dispon\xedvel"))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),this.state.agrupadorEventos[0]&&h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),(0==this.state.grupoSelecionado||"INVOICE"==this.state.agrupadorTipo)&&h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),0!=this.state.grupoSelecionado&&"CUSTEIO"==this.state.agrupadorTipo&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",onClick:function(){return p.abrirContabilizacao(p.state.grupoSelecionado)},style:{width:300}},"Contabilizar"))),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.templatesModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,p.setState({templatesModal:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Templates:")),this.state.templates[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)"))),void 0!=this.state.templates[0]&&this.state.templates.filter((function(e){return!0})).map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:function(){p.setItemEdit(e,!0),p.setState({templatesModal:!1})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5))))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:function(){p.setItemEdit(e,!0),p.setState({templatesModal:!1})}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,p.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5))))))})))),!this.state.templates[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.gruposTemplatesModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({gruposTemplatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({gruposTemplatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"modalForm",style:{width:"95%"}},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,p.criarGrupoTemplates(f);case 4:return e.next=6,p.setState({gruposTemplatesModal:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-12"},h.a.createElement("h4",{className:"text-center white"},"Grupos de Templates:")),this.state.gruposTemplates[0]&&h.a.createElement("div",{className:"agrupador_eventos_selecionados"},h.a.createElement("table",{className:"agrupador_lista"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Nome"))),void 0!=this.state.gruposTemplates[0]&&this.state.gruposTemplates.filter((function(e){return!0})).map((function(e,t){return h.a.createElement("tr",{onClick:function(){p.state.grupoTemplate&&p.state.grupoTemplate.chave!=e.chave?p.setState({grupoTemplate:e}):p.setState({grupoTemplate:{}})},style:{filter:e.chave==p.state.grupoTemplate.chave?"brightness(0.5)":void 0}},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.nome)))})))),!this.state.gruposTemplates[0]&&h.a.createElement("h4",{className:"text-center"},"Nenhum"))),this.state.grupoTemplate&&h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",disabled:!(null===(e=this.state.grupoTemplate)||void 0===e?void 0:e.chave)||!f,style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"})))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.cabecalhoModal,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({cabecalhoModal:!1});case 2:return e.next=4,p.salvarCabecalho();case 4:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({cabecalhoModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloModal"},h.a.createElement("span",null,"Cabe\xe7alho:")),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,p.salvarCabecalho();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Company:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.company.indexOf('"')||-1!=this.state.company.indexOf("'"))&&h.a.createElement(A.a,{title:"Aspas duplas e \xfanicas n\xe3o s\xe3o permitidas",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.company,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({company:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Address:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.address.indexOf('"')||-1!=this.state.address.indexOf("'"))&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.address,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({address:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C/O:")),h.a.createElement("div",{className:"col-1 errorMessage"},(-1!=this.state.CO.indexOf('"')||-1!=this.state.CO.indexOf("'"))&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",as:"textarea",rows:"3",value:this.state.CO,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({CO:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{type:"submit",disabled:-1!=this.state.company.indexOf('"')||-1!=this.state.company.indexOf("'")||-1!=this.state.address.indexOf("'")||-1!=this.state.address.indexOf('"'),style:{width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.contabiliza,onClose:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("div",{className:"modalContainer"},h.a.createElement("div",{className:"modalCriar"},h.a.createElement("div",{className:"containersairlistprodmodal"},h.a.createElement("div",{className:"botaoSairModal",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement("span",null,"X"))),h.a.createElement("div",{className:"modalContent"},h.a.createElement("div",{className:"tituloPagesModal"},h.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return 0!=p.state.paginaContabiliza?p.setState({paginaContabiliza:p.state.paginaContabiliza-1}):{}}},h.a.createElement(A.a,{icon:T.o,color:0==this.state.paginaContabiliza?"#CFCFCF":"#8a8a8a"})),h.a.createElement("span",null,null===(t=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===t?void 0:t.descricao),h.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return p.state.paginaContabiliza!=p.state.eventosContabilizando.length-1?p.setState({paginaContabiliza:p.state.paginaContabiliza+1}):{}}},h.a.createElement(A.a,{icon:T.p,color:this.state.paginaContabiliza>=this.state.eventosContabilizando.length-1?"#CFCFCF":"#8a8a8a"}))),h.a.createElement("div",{className:"modalForm"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:p.salvarConta(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Hist\xf3rico Padr\xe3o")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.historicosOptions.filter((function(e){return p.filterSearch(e,p.state.optionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({historicosOptionsTexto:e})},value:this.state.historicosOptions.filter((function(e){return e.chave==p.state.historicoPadrao}))[0],search:!0,onChange:function(e){p.setState({historico:p.state.historico.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.label})),historicoPadrao:p.state.historicoPadrao.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.chave}))})}})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Hist\xf3rico")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.historico[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({historico:p.state.historico.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({historico:p.state.historico.map((function(e){return e||t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3d. Barras")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codBarras[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({codBarras:p.state.codBarras.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({codBarras:p.state.codBarras.map((function(e){return e||t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Conta D\xe9bito")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaDebito[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!(0==(null===(a=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===a?void 0:a.tipo_sub)&&(null===(o=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===o?void 0:o.repasse)),options:this.state.planosContasOptions.filter((function(e){return p.filterSearch(e,p.state.optionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({optionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==p.state.contaDebito[p.state.paginaContabiliza]}))[0],search:!0,onChange:function(e){var t,a;0==(null===(t=p.state.eventosContabilizando[p.state.paginaContabiliza])||void 0===t?void 0:t.tipo_sub)&&(null===(a=p.state.eventosContabilizando[p.state.paginaContabiliza])||void 0===a?void 0:a.repasse)&&p.setState({contaDebito:p.state.contaDebito.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.value}))})}}))," ",h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Conta Cr\xe9dito")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaCredito[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!("0"==(null===(n=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===n?void 0:n.tipo_sub)&&!(null===(s=this.state.eventosContabilizando[this.state.paginaContabiliza])||void 0===s?void 0:s.repasse)),options:this.state.planosContasOptions.filter((function(e){return p.filterSearch(e,p.state.optionsTexto)})).slice(0,20),value:this.state.planosContasOptions.filter((function(e){return e.value==p.state.contaCredito[p.state.paginaContabiliza]}))[0],onChange:function(e){var t,a;1==(null===(t=p.state.eventosContabilizando[p.state.paginaContabiliza])||void 0===t?void 0:t.tipo_sub)&&(null===(a=p.state.eventosContabilizando[p.state.paginaContabiliza])||void 0===a?void 0:a.repasse)||p.setState({contaCredito:p.state.contaCredito.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.value}))})}})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Meio de Pagamento")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.meioPagamento[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.meiosPagamentosOptions.filter((function(e){return p.filterSearch(e,p.state.optionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({optionsTexto:e})},value:this.state.meiosPagamentosOptions.filter((function(e){return e.value==p.state.meioPagamento[p.state.paginaContabiliza]}))[0],search:!0,onChange:function(e){p.setState({meioPagamento:p.state.meioPagamento.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.value})),meioPagamentoNome:p.state.meioPagamentoNome.map((function(t,a){return a!=p.state.paginaContabiliza&&t?t:e.label}))})}})),("DARF"==this.state.meioPagamentoNome[this.state.paginaContabiliza]||"GPS"==this.state.meioPagamentoNome[this.state.paginaContabiliza])&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement("hr",null)),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3digo da receita")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoReceita[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codigoReceita[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({codigoReceita:p.state.codigoReceita.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Contribuinte")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contribuinte[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.contribuinte[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({contribuinte:p.state.contribuinte.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({contribuinte:p.state.contribuinte.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"C\xf3digo identicador do tributo")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoIdentificadorTributo[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.codigoIdentificadorTributo[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({codigoIdentificadorTributo:p.state.codigoIdentificadorTributo.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({codigoIdentificadorTributo:p.state.codigoIdentificadorTributo.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"N\xfamero de refer\xeancia")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.mesCompetNumRef[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"text",value:this.state.mesCompetNumRef[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({mesCompetNumRef:p.state.mesCompetNumRef.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({mesCompetNumRef:p.state.mesCompetNumRef.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data de Apura\xe7\xe3o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.dataApuracao[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.dataApuracao[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({dataApuracao:p.state.dataApuracao.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({dataApuracao:p.state.dataApuracao.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:t.currentTarget.value}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Valor")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfValor[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfValor[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfValor:p.state.darfValor.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfValor:p.state.darfValor.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Multa")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfMulta[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfMulta[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfMulta:p.state.darfMulta.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfMulta:p.state.darfMulta.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Juros")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfJuros[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfJuros[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfJuros:p.state.darfJuros.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfJuros:p.state.darfJuros.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Valor de Pagamento")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfPagamento[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfPagamento[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfPagamento:p.state.darfPagamento.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfPagamento:p.state.darfPagamento.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Outros Valores")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfOutros[this.state.paginaContabiliza]&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",value:this.state.darfOutros[this.state.paginaContabiliza],onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfOutros:p.state.darfOutros.map((function(e,a){return a==p.state.paginaContabiliza?t.currentTarget.value:e}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({darfOutros:p.state.darfOutros.map((function(e,a){return a!=p.state.paginaContabiliza&&e?e:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{disabled:!1,type:"submit",style:{width:300}},"Enviar")),h.a.createElement("div",{className:"col-2"}))))))))),h.a.createElement(x.a,{alteraModal:this.alteraModal,alteraNavio:this.alteraNavio,alteraPorto:this.alteraPorto,alteraCliente:this.alteraCliente,alteraTipoServico:this.alteraTipoServico,alteraCentroCusto:this.alteraCentroCusto,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,pesquisa:this.state.modalPesquisa,closeModal:function(){p.setState({modalAberto:!1})}}),this.state.modalCamposOS&&h.a.createElement(z.a,{open:this.state.modalCamposOS,closeModal:function(){p.setState({modalCamposOS:!1})},campos:this.state.camposOS,submit:function(){p.setState({modalCamposOS:!1}),p.salvarOS(f,!1)}}),h.a.createElement("section",null,h.a.createElement(b.a,{voltarOsOrcamento:!0,titulo:"OS - Or\xe7amento",chave:0!=this.state.codigo?this.state.codigo:""}),h.a.createElement("br",null)),h.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"-20px",marginBottom:"2%"}},h.a.createElement("h6",{style:{color:"red"}},this.state.erro)),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"logButton"},h.a.createElement("button",{onClick:function(){return p.openLogs()}},"Logs")),h.a.createElement(j.a,{closeModal:function(){p.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.viagem,chave:this.state.chave,modalAberto:this.state.modalLog}),h.a.createElement("div",{className:"contact-section"},h.a.createElement(q.a,{alert:this.state.error,setAlert:function(e){return p.setState({error:e})}}),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-lg-12"},h.a.createElement(g.c,{initialValues:{name:""},onSubmit:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:p.salvarOS(f&&!p.state.faturado);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.a.createElement(g.b,{className:"contact-form"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),h.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},0==this.state.chave&&h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},h.a.createElement("label",null,"Data Abertura")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.abertura&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",disabled:!0,value:this.state.abertura})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Navio")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navio&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),options:this.state.naviosOptions.filter((function(e){return p.filterSearch(e,p.state.naviosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({naviosOptionsTexto:e})},value:this.state.naviosOptions.filter((function(e){return e.value==p.state.navio}))[0],search:!0,onChange:function(e){p.setState({navio:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-10 col-10"},1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.navios[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getNavios.php");case 6:return e.t1=e.sent,e.t2={navios:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarNavios",modalPesquisa:p.state.navio,modalLista:p.state.navios});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Porto")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.porto&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(e){return p.filterSearch(e,p.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({portosOptionsTexto:e})},value:this.state.portosOptions.filter((function(e){return e.value==p.state.porto}))[0],search:!0,onChange:function(e){p.setState({porto:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.portos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getPortos.php");case 6:return e.t1=e.sent,e.t2={portos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarPortos",modalPesquisa:p.state.porto,modalLista:p.state.portos});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Cliente")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cliente&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.clientesOptions.filter((function(e){return p.filterSearch(e,p.state.clientesOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({clientesOptionsTexto:e})},value:this.state.clientesOptions.filter((function(e){return e.value==p.state.cliente}))[0],search:!0,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({cliente:t.value});case 2:return e.next=4,p.getDadosCliente();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.clientes[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getClientes.php");case 6:return e.t1=e.sent,e.t2={clientes:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:p.state.cliente,modalLista:p.state.clientes});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipos de Servi\xe7o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServico&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.tiposServicosOptions.filter((function(e){return p.filterSearch(e,p.state.tiposServicosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({tiposServicosOptionsTexto:e})},value:this.state.tiposServicosOptions.filter((function(e){return e.value==p.state.tipoServico}))[0],search:!0,onChange:function(e){p.setState({tipoServico:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.tiposServicos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getTiposServicos.php");case 6:return e.t1=e.sent,e.t2={tiposServicos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarTiposServicos",modalPesquisa:p.state.tipoServico,modalLista:p.state.tiposServicos});case 12:case"end":return e.stop()}}),e)})))},"...")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Operador")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",options:this.state.operadoresOptions.filter((function(e){return p.filterSearch(e,p.state.operadoresOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({operadoresOptionsTexto:e})},value:this.state.operadoresOptions.filter((function(e){return e.value==p.state.operador}))[0],search:!0,onChange:function(e){p.setState({operador:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"}),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.A.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"date",value:this.state.eta,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({eta:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.B.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"datetime-local",value:this.state.etb,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({etb:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.S.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",type:"datetime-local",value:this.state.data_saida,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({data_saida:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),this.state.governmentTaxes&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Government Taxes")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.governmentTaxes,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"})),this.state.bankCharges&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Bank Charges")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.bankCharges,disabled:!0})),h.a.createElement("div",{className:"col-1 errorMessage"}))),0!=this.state.chave&&h.a.createElement("div",{className:"row addservicos"},h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},h.a.createElement("label",null,"Codigo")),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},h.a.createElement(g.a,(u={className:"form-control",disabled:!this.state.editavel,type:"text"},Object(v.a)(u,"disabled",!0),Object(v.a)(u,"value",this.state.chave?this.state.chave:""),u))),h.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 labelForm"},h.a.createElement("div",{className:"centerDiv"},h.a.createElement("button",{disabled:!f,type:"button",style:f?{width:150,height:50,padding:5,color:"white",border:"1px solid #efefef",marginBottom:25}:{backgroundColor:"#999",opacity:.3,width:150,height:50,padding:5,color:"#ccc",border:"1px solid #ccc",marginBottom:25},onClick:function(){p.setState({cabecalhoModal:!0})}},"Instru\xe7\xe3o de Cobran\xe7a"))),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Data Abertura")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.abertura&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,(m={className:"form-control",disabled:!this.state.editavel,type:"date"},Object(v.a)(m,"disabled",!0),Object(v.a)(m,"value",this.state.abertura),m))),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Navio")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navio&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10 "},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.naviosOptions.filter((function(e){return p.filterSearch(e,p.state.naviosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({naviosOptionsTexto:e})},value:this.state.naviosOptions.filter((function(e){return e.value==p.state.navio}))[0],search:!0,onChange:function(e){p.setState({navio:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.navios[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getNavios.php");case 6:return e.t1=e.sent,e.t2={navios:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarNavios",modalPesquisa:p.state.navio,modalLista:p.state.navios});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Porto")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.porto&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.portosOptions.filter((function(e){return p.filterSearch(e,p.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({portosOptionsTexto:e})},value:this.state.portosOptions.filter((function(e){return e.value==p.state.porto}))[0],search:!0,onChange:function(e){p.setState({porto:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.portos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getPortos.php");case 6:return e.t1=e.sent,e.t2={portos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarPortos",modalPesquisa:p.state.porto,modalLista:p.state.portos});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Cliente")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cliente&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.clientesOptions.filter((function(e){return p.filterSearch(e,p.state.clientesOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({clientesOptionsTexto:e})},value:this.state.clientesOptions.filter((function(e){return e.value==p.state.cliente}))[0],search:!0,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({cliente:t.value});case 2:return e.next=4,p.getDadosCliente();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.clientes[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getClientes.php");case 6:return e.t1=e.sent,e.t2={clientes:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:p.state.cliente,modalLista:p.state.clientes});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Tipos de Servi\xe7o")),h.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServico&&h.a.createElement(A.a,{title:"Preencha o campo",icon:T.y})),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.tiposServicosOptions.filter((function(e){return p.filterSearch(e,p.state.tiposServicosOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({tiposServicosOptionsTexto:e})},value:this.state.tiposServicosOptions.filter((function(e){return e.value==p.state.tipoServico}))[0],search:!0,onChange:function(e){p.setState({tipoServico:e.value})}})),h.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},this.state.editavel?1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",{className:"insideFormButton",onClick:Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.tiposServicos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=p,e.next=6,w.a.getBase("getTiposServicos.php");case 6:return e.t1=e.sent,e.t2={tiposServicos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,p.setState({modalAberto:!0,modal:"listarTiposServicos",modalPesquisa:p.state.tipoServico,modalLista:p.state.tiposServicos});case 12:case"end":return e.stop()}}),e)})))},"..."):null),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Operador")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},h.a.createElement(_.a,{className:"SearchSelect",isDisabled:!this.state.editavel,options:this.state.operadoresOptions.filter((function(e){return p.filterSearch(e,p.state.operadoresOptionsTexto)})).slice(0,20),onInputChange:function(e){p.setState({operadoresOptionsTexto:e})},value:this.state.operadoresOptions.filter((function(e){return e.value==p.state.operador}))[0],search:!0,onChange:function(e){p.setState({operador:e.value})}})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.A.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"date",value:this.state.eta,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({eta:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.B.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"datetime-local",value:this.state.etb,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({etb:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"E.T.S.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"datetime-local",value:this.state.data_saida,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({data_saida:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),this.state.governmentTaxes&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Government Taxes")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,Object(v.a)({className:"form-control text-right",disabled:!this.state.editavel,type:"text",step:"0.1",value:this.state.governmentTaxes},"disabled",!0))),h.a.createElement("div",{className:"col-1 errorMessage"})),this.state.bankCharges&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"Bank Charges")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},h.a.createElement(g.a,Object(v.a)({className:"form-control text-right",disabled:!this.state.editavel,type:"text",step:"0.1",value:this.state.bankCharges},"disabled",!0))),h.a.createElement("div",{className:"col-1 errorMessage"})),h.a.createElement("div",null,h.a.createElement("hr",null)),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},h.a.createElement("label",null,"R.O.E.")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,onWheel:function(e){return e.currentTarget.blur()},type:"number",step:"0.01",value:this.state.roe,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({roe:t.currentTarget.value}),console.log(t.currentTarget.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}),h.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm "},h.a.createElement("label",null,"Coment\xe1rio Voucher")),h.a.createElement("div",{className:"col-1 errorMessage"}),h.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},h.a.createElement(g.a,{className:"form-control",disabled:!this.state.editavel,type:"text",rows:"4",component:"textarea",value:this.state.comentario,onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({comentario:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.a.createElement("div",{className:"col-1"}))),h.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-2"}),h.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},h.a.createElement("button",{disabled:!(f&&!this.state.faturado),type:"submit",style:f&&!this.state.faturado?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),h.a.createElement("div",{className:"col-2"}))))),h.a.createElement("br",null),0!=this.props.match.params.id&&h.a.createElement(h.a.Fragment,null),0!=this.props.match.params.id&&h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Fun\xe7\xf5es"))),h.a.createElement("br",null),h.a.createElement("div",{className:"relatoriosSection"},h.a.createElement("div",{className:"relatorioButton"}),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return p.deleteOrcamento(p.state.chave)}},"Cancelar or\xe7amento")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",style:{backgroundColor:"green",borderColor:"green"},onClick:function(){return p.gerarOrcamento(p.state.codigo,f)}},"Gerar Or\xe7amento")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return p.getGruposTemplates()}},"Gerar templates")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",style:{backgroundColor:"green",borderColor:"green"},onClick:function(){p.setState({modalEscolhaOs:!0})}},"Inserir em OS existente")),h.a.createElement("div",{className:"relatorioButton"},h.a.createElement("button",{className:"btn btn-danger",style:{backgroundColor:"green",borderColor:"green"},onClick:function(){return p.criarOs(!0)}},"Criar Ordem de Servi\xe7o")),h.a.createElement("div",{className:"relatorioButton"}))),0!=this.props.match.params.id&&1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Eventos"))),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"row",id:"product-list"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},h.a.createElement("div",{className:"single-product-item"},h.a.createElement("div",{className:"row subtitulosTabela"},h.a.createElement("table",{className:"addOsTable"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Chave")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Ordem")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Descri\xe7\xe3o")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (USD)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor (R$)")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addevento/0",state:{os:Object(i.a)({},this.state.os),editavel:this.state.editavel}}},h.a.createElement(A.a,{icon:T.M}))))),void 0!=this.state.eventos[0]&&this.state.eventos.map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.setState({modalItemAberto:!1});case 2:return t.next=4,p.setItemEdit(e);case 4:case"end":return t.stop()}}),t)}))),className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(e.chave),state:{evento:Object(i.a)({},e),os:Object(i.a)({},p.state.os)}}},h.a.createElement(A.a,{icon:T.w}))),1==p.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&h.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return p.deleteServicoItem(e.chave,e.descricao)}},h.a.createElement(A.a,{icon:T.S})))),window.innerWidth>=500&&h.a.createElement("tr",{onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.setState({modalItemAberto:!1});case 2:return t.next=4,p.setItemEdit(e);case 4:case"end":return t.stop()}}),t)}))),className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.chave)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,p.state.tiposServicosItens[e.tipo_sub])),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.ordem.replaceAll(",","."))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,e.descricao)),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center pseudo_link"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(p.state.os.ROE)?parseFloat(p.state.os.ROE):5)))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(y.b,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(e.chave),state:{evento:Object(i.a)({},e),os:Object(i.a)({},p.state.os)}}},h.a.createElement(A.a,{icon:T.w}))),1==p.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&h.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return p.deleteServicoItem(e.chave,e.descricao)}},h.a.createElement(A.a,{icon:T.S})))))})),this.state.eventos[0]&&h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement(h.a.Fragment,null,this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:this.state.eventos.length%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Bank Charges"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Government Taxes"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0)+(this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Total"),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal))),h.a.createElement("td",null))),window.innerWidth>=500&&h.a.createElement(h.a.Fragment,null,this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:this.state.eventos.length%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Bank Charges"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))&&h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Government Taxes"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))))),h.a.createElement("td",null)),h.a.createElement("tr",{className:(this.state.eventos.length+(this.state.bankCharges&&0!=parseFloat(this.state.bankCharges.replaceAll(".","").replaceAll(",","."))?1:0)+(this.state.governmentTaxes&&0!=parseFloat(this.state.governmentTaxes.replaceAll(".","").replaceAll(",","."))?1:0))%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},"Total"),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"}),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal/(0!=parseFloat(this.state.os.ROE)?parseFloat(this.state.os.ROE):5)))),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.eventosTotal))),h.a.createElement("td",null))))))))))))),h.a.createElement("div",{ref:"focusMe",tabindex:-1},h.a.createElement(U.a,{chave:this.state.eventoChave,taxas:this.state.taxas,itemPermissao:this.state.itemPermissao,acessosPermissoes:this.state.acessosPermissoes,setItemEdit:function(e){return p.revertItemEdit(e)},itemEdit:this.state.itemEdit,editavel:this.state.editavel,onSubmit:this.salvarEvento,valid:S,aberto:this.state.modalItemAberto,openTemplates:function(){return p.setState({templatesModal:!0})}})),0!=this.props.match.params.id&&this.state.custeios_subagentes[0]&&1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"page-breadcrumb2"},h.a.createElement("h3",null,"Custeios Subagentes"))),h.a.createElement("br",null),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:"row",id:"product-list"},h.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},h.a.createElement("div",{className:"single-product-item"},h.a.createElement("div",{className:"row subtitulosTabela"},h.a.createElement("table",{className:"addOsTable"},h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Grupo")),window.innerWidth>=500&&h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Tipo")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Fornecedor")),h.a.createElement("th",{className:"text-center"},h.a.createElement("span",null,"Valor")),h.a.createElement("th",{className:"text-center"})),void 0!=this.state.custeios_subagentes[0]&&this.state.custeios_subagentes.map((function(e,t){return h.a.createElement(h.a.Fragment,null,window.innerWidth<500&&h.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.grupo)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.fornecedorNome)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L,onClick:function(){return p.setState({grupoSelecionado:e.grupo,agrupadorModal:!0,agrupadorEventos:e.evento.split(","),agrupadorTipo:"CUSTEIO"})}})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.T,onClick:function(){return p.deleteGrupo(e.grupo)}})))),window.innerWidth>=500&&h.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.grupo)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,p.state.tiposServicosItens[e.tipo])),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,e.fornecedorNome)),h.a.createElement("td",{className:"text-center"},h.a.createElement("p",null,"R$"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),h.a.createElement("td",null,h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.L,onClick:function(){return p.setState({grupoSelecionado:e.grupo,agrupadorModal:!0,agrupadorEventos:e.evento.split(","),agrupadorTipo:"CUSTEIO"})}})),h.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},h.a.createElement(A.a,{icon:T.T,onClick:function(){return p.deleteGrupo(e.grupo)}})))))}))))))))))),0!=this.props.match.params.id&&1==this.state.acessosPermissoes.filter((function(e){if("DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&h.a.createElement("div",null))),h.a.createElement(E.a,null)))}}]),o}(f.Component);t.a=Object(S.b)((function(e){return{user:e.user,empresa:e.empresa,online:e.servidor.online}}),null)(W)}).call(this,a(120).Buffer)},52:function(e,t,a){"use strict";a.d(t,"o",(function(){return o})),a.d(t,"p",(function(){return n})),a.d(t,"n",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"k",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"l",(function(){return i})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return v})),a.d(t,"j",(function(){return f})),a.d(t,"m",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"h",(function(){return b}));var o="USER_LOGGED_IN",n="USER_LOGGED_OUT",r="USER_EXTEND_EXPIRATION",s="ADD_PROD",c="REMOVE_PROD",l="LIMPAR_CARRINHO",i="SELECIONA_FRETE",u="ALTERAR_PROD",m="EMPRESA_LOGGED_IN",p="EMPRESA_LOGGED_OUT",d="PESQUISAR",v="LIMPA_PESQUISA",f="REMOVE_FRETE",h="SELECIONA_GRUPO_CLASSIFICADO",g="ADD_SERVER",b="LIMPA_SERVER"},578:function(e,t,a){e.exports=a(957)},587:function(e,t,a){},588:function(e,t,a){},594:function(e,t){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},619:function(e,t,a){},633:function(e,t,a){},636:function(e,t,a){},637:function(e,t,a){},638:function(e,t,a){},639:function(e,t,a){},640:function(e,t,a){},641:function(e,t,a){},643:function(e,t,a){},644:function(e,t,a){},645:function(e,t,a){},646:function(e,t,a){},647:function(e,t,a){},648:function(e,t,a){},649:function(e,t,a){},650:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){},653:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(e,t,a){},669:function(e,t,a){},670:function(e,t,a){},672:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},676:function(e,t,a){},677:function(e,t,a){},678:function(e,t,a){},679:function(e,t,a){},680:function(e,t,a){},681:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){},687:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},691:function(e,t,a){},692:function(e,t,a){},695:function(e,t,a){},696:function(e,t,a){},697:function(e,t,a){},698:function(e,t,a){},699:function(e,t,a){},7:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var o=a(3),n=a(1),r=a.n(n),s=a(2),c=a(14),l=a(15),i=a(8),u=a(156),m=a.n(u),p=a(4),d=a(11),v=a.n(d),f=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getCodigoCC",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getCodigos.php",{token:!0,tipo:"CC"}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0].Proximo);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCodigo",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getCodigos.php",{token:!0,tipo:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0].Proximo);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLote",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getLote.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=2;break}return e.abrupt("return",t.data[0].lote);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUltimaTransacao",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getUltimaTransacao.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=4;break}return e.abrupt("return",t.data[0].transacao);case 4:return e.abrupt("return",1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getContaTransacao",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getContaTransacao.php",{token:!0,chave:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=4;break}return e.abrupt("return",t.data[0].chave);case 4:return e.abrupt("return",1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSolicitacoesOS",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getSolicitacoesOS.php",{token:!0,pesquisa:t,empresa:a}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOSPesquisa",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=["","os.orcamento = 0 and os.codigo LIKE '%"+t+"%'","os.orcamento = 0 and os_navios.nome LIKE '%"+t+"%'","os.orcamento = 0 and os_tipos_servicos.descricao LIKE '%"+t+"%'","os.orcamento = 0 and os_portos.descricao LIKE '%"+t+"%'","os.orcamento = 0 and pessoas.nome LIKE '%"+t+"%'"][a],e.next=3,i.a.post("getOSPesquisa.php",{token:!0,where:n,empresa:o}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"getOsOrcamentoPesquisa",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=["","os.orcamento = 1 and os.codigo LIKE '%"+t+"%'","os.orcamento = 1 and os_navios.nome LIKE '%"+t+"%'","os.orcamento = 1 and os_tipos_servicos.descricao LIKE '%"+t+"%'","os.orcamento = 1 and os_portos.descricao LIKE '%"+t+"%'","os.orcamento = 1 and pessoas.nome LIKE '%"+t+"%'","os.orcamento = 1 and os.sequencialOrcamento LIKE '%"+t+"%'"][a],e.next=3,i.a.post("getOSPesquisa.php",{token:!0,where:n,empresa:o}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"getTransacoesTipo",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getTransacoesTipo.php",{token:!0,tipo:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBase",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,o,n,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:null,o=c.length>2&&void 0!==c[2]?c[2]:null,n=c.length>3&&void 0!==c[3]?c[3]:null,e.next=5,i.a.post(t,{token:!0,empresa:a,limit:o,offset:n}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBody",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(t,Object(o.a)({},a)).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAllLogs",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getAllLogs.php",{token:!0,tabela:t,empresa:a}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,c,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:null,n=l.length>2&&void 0!==l[2]?l[2]:null,!(c=l.length>3&&void 0!==l[3]?l[3]:null)){e.next=7;break}return e.next=6,i.a.post(t,Object(o.a)(Object(o.a)({},c),{},{token:!0})).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,i.a.post(t,{token:!0,chave:a,empresa:n}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBaseOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var c,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>3&&void 0!==l[3]?l[3]:{},e.next=3,i.a.post(t,Object(o.a)({token:!0},c)).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data.map((function(e){return{label:e[a],value:e[n]}})),e.abrupt("return",o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"getBaseOptionsCustomLabel",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(t,{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.data.map((function(e){return{label:"".concat(e[a]).concat(e[o]?" - ".concat(p.a.formataCPF(e[o])):""),value:e[n]}})),e.abrupt("return",s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,o,n){return e.apply(this,arguments)}}()},{key:"getAuthToken",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new URLSearchParams).append("grant_type","client_credentials"),e.next=4,m.a.request({url:"/oauth/token",method:"post",baseURL:"https://oauth.bb.com.br",headers:{Authorization:t,"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((function(e){return e.data.access_token}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContaSolicitacao",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getContaSolicitacao.php",{token:!0,chave:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPessoasOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getPessoas.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Nome,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFornecedoresOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getFornecedores.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Nome,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getClientesOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getClientes.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Nome,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCentrosCustosOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getCentrosCustos.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.descricao,value:e.chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"getHistoricosOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getHistoricos.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Descricao,value:e.chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlanosContasAnaliticasOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getPlanosContasAnaliticas.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Descricao,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTiposLancamentoOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getTiposLancamento.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Descricao,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMeiosPagamentosOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getMeiosPagamentos.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.descricao,value:e.chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBancosOptions",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getBancos.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return{label:e.Titular,value:e.Chave}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getContaPessoa",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getPessoa.php",{token:!0,chave:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=6;break}if("provisao"!=a){e.next=5;break}return e.abrupt("return","0"!=t.data[0].Conta_Provisao&&t.data[0].Conta_Provisao?t.data[0].Conta_Provisao:"");case 5:return e.abrupt("return","0"!=t.data[0].Conta_Contabil&&t.data[0].Conta_Contabil?t.data[0].Conta_Contabil:"");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getContaTaxa",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getTaxa.php",{token:!0,chave:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","0"!=t.data[0].Conta_Contabil&&t.data[0].Conta_Contabil?t.data[0].Conta_Contabil:"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInformacoesBancarias",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getInformacoesBancarias.php",{token:!0,empresa:t,tipo:1}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(o.a)(Object(o.a)({},t.data[0]),{},{chave_api:"?gw-dev-app-key=".concat(t.data[0].chave_api)}),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postContasDescontos",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var o,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=13;break}if(!(n=t[o]).check){e.next=8;break}return e.next=6,i.a.post("insertContaDescontos.php",{token:!0,chave_conta_aberto:a,chave_conta:n.conta,complemento:n.complemento,valor:n.valor,tipo:n.tipo}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=10;break;case 8:return e.next=10,i.a.post("checkAndDeleteContaDescontos.php",{token:!0,chave_conta_aberto:a,tipo:n.tipo}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:o++,e.next=1;break;case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"testaAcesso",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t[0]&&a&&a[0]&&o&&o.codigo){e.next=2;break}return e.abrupt("return",[]);case 2:return n="",s=t.map((function(e,t){return n=a.filter((function(t){if(t.Usuario==o.codigo&&t.Acessos==e.Chave&&t.Empresa==o.empresa)return t}))[0],{acesso:e.Chave,acessoAcao:e.Acao,permissaoInsere:n?n.Liberacao.split("")[0]:0,permissaoEdita:n?n.Liberacao.split("")[1]:0,permissaoConsulta:n?n.Liberacao.split("")[2]:0,permissaoDeleta:n?n.Liberacao.split("")[3]:0,permissaoImprime:n?n.Liberacao.split("")[4]:0}})),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a,o){return e.apply(this,arguments)}}()},{key:"salvaLogs",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,o,n,c){var l,u,m=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=m.length>5&&void 0!==m[5]?m[5]:"",u="",!(u=o?n.filter((function(e){return o.filter((function(t){return e.valor!=t.valor&&e.titulo==t.titulo}))[0]})).map((function(e){return"".concat(e.titulo,": ").concat(o.find((function(t){return e.titulo==t.titulo}))?" (de)".concat(o.find((function(t){return e.titulo==t.titulo})).valor):""," (para)").concat(e.valor?e.valor:"")})).join("; "):n)){e.next=6;break}return e.next=6,i.a.post("salvaLogs.php",{values:"'".concat(t,"', '").concat(a,"', '").concat(v()().format("YYYY-MM-DD HH:mm:ss"),"', '").concat(l," ").concat(u,"', '").concat(c,"'")}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,a,o,n,r){return e.apply(this,arguments)}}()},{key:"getLogs",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getLogs.php",{token:!0,Tabela:t,ChaveAux:a}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getLogsOS",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getLogsOS.php",{token:!0,chaveOS:t,chaveSI:a}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"testaTarifasVencimentos",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("tarifasVencimentos.php",{token:!0}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tarifasVencidasEmails",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map((function(e){return e.chave})),e.next=3,i.a.post("emailTarifasVencidas.php",{token:!0,chaves:a}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"valoresOS",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("getValoresOS.php",{token:!0,chave:t}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},702:function(e,t,a){},703:function(e,t,a){},704:function(e,t,a){},705:function(e,t,a){},706:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},709:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},713:function(e,t,a){},714:function(e,t,a){},715:function(e,t,a){},716:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},724:function(e,t,a){},738:function(e,t){},74:function(e,t,a){"use strict";var o=a(1),n=a.n(o),r=a(2),s=a(14),c=a(15),l=a(18),i=a(17),u=(a(39),a(0)),m=a.n(u),p=a(6),d=a(5),v=(a(616),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={timer:""},e.componentDidUpdate=function(){var t=Object(r.a)(n.a.mark((function t(a,o){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props!=a&&"confirm"!==e.props.alert.type&&(e.props.alert.msg?e.setState({timer:setTimeout((function(){return e.props.setAlert({type:"",msg:""})}),1e4)}):clearTimeout(e.state.timer));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,this.props.alert.msg&&m.a.createElement("div",{className:"centerDivAbsolute",onClick:function(){return"confirm"==e.props.alert.type?{}:e.props.setAlert({type:"",msg:""})}},m.a.createElement("div",{className:"alertMessage ".concat("confirm"===this.props.alert.type?"alertConfirm":"")},m.a.createElement("div",{className:"alertTitle",style:{color:"error"===this.props.alert.type?"red":"gold"}},"error"==this.props.alert.type?"Erro":""),m.a.createElement("div",null,"confirm"===this.props.alert.type&&m.a.createElement(p.a,{style:{color:"gold"},icon:d.y}),"error"===this.props.alert.type&&m.a.createElement(p.a,{style:{color:"red"},icon:d.y}),m.a.createElement("div",{style:{overflow:this.props.alert.checkboxes?"scroll":void 0,maxHeight:200,padding:15}},this.props.alert.msg,this.props.alert.checkboxes&&this.props.alert.checkboxes.map((function(t){return m.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"}},m.a.createElement("input",{type:"checkbox",value:t.value,style:{margin:10},onChange:function(){return e.props.alert.changeCheckbox?e.props.alert.changeCheckbox(t.chave):{}}}),m.a.createElement("div",null,t.label))}))),"confirm"===this.props.alert.type&&m.a.createElement("div",{className:"confirmButtons"},m.a.createElement("button",{className:"btn btn-success",style:{paddingLeft:15,paddingRight:15},onClick:function(){return e.props.alertFunction()}},"Sim"),m.a.createElement("button",{className:"btn btn-danger",style:{paddingLeft:15,paddingRight:15},onClick:function(){return e.props.setAlert({type:"",msg:""})}},"N\xe3o"))))))}}]),a}(u.Component));t.a=v},740:function(e,t){},75:function(e,t,a){"use strict";var o=a(14),n=a(15),r=a(18),s=a(17),c=a(0),l=a.n(c),i=a(505),u=(a(642),a(643),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row",style:{marginBottom:1e3}},l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("h1",{style:{textAlign:"auto",marginBottom:50}},"Carregando..."),l.a.createElement(i.Spinner,{speed:.8,size:200})))}}]),a}(c.Component));t.a=u},76:function(e,t,a){"use strict";var o,n=a(27),r=a(1),s=a.n(r),c=a(2),l=a(3),i=a(14),u=a(15),m=a(18),p=a(17),d=a(9),v=a(0),f=a.n(v),h=(a(670),a(10)),g=a(88),b=a(129),E=a.n(b),x=a(75),N=a(6),C=a(5),w=a(8),O=a(11),S=a.n(O),k=a(22),y=a(19),j=a(28),F=a(20),A=(a(39),a(335)),T=a.n(A),P=a(7),D=a(4),_=(o={pesquisa:"",tipoPesquisa:1,pesquisaExata:!1,load:100,dadosIniciais:"",dadosFinais:"",navios:[],navioChave:0,navioNome:"",navioBandeira:"",navioBloqueado:!1,navioImo:"",navioGrt:"0",navioDwt:"0",navioLoa:"0",navioBeam:"0",bandeiras:[],banderiasOptions:[],portos:[],portoChave:"",portoNome:"",portoSigla:"",portoBloqueado:!1,clientes:[],clienteNome:"",clienteNomeFantasia:"",clienteCpf:"",clienteCpfLimpo:"",clienteRG:"",clienteInscricaoMunicipal:"",clienteNascimento:"",clienteContaContabil:"",clienteContaProvisao:"",clienteContaFatura:"",clienteContaContabilInicial:"",clienteContaProvisaoInicial:"",clienteContaFaturaInicial:"",clienteCategoria:{cliente:!1,fornecedor:!1,prestador_servico:!1,transportador:!1,banco:!1,adm_cartao:!1,adm_convenio:!1},clienteBloqueado:!1,paises:[],paisesOptions:[],paisesOptionsTexto:"",tipoServicos:[],tipoServicoChave:"",tipoServicoNome:"",tipoServicoPrazo:"",tipoServicoBloqueado:!1,centroCustos:[],centroCustoChave:"",centroCustoNome:"",centroCustoCliente:"",centroCustoData:"",centroCustoEncerramento:"",centroCustoCodigo:"",centroCustoBloqueado:!1,centroCustoPessoas:[],centroCustoPessoasOptions:[],centroCustoPessoasOptionsTexto:"",subgrupoChave:"",subgrupoGrupo:"",subgrupoNome:"",grupos:[],gruposOptions:[],gruposOptionsTexto:"",planoContaChave:"",planoContaCodigo:"",planoContaCodigoLimpo:"",planoContaGrupo:"",planoContaInativa:"",planoContaIndicador:"",planoContaNivel:"",planoContaNome:"",planoContaBloqueado:!1,planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",enderecos:[],enderecoBairro:"",enderecoBairroLock:!1,enderecoCep:"",enderecoChave:0,enderecoCidade:"",enderecoCidadeDescricao:"",enderecoCidadeLock:!1,enderecoComplemento:"",enderecoEndereco:"",enderecoEnderecoLock:!1,enderecoNumero:"",enderecoPais:"",enderecoPaisNome:"",enderecoTipo:"",enderecoTipos:[{label:"Padrao",value:0},{label:"Entrega",value:1},{label:"Cobranca",value:2},{label:"Residencial",value:3}],enderecoTipoNome:"",enderecoUF:"",enderecoUFLock:!1,enderecoUFNome:"",contatos:[],contatoChave:"",contatoCampo1:"",contatoCampo2:"",contatoTipo:"",contatoTipos:"",contatoTipoNome:"",contatoTiposOptions:"",cidades:[],cidadesOptions:[],estados:[],estadosOptions:[]},Object(d.a)(o,"paises",[]),Object(d.a)(o,"paisesOptions",[]),Object(d.a)(o,"tipoEndereco",["Padr\xe3o","Entrega","Cobran\xe7a","Residencial"]),Object(d.a)(o,"cpfAprovado",!1),Object(d.a)(o,"taxaChave",0),Object(d.a)(o,"taxaNome",""),Object(d.a)(o,"taxaValor",""),Object(d.a)(o,"taxaVariavel",!1),Object(d.a)(o,"taxaMoeda",5),Object(d.a)(o,"taxaTipo","P"),Object(d.a)(o,"taxaConta_contabil",""),Object(d.a)(o,"taxaConta_credito",""),Object(d.a)(o,"taxaHistorico_padrao",""),Object(d.a)(o,"taxaFormula_ate",""),Object(d.a)(o,"taxaSubgrupo",""),Object(d.a)(o,"taxaBloqueado",!1),Object(d.a)(o,"moedas",[]),Object(d.a)(o,"subgrupos",[]),Object(d.a)(o,"subgruposOptions",[]),Object(d.a)(o,"subgruposOptionsTexto",""),Object(d.a)(o,"historicos",[]),Object(d.a)(o,"historicosOptions",[]),Object(d.a)(o,"historicosOptionsTexto",""),Object(d.a)(o,"descricaoChave",0),Object(d.a)(o,"descricaoNome",""),Object(d.a)(o,"descricaoBloqueado",!1),o),L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state=Object(l.a)(Object(l.a)({},_),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLugares();case 2:return t.next=4,e.getPessoas();case 4:return t.next=6,e.getGrupos();case 6:return t.next=8,e.getTiposContatos();case 8:return t.next=10,e.adicionaInformacaoContatos();case 10:return t.t0=e,t.next=13,P.a.getBase("getPlanosContasAnaliticas.php");case 13:return t.t1=t.sent,t.next=16,P.a.getBase("getMoedas.php");case 16:return t.t2=t.sent,t.next=19,P.a.getBase("getSubgrupos.php");case 19:return t.t3=t.sent,t.next=22,P.a.getBase("getHistoricos.php");case 22:return t.t4=t.sent,t.t5={planosContas:t.t1,moedas:t.t2,subgrupos:t.t3,historicos:t.t4},t.next=26,t.t0.setState.call(t.t0,t.t5);case 26:return t.t6=e,t.next=29,D.a.turnToOption(e.state.planosContas,"Descricao","Chave");case 29:return t.t7=t.sent,t.next=32,D.a.turnToOption(e.state.subgrupos,"descricao","chave");case 32:return t.t8=t.sent,t.next=35,D.a.turnToOption(e.state.historicos,"Descricao","chave");case 35:return t.t9=t.sent,t.t10={planosContasOptions:t.t7,subgruposOptions:t.t8,historicosOptions:t.t9},t.next=39,t.t6.setState.call(t.t6,t.t10);case 39:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(c.a)(s.a.mark((function t(a,o){var n,r,c,l,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.clienteCpf!=e.state.clienteCpf&&(n=/\d+/g,r="",e.state.clienteCpf&&("___.___.___-__"!=e.state.clienteCpf&&""!=e.state.clienteCpf&&(c=e.state.clienteCpf.match(n),r="",c&&c[0]&&(r=c.join(""))),e.state.clienteCpf.length>10&&e.setState({clienteCpfLimpo:r}))),o.planoContaCodigo!=e.state.planoContaCodigo&&(l=/\d+/g,i="","_"!=e.state.planoContaCodigo&&"_._"!=e.state.planoContaCodigo&&"_._._"!=e.state.planoContaCodigo&&"_._._.__"!=e.state.planoContaCodigo&&"_._._.__.__"!=e.state.planoContaCodigo&&"_._._.__.__.___"!=e.state.planoContaCodigo&&"_._._.__.__.___.___"!=e.state.planoContaCodigo&&""!=e.state.planoContaCodigo&&(u=e.state.planoContaCodigo.match(l),i=u.join("")),e.setState({planoContaCodigoLimpo:i})),o.enderecoCep!=e.state.enderecoCep&&e.setState({enderecoCidadeLock:!1,enderecoUFLock:!1,enderecoEnderecoLock:!1,enderecoBairroLock:!1}),(a.pesquisa!=e.props.pesquisa||e.state.pesquisaExata&&""==e.state.pesquisa)&&e.setState({tipoPesquisa:3,pesquisa:e.props.pesquisa,pesquisaExata:!0});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.fecharModal=function(){e.setState({pesquisa:""}),e.props.closeModal()},e.carregaCodigos=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getCodigos.php",{token:!0,tipo:"CC"}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({centroCustoCodigo:a.data[0].Proximo});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getLugares=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getLugares.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({paises:a.data.paises,estados:a.data.estados,cidades:a.data.cidades}),o=e.state.estados.map((function(e){return{label:e.Descricao,value:e.Chave,pais:e.Pais}})),e.setState({estadosOptions:o}),o=e.state.paises.map((function(e){return{label:e.Nome,value:e.Chave}})),e.setState({paisesOptions:o}),o=e.state.cidades.map((function(e){return{label:e.Descricao,value:e.Chave,estado:e.Estado}})),e.setState({cidadesOptions:o}),t.next=9,e.state.enderecoChave;case 9:if(t.t0=t.sent,0==t.t0){t.next=15;break}n=e.state.estadosOptions.filter((function(t){if(t.value==e.state.enderecoUF)return t})),e.setState({enderecoUFNome:n[0].label}),n=e.state.paisesOptions.filter((function(t){if(t.value==e.state.enderecoPais)return t})),e.setState({enderecoPaisNome:n[0].label});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({centroCustoPessoas:a.data}),o=e.state.centroCustoPessoas.map((function(e){return{label:e.Nome,value:e.Chave}})),e.setState({centroCustoPessoasOptions:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getEnderecos=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getEnderecos.php",{token:!0,pessoa:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{tipoNome:e.state.tipoEndereco[t.Tipo]})})),t.next=3,e.setState({enderecos:o});case 3:return t.next=5,e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.buscarDadosCep=function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T()(a);case 3:return o=t.sent,t.next=6,w.a.post("getEstadoCidade.php",{token:!0,cidade:o.city,estado:o.state.toUpperCase()}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({enderecoCidade:a.data.cidade[0].Chave,enderecoUF:a.data.estado[0].Chave,enderecoUFNome:a.data.estado[0].Descricao,enderecoCidadeDescricao:a.data.cidade[0].Descricao});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("erro: "+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return t.next=8,e.setState({enderecoCepLimpo:o.cep,enderecoBairro:o.neighborhood,enderecoEndereco:o.street});case 8:return t.next=10,e.setState({enderecoCidadeLock:!!o.city,enderecoUFLock:!!o.state,enderecoBairroLock:!!o.neighborhood,enderecoEnderecoLock:!!o.street});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),e.getContatos=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getContatos.php",{token:!0,pessoa:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contatos:a.data});case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTiposContatos=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getTiposComplementares.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contatoTipos:a.data});case 2:e.state.contatoTipos[0]&&(o=e.state.contatoTipos.map((function(e){return{label:e.Descricao,value:e.Codigo}})),e.setState({contatoTiposOptions:o}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.adicionaInformacaoContatos=Object(c.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.contatos.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{tipoNome:e.state.contatoTipos.filter((function(e){return e.Codigo==t.Tipo}))[0].Descricao})})),t.next=3,e.setState({contatos:a});case 3:case"end":return t.stop()}}),t)}))),e.getGrupos=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getGrupos.php",{token:!0}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({grupos:a.data}),o=e.state.grupos.map((function(e){return{label:e.descricao,value:e.chave}})),e.setState({gruposOptions:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.converteCategoria=function(){var t=Object(c.a)(s.a.mark((function t(a){var o,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=a.split(""),n=o.map((function(e){return 1==e})),o={cliente:n[0],fornecedor:n[1],prestador_servico:n[2],transportador:n[3],banco:n[4],adm_cartao:n[5],adm_convenio:n[6]},e.setState({clienteCategoria:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.carregaCodigos=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("getCodigos.php",{token:!0,tipo:"PR"}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({planoContaCodigoReduzido:a.data[0].Proximo});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,w.a.post("getCodigos.php",{token:!0,tipo:"PL"}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({planoContaChave:a.data[0].Proximo});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)}))),e.setPlanoConta=function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=a.value){t.next=5;break}return t.next=3,w.a.post("getPlanoContaNivel.php",{token:!0,nivel:1}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=a.data.map((function(e){return parseInt(e.Codigo)})),e.setState({planoContaNivel:1,planoContaCodigo:"".concat(Math.max.apply(Math,Object(n.a)(o).concat([0]))+1,".")});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:t.next=10;break;case 5:return(o=a.value.split(".").filter((function(e,t){return t<=a.nivel}))).splice(a.nivel-1),o=o[0]?"".concat(o.join("."),"."):o.join("."),t.next=10,w.a.post("getPlanoContaCodigo.php",{token:!0,codigo:o}).then(function(){var t=Object(c.a)(s.a.mark((function t(r){var c,l,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.data,l=c.filter((function(e){return e.Nivel==parseInt(a.nivel)})).map((function(e){return parseInt(e.Codigo.split(".")[parseInt(e.Nivel)-1])})),t.next=4,e.checkCodigo("".concat(o.trim()).concat(Math.max.apply(Math,Object(n.a)(l).concat([0]))+1));case 4:return i=t.sent,6!=a.nivel&&(i="".concat(i,".")),t.next=8,e.setState({planoContaCodigo:i,planoContaNivel:a.nivel});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkCodigo=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.split("."))[3]&&a[3].length<2&&(a[3]="0".concat(a[3])),a[4]&&a[4].length<2&&(a[4]="0".concat(a[4])),a[5]&&a[5].length<2&&(a[5]="0".concat(a[5])),a[5]&&a[5].length<3&&(a[5]="0".concat(a[5])),a[6]&&a[6].length<2&&(a[6]="0".concat(a[6])),a[6]&&a[6].length<3&&(a[6]="0".concat(a[6])),e.abrupt("return",a.join("."));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.setNivel=function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o="?",1==a.length?o=1:2==a.length?o=2:3==a.length?o=3:5==a.length?o=4:7==a.length?o=5:10==a.length?o=6:13==a.length&&(o=7),e.setState({planoContaNivel:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarPlanoConta=function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"."==(o=e.state.planoContaCodigo.split("").filter((function(e){return"_"!=e})))[o.length-1]&&o.pop(),t.next=4,e.setState({planoContaCodigo:o.join("")});case 4:if(!e.state.planoContaContaInativa){t.next=9;break}return t.next=7,e.setState({planoContaContaInativa:1});case 7:t.next=11;break;case 9:return t.next=11,e.setState({planoContaContaInativa:0});case 11:if(1!=e.state.planoContaGrupo.length){t.next=14;break}return t.next=14,e.setState({planoContaGrupo:"0".concat(e.state.grupo)});case 14:return e.setState({planoContaBloqueado:!0}),t.next=17,e.setState({dadosFinais:[{titulo:"Descricao",valor:e.state.planoContaNome},{titulo:"Nivel",valor:e.state.planoContaNivel},{titulo:"Conta_Inativa",valor:e.state.planoContaContaInativa},{titulo:"Indicador",valor:e.state.planoContaIndicador},{titulo:"grupo",valor:e.state.planoContaGrupo},{titulo:"Codigo",valor:e.state.planoContaCodigo}]});case 17:if(0!==parseInt(e.state.planoContaChave)||!a){t.next=24;break}return t.next=20,e.carregaCodigos();case 20:return t.next=22,w.a.post("insertPlanoConta.php",{token:!0,values:"'".concat(e.state.planoContaChave,"', '").concat(e.state.planoContaCodigo,".', '").concat(e.state.planoContaCodigoReduzido,"', '").concat(e.state.planoContaNivel,"', '").concat(e.state.planoContaIndicador,"', '").concat(e.state.planoContaNome,"', '").concat(e.state.planoContaContaInativa,"', '").concat(e.state.planoContaGrupo,"'"),codigo:e.state.planoContaCodigoReduzido,chave:e.state.planoContaChave}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",e.state.planoContaChave);case 2:return e.props.alteraPlanoConta(e.state.planoContaChave,e.state.planoContaIndicador),t.t0=e,t.next=6,P.a.getBase("getPlanosContasAnaliticas.php");case 6:return t.t1=t.sent,t.next=9,P.a.getPlanosContasAnaliticasOptions();case 9:t.t2=t.sent,t.t3={planoContaBloqueado:!1,planosContas:t.t1,planosContasOptions:t.t2},t.t0.setState.call(t.t0,t.t3);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:t.next=27;break;case 24:if(!a){t.next=27;break}return t.next=27,w.a.post("updatePlanoConta.php",{token:!0,Chave:e.state.planoContaChave,Codigo:"".concat(e.state.planoContaCodigo,"."),Nivel:e.state.planoContaNivel,Indicador:e.state.planoContaIndicador,Descricao:e.state.planoContaNome,Conta_Inativa:e.state.planoContaContaInativa,grupo:e.state.planoContaGrupo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.planoContaChave,"PLANO DE CONTA: ".concat(e.state.planoContaNome));case 2:return e.props.alteraPlanoConta(e.state.planoContaChave,e.state.planoContaIndicador),t.t0=e,t.next=6,P.a.getBase("getPlanosContasAnaliticas.php");case 6:return t.t1=t.sent,t.next=9,P.a.getPlanosContasAnaliticasOptions();case 9:t.t2=t.sent,t.t3={planoContaBloqueado:!1,planosContas:t.t1,planosContasOptions:t.t2},t.t0.setState.call(t.t0,t.t3);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarNavio=function(){var t=Object(c.a)(s.a.mark((function t(a){var o,n,r,l,i,u,m,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState({navioBloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"nome",valor:e.state.navioNome},{titulo:"bandeira",valor:e.state.navioBandeira},{titulo:"imo",valor:e.state.navioImo},{titulo:"grt",valor:e.state.navioGrt},{titulo:"dwt",valor:e.state.navioDwt},{titulo:"loa",valor:e.state.navioLoa},{titulo:"beam",valor:e.state.navioBeam}]});case 5:if(0!=e.state.navioChave){t.next=10;break}return t.next=8,w.a.post("insertNavioBasico.php",{token:!0,values:"'".concat(e.state.navioNome,"', '").concat(e.state.navioBandeira,"', '").concat(e.state.navioImo,"', '").concat(null===(o=e.state.navioGrt)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(n=e.state.navioDwt)||void 0===n?void 0:n.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(r=e.state.navioLoa)||void 0===r?void 0:r.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(l=e.state.navioBeam)||void 0===l?void 0:l.replace(/[^0-9\\,]/gi,"").replace(",","."),"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 2:e.props.alteraNavio(a.data[0].chave),e.setState({navioBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:t.next=12;break;case 10:return t.next=12,w.a.post("updateShip.php",{token:!0,chave:e.state.navioChave,nome:e.state.navioNome,bandeira:e.state.navioBandeira,imo:e.state.navioImo,grt:null===(i=e.state.navioGrt)||void 0===i?void 0:i.replace(/[^0-9\\,]/gi,"").replace(",","."),dwt:null===(u=e.state.navioDwt)||void 0===u?void 0:u.replace(/[^0-9\\,]/gi,"").replace(",","."),loa:null===(m=e.state.navioLoa)||void 0===m?void 0:m.replace(/[^0-9\\,]/gi,"").replace(",","."),beam:null===(p=e.state.navioBeam)||void 0===p?void 0:p.replace(/[^0-9\\,]/gi,"").replace(",",".")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.navioChave,"NAVIO: ".concat(e.state.navioNome));case 2:e.props.alteraNavio(e.state.navioChave),e.setState({navioBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarPorto=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState({portoBloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"Descricao",valor:e.state.portoNome},{titulo:"Codigo",valor:e.state.portoSigla}]});case 5:if(0!=e.state.portoChave){t.next=10;break}return t.next=8,w.a.post("insertPortoBasico.php",{token:!0,values:"'".concat(e.state.portoSigla.toUpperCase(),"', '").concat(e.state.portoNome,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_portos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 2:e.props.alteraPorto(a.data[0].Chave),e.setState({portoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:t.next=12;break;case 10:return t.next=12,w.a.post("updatePorto.php",{token:!0,Chave:e.state.portoChave,Descricao:e.state.portoNome,Codigo:e.state.portoSigla}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_portos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.portoChave,"PORTO: ".concat(e.state.portoNome));case 2:e.props.alteraPorto(e.state.portoChave),e.setState({portoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarCliente=function(){var t=Object(c.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(e.setState({clienteBloqueado:!0}),!e.state.clienteCpfLimpo){t.next=8;break}return t.next=6,e.testaCpf();case 6:if(e.state.cpfAprovado){t.next=8;break}return t.abrupt("return");case 8:return o=(o=[e.state.clienteCategoria.cliente?1:0,e.state.clienteCategoria.fornecedor?1:0,e.state.clienteCategoria.prestador_servico?1:0,e.state.clienteCategoria.transportador?1:0,e.state.clienteCategoria.banco?1:0,e.state.clienteCategoria.adm_cartao?1:0,e.state.clienteCategoria.adm_convenio?1:0]).join(""),t.next=12,e.setState({dadosFinais:[{titulo:"Nome",valor:e.state.clienteNome},{titulo:"Nome_Fantasia",valor:e.state.clienteNomeFantasia},{titulo:"Cnpj_Cpf",valor:e.state.clienteCpfLimpo},{titulo:"Nascimento_Abertura",valor:e.state.clienteNascimento},{titulo:"Rg_Ie",valor:e.state.clienteRG},{titulo:"Inscricao_Municipal",valor:e.state.clienteInscricaoMunicipal},{titulo:"Conta_Contabil",valor:e.state.clienteContaContabil},{titulo:"Conta_Provisao",valor:e.state.clienteContaProvisao},{titulo:"Conta_Fatura",valor:e.state.clienteContaFatura}]});case 12:if(0!=e.state.clienteChave){t.next=17;break}return t.next=15,w.a.post("insertPessoaBasico.php",{token:!0,values:"'".concat(e.state.clienteNome,"', '").concat(e.state.clienteNomeFantasia,"', '").concat(e.state.clienteCpfLimpo,"', '").concat(e.state.clienteRG,"', '").concat(e.state.clienteInscricaoMunicipal,"','").concat(e.state.clienteNascimento,"', '").concat(S()().format("YYYY-MM-DD"),"', '").concat(o,"', '").concat(e.state.clienteContaContabil,"', '").concat(e.state.clienteContaProvisao,"', '").concat(e.state.clienteContaFatura,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 2:e.props.alteraCliente(a.data[0].Chave,o),e.setState({clienteBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:t.next=19;break;case 17:return t.next=19,w.a.post("updatePessoa.php",{token:!0,Chave:e.state.clienteChave,Nome:e.state.clienteNome,Nome_Fantasia:e.state.clienteNomeFantasia,Cnpj_Cpf:e.state.clienteCpfLimpo,Rg_Ie:e.state.clienteRG,Inscricao_Municipal:e.state.clienteInscricaoMunicipal,Nascimento_Abertura:e.state.clienteNascimento,Categoria:o,Conta_Contabil:e.state.clienteContaContabil,Conta_Provisao:e.state.clienteContaProvisao,Conta_Fatura:e.state.clienteContaFatura}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.clienteChave,"PESSOA: ".concat(e.state.clienteNome));case 2:console.log(o),e.props.alteraCliente(e.state.clienteChave,o),e.setState({clienteBloqueado:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.testaCpf=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("testaCpf.php",{token:!0,Cnpj_Cpf:e.state.clienteCpfLimpo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.data[0]&&a.data[0].Chave!=e.state.clienteChave&&e.state.clienteCpfLimpo){t.next=5;break}return t.next=3,e.setState({cpfAprovado:!0});case 3:t.next=6;break;case 5:e.setState({clienteNome:a.data[0].Nome,clienteNomeFantasia:a.data[0].Nome_Fantasia,clienteCpf:a.data[0].Cnpj_Cpf,clienteRG:a.data[0].Rg_Ie,clienteInscricaoMunicipal:a.data[0].Inscricao_Municipal,clienteNascimento:a.data[0].Nascimento_Abertura,clienteInclusao:a.data[0].Inclusao,clienteChave:a.data[0].Chave,clienteContaContabil:a.data[0].Conta_Contabil,clienteContaFatura:a.data[0].Conta_Fatura,clienteContaProvisao:a.data[0].Conta_Provisao,cpfAprovado:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarEndereco=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({enderecoBloqueado:!0}),t.next=3,e.setState({dadosFinais:[{titulo:"Cep",valor:e.state.enderecoCep},{titulo:"bairro",valor:e.state.enderecoBairro},{titulo:"UF",valor:e.state.enderecoUF},{titulo:"Cidade",valor:e.state.enderecoCidade},{titulo:"pais",valor:e.state.enderecoPais},{titulo:"Endereco",valor:e.state.enderecoEndereco},{titulo:"Numero",valor:e.state.enderecoNumero},{titulo:"Complemento",valor:e.state.enderecoComplemento},{titulo:"Tipo",valor:e.state.enderecoTipo},{titulo:"Cidade_Descricao",valor:e.state.enderecoCidadeDescricao}]});case 3:if(0!==parseInt(e.state.enderecoChave)||!a){t.next=8;break}return t.next=6,w.a.post("insertEndereco.php",{token:!0,values:"'".concat(e.state.enderecoTipo,"', '").concat(e.state.enderecoEndereco,"', '").concat(e.state.enderecoNumero,"', '").concat(e.state.enderecoComplemento,"', ").concat(e.state.enderecoCidade,", '").concat(e.state.enderecoCepLimpo,"', ").concat(e.state.enderecoUF,", '").concat(e.state.enderecoBairro,"', '").concat(e.state.enderecoCidadeDescricao,"', '").concat(e.state.enderecoPais,"', ").concat(e.state.clienteChave),Tipo:e.state.enderecoTipo,Chave_Pessoa:e.state.clienteChave}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 2:e.setState({enderecoBloqueado:!1}),e.fecharModal();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=11;break;case 8:if(!a){t.next=11;break}return t.next=11,w.a.post("updateEndereco.php",{token:!0,Chave:e.state.enderecoChave,Tipo:e.state.enderecoTipo,Endereco:e.state.enderecoEndereco,Numero:e.state.enderecoNumero,Complemento:e.state.enderecoComplemento,Cidade:e.state.enderecoCidade,Cep:e.state.enderecoCepLimpo,UF:e.state.enderecoUF,bairro:e.state.enderecoBairro,Cidade_Descricao:e.state.enderecoCidadeDescricao,pais:e.state.enderecoPais,Chave_Pessoa:e.state.clienteChave}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.enderecoChave,"ENDERECO: ".concat(e.state.enderecoEndereco));case 2:e.setState({enderecoBloqueado:!1}),e.fecharModal();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarContato=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({contatoBloqueado:!0}),t.next=3,e.setState({dadosFinais:[{titulo:"Campo1",valor:e.state.contatoCampo1},{titulo:"Campo2",valor:e.state.contatoCampo2},{titulo:"Tipo",valor:e.state.contatoTipo}]});case 3:if(0!==parseInt(e.state.contatoChave)||!a){t.next=8;break}return t.next=6,w.a.post("insertContato.php",{token:!0,values:"'".concat(e.state.contatoTipo,"', '").concat(e.state.contatoCampo1,"', '").concat(e.state.contatoCampo2,"', ").concat(e.state.clienteChave)}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 2:e.setState({contatoBloqueado:!1}),e.fecharModal();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=11;break;case 8:if(!a){t.next=11;break}return t.next=11,w.a.post("updateContato.php",{token:!0,Chave:e.state.contatoChave,Tipo:e.state.contatoTipo,Campo1:e.state.contatoCampo1,Campo2:e.state.contatoCampo2,Chave_Pessoa:e.state.clienteChave}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.contatoChave,"CONTATO: ".concat(e.state.contatoCampo1));case 2:e.setState({contatoBloqueado:!1}),e.fecharModal();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarTipoServico=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState({tipoServicoBloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"descricao",valor:e.state.tipoServicoNome},{titulo:"prazo",valor:e.state.tipoServicoPrazo}]});case 5:if(0!=e.state.tipoServicoChave){t.next=10;break}return t.next=8,w.a.post("insertTipoServicoBasico.php",{token:!0,values:"'".concat(e.state.tipoServicoNome,"', '").concat(e.state.tipoServicoPrazo,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_tipos_servicos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 2:e.props.alteraTipoServico(a.data[0].chave),e.setState({tipoServicoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:t.next=12;break;case 10:return t.next=12,w.a.post("updateTipoServico.php",{token:!0,chave:e.state.tipoServicoChave,descricao:e.state.tipoServicoNome,prazo:e.state.tipoServicoPrazo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_tipos_servicos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.tipoServicoChave,"TIPO DE SERVI\xc7O: ".concat(e.state.tipoServicoNome));case 2:e.props.alteraTipoServico(e.state.tipoServicoChave),e.setState({tipoServicoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarCentroCusto=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(e.setState({centroCustoBloqueado:!0}),e.state.centroCustoCodigo){t.next=11;break}return t.t0=e,t.next=7,P.a.getCodigoCC();case 7:return t.t1=t.sent,t.t2={centroCustoCodigo:t.t1},t.next=11,t.t0.setState.call(t.t0,t.t2);case 11:return t.next=13,e.setState({dadosFinais:[{titulo:"Descricao",valor:e.state.centroCustoNome},{titulo:"Cliente",valor:e.state.centroCustoCliente},{titulo:"Data",valor:e.state.centroCustoData},{titulo:"Encerrado",valor:e.state.centroCustoEncerramento},{titulo:"Codigo",valor:e.state.centroCustoCodigo}]});case 13:if(0!=e.state.centroCustoChave){t.next=18;break}return t.next=16,w.a.post("insertCentroCustoBasico.php",{token:!0,values:"'".concat(e.state.centroCustoNome,"', '").concat(S()(e.state.data).format("YYYY-MM-DD"),"', '").concat(e.state.centroCustoCliente,"', '").concat(e.state.centroCustoCodigo,"'"),codigo:e.state.centroCustoCodigo,tipo:"CC"}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("centros_custos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 2:e.props.alteraCentroCusto(a.data[0].Chave),e.setState({centroCustoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:t.next=20;break;case 18:return t.next=20,w.a.post("updateCentroCusto.php",{token:!0,Chave:e.state.centroCustoChave,Descricao:e.state.centroCustoNome,Data:S()(e.state.centroCustoData).format("YYYY-MM-DD"),Encerrado:e.state.centroCustoEncerramento?S()(e.state.centroCustoEncerramento).format("YYYY-MM-DD"):"",Cliente:e.state.centroCustoCliente,Codigo:e.state.centroCustoCodigo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("centros_custos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.centroCustoChave,"CENTRO DE CUSTO: ".concat(e.state.centroCustoNome));case 2:e.props.alteraCentroCusto(e.state.centroCustoChave),e.setState({centroCustoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarSubgrupo=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({subgrupoBloqueado:!0}),t.next=3,e.setState({dadosFinais:[{titulo:"descricao",valor:e.state.subgrupoNome},{titulo:"chave_grupo",valor:e.state.subgrupoGrupo}]});case 3:if(0!==parseInt(e.state.subgrupoChave)||!a){t.next=8;break}return t.next=6,w.a.post("insertSubgrupoBasico.php",{token:!0,values:"'".concat(e.state.subgrupoNome,"', '").concat(e.state.subgrupoGrupo,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 2:e.props.alteraSubgrupo(a.data[0].chave),e.setState({subgrupoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=11;break;case 8:if(!a){t.next=11;break}return t.next=11,w.a.post("updateSubgrupo.php",{token:!0,chave:e.state.subgrupoChave,descricao:e.state.subgrupoNome,grupo:e.state.subgrupoGrupo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.subgrupoChave,"SUBGRUPOS DE TAXAS: ".concat(e.state.subgrupoNome));case 2:e.props.alteraSubgrupo(e.state.subgrupoChave),e.setState({subgrupoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarTaxa=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.taxaVariavel?e.setState({taxaVariavel:1}):e.setState({taxaVariavel:0}),e.setState({taxaBloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"descricao",valor:e.state.taxaNome},{titulo:"valor",valor:e.state.taxaValor},{titulo:"variavel",valor:e.state.taxaVariavel},{titulo:"Moeda",valor:e.state.taxaMoeda},{titulo:"Tipo",valor:e.state.taxaTipo},{titulo:"Conta_Contabil",valor:e.state.taxaConta_contabil},{titulo:"conta_credito",valor:e.state.taxaConta_credito},{titulo:"historico_padrao",valor:e.state.taxaHistorico_padrao},{titulo:"formula_ate",valor:e.state.taxaFormula_ate},{titulo:"sub_grupo",valor:e.state.taxaSubgrupo}]});case 4:if(0!==parseInt(e.state.taxaChave)||!a){t.next=9;break}return t.next=7,w.a.post("insertTaxa.php",{token:!0,values:"'".concat(e.state.taxaNome,"', '").concat(parseFloat(e.state.taxaValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.taxaVariavel,"', '").concat(e.state.taxaMoeda,"', '").concat(e.state.taxaTipo,"', '").concat(e.state.taxaConta_contabil,"', '").concat(e.state.taxaHistorico_padrao,"', '").concat(e.state.taxaFormula_ate,"', '").concat(e.state.taxaSubgrupo,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,P.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:e.props.alteraTaxa(a.data[0].chave,a.data[0].tipo),e.setState({taxaBloqueado:!1}),t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,w.a.post("updateTaxa.php",{token:!0,chave:e.state.taxaChave,descricao:e.state.taxaNome,valor:parseFloat(e.state.taxaValor.replaceAll(".","").replaceAll(",",".")),variavel:e.state.taxaVariavel,Moeda:e.state.taxaMoeda,Tipo:e.state.taxaTipo,Conta_Contabil:e.state.taxaConta_contabil,conta_credito:e.state.taxaConta_credito,historico_padrao:e.state.taxaHistorico_padrao,formula_ate:e.state.taxaFormula_ate,sub_grupo:e.state.taxaSubgrupo}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,P.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"TAXA: ".concat(e.state.taxaNome));case 3:e.props.alteraTaxa(e.state.taxaChave,e.state.taxaTipo),e.setState({taxaBloqueado:!1}),t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarDescricaoPadrao=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState({descricaoBloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"descricao",valor:e.state.descricaoNome}]});case 5:if(0!=e.state.tipoServicoChave){t.next=10;break}return t.next=8,w.a.post("insertDescricaoPadrao.php",{token:!0,values:"'".concat(e.state.descricaoNome,"'")}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_descricao_padrao",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 2:e.props.alteraDescricaoPadrao(e.state.descricaoNome),e.setState({descricaoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:t.next=12;break;case 10:return t.next=12,w.a.post("updateDescricaoPadrao.php",{token:!0,chave:e.state.descricaoChave,descricao:e.state.descricaoNome}).then(function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.salvaLogs("os_descricao_padrao",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.descricaoChave,"DESCRICAO PADRAO: ".concat(e.state.descricaoNome));case 2:e.props.alteraDescricaoPadrao(e.state.descricaoNome),e.setState({descricaoBloqueado:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteShip=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Navio? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteShip.php",{token:!0,id_ship:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deletePorto=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Porto? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deletePorto.php",{token:!0,id_porto:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("os_portos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deletePessoa=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover esta Pessoa? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deletePessoa.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteEndereco=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Endereco? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteEndereco.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteContato=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Contato? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteContato.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteTipoServico=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Tipo de Servi\xe7o? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteTiposServico.php",{token:!0,chave:a}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteSubgrupo=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Subgrupo de Taxa? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteSubgrupo.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.alert(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deletePlanoConta=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover este Plano de Conta? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deletePlanoConta.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.alert(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteTaxa=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover esta Taxa? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteTaxa.php",{token:!0,chave:a}).then(function(){var t=Object(c.a)(s.a.mark((function t(o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,P.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.alert(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteDescricaoPadrao=function(){var t=Object(c.a)(s.a.mark((function t(a,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fecharModal(),Object(j.confirmAlert)({customUI:function(t){var n=t.onClose;return f.a.createElement("div",{className:"custom-ui text-center"},f.a.createElement("h1",null,y.w),f.a.createElement("p",null,"Deseja remover esta Descri\xe7\xe3o Padr\xe3o? (",o,") "),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),f.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("deleteDescricaoPadrao.php",{token:!0,chave:a}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){if(!e.state.pesquisa)return!0;if(1==e.state.tipoPesquisa){if(t.nome)return t.nome.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Nome)return t.Nome.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.descricao)return t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Descricao)return t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase())}else{if(t.bandeira&&2==e.state.tipoPesquisa)return t.bandeira.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(3==e.state.tipoPesquisa)if(e.state.pesquisaExata){if(t.chave)return t.chave.toLowerCase()==e.state.pesquisa.toLowerCase();if(t.Chave)return t.Chave.toLowerCase()==e.state.pesquisa.toLowerCase()}else{if(t.chave)return t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Chave)return t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())}else{if(4==e.state.tipoPesquisa)return t.Codigo.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(5==e.state.tipoPesquisa)return t.Cnpj_Cpf.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(6==e.state.tipoPesquisa)return t.prazo.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Cliente&&7==e.state.tipoPesquisa)return t.Cliente.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(8==e.state.tipoPesquisa)return t.grupo.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Endereco&&9==e.state.tipoPesquisa)return t.Endereco.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.tipoNome&&10==e.state.tipoPesquisa)return t.tipoNome.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Cep&&11==e.state.tipoPesquisa)return t.Cep.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Campo1&&12==e.state.tipoPesquisa)return t.Campo1.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.valor&&13==e.state.tipoPesquisa)return t.valor.includes(e.state.pesquisa)}}},e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t=this,a=[];a.push(this.state.navioNome),a.push(!this.state.navioBloqueado);var o=a.reduce((function(e,t){return e&&t})),n=[];n.push(this.state.portoNome),n.push(this.state.portoSigla&&3==this.state.portoSigla.length),n.push(!this.state.portoBloqueado);var r=n.reduce((function(e,t){return e&&t})),i=[];i.push(this.state.clienteNome),i.push(!this.state.clienteCpfLimpo||11==this.state.clienteCpfLimpo.length||14==this.state.clienteCpfLimpo.length),i.push(!this.state.clienteBloqueado);var u=i.reduce((function(e,t){return e&&t})),m=[];m.push(this.state.tipoServicoNome),m.push(this.state.tipoServicoPrazo&&parseInt(this.state.tipoServicoPrazo)==this.state.tipoServicoPrazo),m.push(!this.state.tipoServicoBloqueado);var p=m.reduce((function(e,t){return e&&t})),v=[];v.push(this.state.centroCustoNome),v.push(!this.state.centroCustoBloqueado);var b=v.reduce((function(e,t){return e&&t})),w=[];w.push(this.state.subgrupoNome),w.push(this.state.subgrupoGrupo),w.push(!this.state.subgrupoBloqueado);var O=w.reduce((function(e,t){return e&&t})),k=[];k.push(this.state.planoContaNome),k.push(this.state.planoContaNivel&&this.state.planoContaNivel>0&&this.state.planoContaNivel<8&&this.state.planoContaNivel==parseInt(this.state.planoContaNivel)),k.push(this.state.planoContaCodigo),k.push(this.state.planoContaIndicador&&("A"==this.state.planoContaIndicador||"S"==this.state.planoContaIndicador)),k.push(this.state.planoContaGrupo&&parseInt(this.state.planoContaGrupo)<=5&&parseInt(this.state.planoContaGrupo)>=0),k.push(!this.state.planoContaBloqueado);var y=k.reduce((function(e,t){return e&&t})),j=[];j.push(this.state.enderecoEndereco),j.push(81==this.state.enderecoUF||this.state.enderecoCepLimpo),j.push(this.state.enderecoPais),j.push(this.state.enderecoCidade||81==this.state.enderecoUF),j.push(this.state.enderecoTipo||0===parseInt(this.state.enderecoTipo)),j.push(!this.state.enderecoBloqueado);var A=j.reduce((function(e,t){return e&&t})),T=[];T.push(this.state.contatoCampo1),T.push(this.state.contatoTipo),T.push(!this.state.contatoBloqueado);var P=T.reduce((function(e,t){return e&&t})),D=[];D.push(this.state.taxaNome),D.push(this.state.taxaValor&&parseFloat(this.state.taxaValor.replaceAll(".","").replaceAll(",","."))>=0),D.push(this.state.taxaSubgrupo),D.push(this.state.taxaMoeda),D.push(this.state.taxaValor&&this.state.taxaValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.taxaValor.replaceAll(".","").replaceAll(",","."))),D.push(!this.state.taxaBloqueado);var _=D.reduce((function(e,t){return e&&t})),L=[];L.push(this.state.descricaoNome),L.push(!this.state.descricaoBloqueado);var I=L.reduce((function(e,t){return e&&t}));return f.a.createElement(g.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({modalAberto:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},f.a.createElement("div",{className:"modalContainer"},"listarNavios"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Navios")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState(Object(d.a)({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1},"pesquisaExata",!1))}},f.a.createElement("option",{value:1},"Nome"),f.a.createElement("option",{value:2},"Bandeira"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],navioChave:0,navioNome:"",navioBandeira:""}),t.props.alteraModal("criarNavio")},className:"btn btn-success"},"Adicionar Navio")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Navio")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"Bandeira")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraNavio(e.chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraNavio(e.chave)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.nome)),f.a.createElement("div",{onClick:function(){return t.props.alteraNavio(e.chave)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("h6",null,e.bandeira)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],navioChave:0,navioNome:"",navioBandeira:"",navioImo:"",navioGrt:"0",navioDwt:"0",navioLoa:"0",navioBeam:"0"}),t.props.alteraModal("criarNavio")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({navioNome:e.nome,navioBandeira:e.bandeira,navioChave:e.chave,navioImo:e.imo,navioGrt:e.grt,navioDwt:e.dwt,navioLoa:e.loa,navioBeam:e.beam,dadosIniciais:[{titulo:"nome",valor:e.nome},{titulo:"bandeira",valor:e.bandeira},{titulo:"imo",valor:e.imo},{titulo:"grt",valor:e.grt},{titulo:"dwt",valor:e.dwt},{titulo:"loa",valor:e.loa},{titulo:"beam",valor:e.beam}]}),t.props.alteraModal("criarNavio")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteShip(e.chave,e.nome)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarNavio"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Navios")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarNavio(o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Nome")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navioNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Bandeira")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.navioBandeira&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.paisesOptions,onChange:function(e){t.setState({navioBandeira:e.label})},autocomplete:"off",placeholder:this.state.navioBandeira})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Imo")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioImo,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioImo:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Grt")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioGrt,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioGrt:null===(o=a.currentTarget.value)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Dwt")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioDwt,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioDwt:null===(o=a.currentTarget.value)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Loa")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioLoa,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioLoa:null===(o=a.currentTarget.value)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Beam")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.navioBeam,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({navioBeam:null===(o=a.currentTarget.value)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!o,type:"submit",style:o?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarPortos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Portos")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Nome"),f.a.createElement("option",{value:4},"Sigla"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],portoChave:0,portoNome:"",portoSigla:""}),t.props.alteraModal("criarPorto")},className:"btn btn-success"},"Adicionar Porto")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Porto")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"Sigla")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraPorto(e.Chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.Chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraPorto(e.Chave)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.Descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraPorto(e.Chave)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},f.a.createElement("h6",null,e.Codigo)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],portoChave:0,portoNome:"",portoSigla:""}),t.props.alteraModal("criarPorto")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({portoNome:e.Descricao,portoSigla:e.Codigo,portoChave:e.Chave,dadosIniciais:[{titulo:"Descricao",valor:e.Descricao},{titulo:"Codigo",valor:e.Codigo}]}),t.props.alteraModal("criarPorto")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deletePorto(e.Chave,e.Descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarPorto"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Portos")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarPorto(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Nome")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.portoNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.portoNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({portoNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"C\xf3digo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.portoSigla&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y}),this.state.portoSigla&&3!=this.state.portoSigla.length&&f.a.createElement(N.a,{title:"Tr\xeas caracteres necess\xe1rios",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.portoSigla,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({portoSigla:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!r,type:"submit",style:r?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarCliente"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Pessoas")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Nome"),f.a.createElement("option",{value:5},"Cpf/Cnpj"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],clienteChave:0,clienteNome:"",clienteNomeFantasia:"",clienteCpf:"",clienteCpfLimpo:"",clienteNascimento:"",clienteRG:"",clienteInscricaoMunicipal:"",clienteContaContabil:"",clienteContaProvisao:"",clienteContaFatura:"",clienteContaContabilInicial:"",clienteContaProvisaoInicial:"",clienteContaFaturaInicial:""}),t.converteCategoria("0000000"),t.props.alteraModal("criarCliente")},className:"btn btn-success"},"Adicionar Pessoa")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Pessoa")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Cnpj / Cpf")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Info")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=(null===(e=this.props.modalLista[0])||void 0===e?void 0:e.Nome)&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraCliente(e.Chave,e.Categoria)},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.Chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraCliente(e.Chave,e.Categoria)},className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("h6",{className:"mobileajuster5"},e.Nome)),f.a.createElement("div",{onClick:function(){return t.props.alteraCliente(e.Chave,e.Categoria)},className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("h6",null,e.Cnpj_Cpf)),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&f.a.createElement("div",{className:"iconelixo giveMargin",type:"button",onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({clienteChave:e.Chave,tipoPesquisa:12,pesquisa:"",pesquisaExata:!1});case 2:return console.log(t.state.pesquisa),a.next=5,t.getContatos(e.Chave);case 5:return a.next=7,t.adicionaInformacaoContatos();case 7:t.props.alteraModal("listarContatos");case 8:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.x})),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button",onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({clienteChave:e.Chave,tipoPesquisa:9,pesquisa:"",pesquisaExata:!1});case 2:return console.log(t.state.pesquisa),a.next=5,t.getEnderecos(e.Chave);case 5:t.props.alteraModal("listarEnderecos");case 6:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.E})))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({clienteChave:0,clienteNome:"",clienteNomeFantasia:"",clienteCpf:"",clienteCpfLimpo:"",clienteNascimento:"",clienteRG:"",clienteInscricaoMunicipal:"",clienteContaContabil:"",clienteContaProvisao:"",clienteContaFatura:"",clienteContaContabilInicial:"",clienteContaProvisaoInicial:"",clienteContaFaturaInicial:"",dadosIniciais:[]});case 2:return e.next=4,t.converteCategoria("0000000");case 4:return e.next=6,t.props.alteraModal("criarCliente");case 6:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({clienteNome:e.Nome,clienteNomeFantasia:e.Nome_Fantasia,clienteCpf:e.Cnpj_Cpf,clienteNascimento:e.Nascimento_Abertura,clienteRG:e.Rg_Ie,clienteInscricaoMunicipal:e.Inscricao_Municipal,clienteChave:e.Chave,clienteContaContabil:e.Conta_Contabil,clienteContaProvisao:e.Conta_Provisao,clienteContaFatura:e.Conta_Faturar,clienteContaContabilInicial:e.Conta_Contabil,clienteContaProvisaoInicial:e.Conta_Provisao,clienteContaFaturaInicial:e.Conta_Faturar,dadosIniciais:[{titulo:"Nome",valor:e.Nome},{titulo:"Nome_Fantasia",valor:e.Nome_Fantasia},{titulo:"Cnpj_Cpf",valor:e.Cnpj_Cpf},{titulo:"Nascimento_Abertura",valor:e.Nascimento_Abertura},{titulo:"Rg_Ie",valor:e.Rg_Ie},{titulo:"Inscricao_Municipal",valor:e.Inscricao_Municipal},{titulo:"Conta_Contabil",valor:e.Conta_Contabil},{titulo:"Conta_Provisao",valor:e.Conta_Provisao},{titulo:"Conta_Fatura",valor:e.Conta_Fatura}]});case 2:return a.next=4,t.getEnderecos(e.Chave);case 4:return a.next=6,t.getContatos(e.Chave);case 6:return a.next=8,t.adicionaInformacaoContatos();case 8:return a.next=10,t.converteCategoria(e.Categoria);case 10:return a.next=12,t.props.alteraModal("criarCliente");case 12:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deletePessoa(e.Chave,e.Nome)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarCliente"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Pessoas")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarCliente(u);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"CPF/CNPJ")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(E.a,{type:"text",mask:this.state.clienteCpfLimpo.length<=11?"999.999.999-99":"99.999.999/9999-99",className:"form-control",value:this.state.clienteCpfLimpo,onChange:function(e){return t.setState({clienteCpf:e.currentTarget.value})},onKeyDown:function(e){11==t.state.clienteCpfLimpo.length&&e.nativeEvent.key==parseInt(e.nativeEvent.key)&&t.setState({clienteCpfLimpo:"".concat(t.state.clienteCpfLimpo).concat(e.nativeEvent.key)})}})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Nome")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.clienteNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.clienteNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Nome Fantasia")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.clienteNomeFantasia,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteNomeFantasia:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"RG/IE")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.clienteRG,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteRG:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Inscri\xe7\xe3o Municipal")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.clienteInscricaoMunicipal,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteInscricaoMunicipal:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Nascimento / Abertura")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"date",value:this.state.clienteNascimento,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteNascimento:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.clienteCategoria.cliente&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Conta Contabil - Receber")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return t.filterSearch(e,t.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==t.state.clienteContaContabil}))[0],search:!0,onChange:function(e){t.setState({clienteContaContabil:e.value})}})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Conta Contabil - Fatura")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return t.filterSearch(e,t.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==t.state.clienteContaFatura}))[0],search:!0,onChange:function(e){t.setState({clienteContaFatura:e.value})}}))),this.state.clienteCategoria.fornecedor&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Conta Contabil - Pagar")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return t.filterSearch(e,t.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==t.state.clienteContaProvisao}))[0],search:!0,onChange:function(e){t.setState({clienteContaProvisao:e.value})}}))),f.a.createElement("div",{className:"col-12"},f.a.createElement("label",{className:"center"},"Categorias")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Cliente")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement(h.a,{type:"checkbox",name:"cliente",checked:this.state.clienteCategoria.cliente,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({clienteCategoria:Object(l.a)(Object(l.a)({},t.state.clienteCategoria),{},{cliente:a.target.checked})});case 2:if(!a.target.checked){e.next=7;break}return e.next=5,t.setState({clienteContaContabil:t.state.clienteContaContabilInicial,clienteContaFatura:t.state.clienteContaFaturaInicial});case 5:e.next=9;break;case 7:return e.next=9,t.setState({clienteContaContabil:"",clienteContaFatura:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Fornecedor")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement(h.a,{type:"checkbox",name:"fornecedor",checked:this.state.clienteCategoria.fornecedor,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({clienteCategoria:Object(l.a)(Object(l.a)({},t.state.clienteCategoria),{},{fornecedor:a.target.checked})}),!a.target.checked){e.next=6;break}return e.next=4,t.setState({clienteContaProvisao:t.state.clienteContaProvisaoInicial});case 4:e.next=8;break;case 6:return e.next=8,t.setState({clienteContaProvisao:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Banco")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement(h.a,{type:"checkbox",name:"banco",checked:this.state.clienteCategoria.banco,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({clienteCategoria:Object(l.a)(Object(l.a)({},t.state.clienteCategoria),{},{banco:a.target.checked})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!u,type:"submit",style:u?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))),0!=this.state.clienteChave&&1==this.props.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:"page-breadcrumb2"},f.a.createElement("h3",null,"Endere\xe7os"))),f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"},"Cep")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},!this.state.enderecos[0]&&f.a.createElement("div",null,f.a.createElement("button",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({enderecoChave:0,enderecoCep:"",enderecoCepLimpo:"",enderecoBairro:"",enderecoUF:-1,enderecoCidade:"",enderecoPais:1,enderecoEndereco:"",enderecoNumero:"",enderecoComplemento:"",enderecoTipo:0,enderecoCidadeDescricao:"",enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[]});case 2:return e.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return e.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return e.stop()}}),e)}))),className:"btn btn-success"},"Adicionar Endereco")))))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),f.a.createElement("div",{id:"product-list"},void 0!=this.state.enderecos[0]&&this.state.enderecos.map((function(e,a){return f.a.createElement("div",{key:e.Chave,className:"row row-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),f.a.createElement("div",{className:a%2==0?"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags par":"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags itemLista impar"},f.a.createElement("div",{className:"row deleteMargin alignCenter"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("p",null,e.Chave)),f.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("p",null,e.Endereco)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Cep)),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones iconesCrud"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({enderecoChave:0,enderecoCep:"",enderecoCepLimpo:"",enderecoBairro:"",enderecoUF:-1,enderecoCidade:"",enderecoPais:1,enderecoEndereco:"",enderecoNumero:"",enderecoComplemento:"",enderecoTipo:0,enderecoCidadeDescricao:"",enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[]});case 2:return e.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return e.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({enderecoChave:e.Chave,enderecoCep:e.Cep,enderecoCepLimpo:e.Cep,enderecoBairro:e.bairro,enderecoUF:e.UF,enderecoCidade:e.Cidade,enderecoPais:e.pais,enderecoEndereco:e.Endereco,enderecoNumero:e.Numero,enderecoComplemento:e.Complemento,enderecoTipo:e.Tipo,enderecoCidadeDescricao:e.Cidade_Descricao,enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[{titulo:"Cep",valor:e.Cep},{titulo:"bairro",valor:e.bairro},{titulo:"UF",valor:e.UF},{titulo:"Cidade",valor:e.Cidade},{titulo:"pais",valor:e.pais},{titulo:"Endereco",valor:e.Endereco},{titulo:"Numero",valor:e.Numero},{titulo:"Complemento",valor:e.Complemento},{titulo:"Tipo",valor:e.Tipo},{titulo:"Cidade_Descricao",valor:e.Cidade_Descricao}]});case 2:return a.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return a.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteEndereco(e.Chave,e.Endereco)}},f.a.createElement(N.a,{icon:C.T}))))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}))})))))),f.a.createElement("hr",null)),0!=this.state.clienteChave&&1==this.props.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&1==this.props.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&f.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},f.a.createElement("hr",{style:{width:"50%"}})),0!=this.state.clienteChave&&1==this.props.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:"page-breadcrumb2"},f.a.createElement("h3",null,"Contatos"))),f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Tipo")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"},"Campo 1")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"},"Campo 2")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},!this.state.contatos[0]&&f.a.createElement("div",null,f.a.createElement("button",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({contatoChave:0,contatoCampo1:"",contatoCampo2:"",contatoTipo:"",contatoTipoNome:"",dadosIniciais:[]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return e.stop()}}),e)}))),className:"btn btn-success"},"Adicionar Contato")))))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"})),f.a.createElement("div",{id:"product-list"},void 0!=this.state.contatos[0]&&this.state.contatos.map((function(e,a){return f.a.createElement("div",{key:e.Chave,className:"row row-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),f.a.createElement("div",{className:a%2==0?"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags par":"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags itemLista impar"},f.a.createElement("div",{className:"row deleteMargin alignCenter"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("p",null,e.Chave)),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("p",null,e.tipoNome)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Campo1)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Campo2)),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones iconesCrud"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({contatoChave:0,contatoCampo1:"",contatoCampo2:"",contatoTipo:"",contatoTipoNome:"",dadosIniciais:[]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({contatoChave:e.Chave,contatoCampo1:e.Campo1,contatoCampo2:e.Campo2,contatoTipo:e.Tipo,contatoTipoNome:e.tipoNome,dadosIniciais:[{titulo:"Campo1",valor:e.Campo1},{titulo:"Campo2",valor:e.Campo2},{titulo:"Tipo",valor:e.Tipo}]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteContato(e.Chave,e.tipoNome)}},f.a.createElement(N.a,{icon:C.T}))))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}))}))))))))),"listarEnderecos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Endere\xe7o")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:9},"Endere\xe7o"),f.a.createElement("option",{value:10},"Tipo"),f.a.createElement("option",{value:11},"Cep"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.state.enderecos[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({enderecoChave:0,enderecoCep:"",enderecoCepLimpo:"",enderecoBairro:"",enderecoUF:-1,enderecoCidade:"",enderecoPais:1,enderecoEndereco:"",enderecoNumero:"",enderecoComplemento:"",enderecoTipo:0,enderecoCidadeDescricao:"",enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[]});case 2:return e.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return e.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return e.stop()}}),e)}))),className:"btn btn-success"},"Adicionar Endereco")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Tipo")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Cep")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.state.enderecos[0]&&this.state.enderecos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",null,e.Chave)),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.tipoNome)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Cep)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("p",null,e.Endereco)),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones iconesCrud"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({enderecoChave:0,enderecoCep:"",enderecoCepLimpo:"",enderecoBairro:"",enderecoUF:-1,enderecoCidade:"",enderecoPais:1,enderecoEndereco:"",enderecoNumero:"",enderecoComplemento:"",enderecoTipo:0,enderecoCidadeDescricao:"",enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[]});case 2:return e.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return e.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({enderecoChave:e.Chave,enderecoCep:e.Cep,enderecoCepLimpo:e.Cep,enderecoBairro:e.bairro,enderecoUF:e.UF,enderecoCidade:e.Cidade,enderecoPais:e.pais,enderecoEndereco:e.Endereco,enderecoNumero:e.Numero,enderecoComplemento:e.Complemento,enderecoTipo:e.Tipo,enderecoCidadeDescricao:e.Cidade_Descricao,enderecoCidadeLock:!!t.state.enderecoCidade,enderecoUFLock:!!t.state.enderecoUF,enderecoBairroLock:!!t.state.enderecoBairro,enderecoEnderecoLock:!!t.state.enderecoEndereco,dadosIniciais:[{titulo:"Cep",valor:e.Cep},{titulo:"bairro",valor:e.bairro},{titulo:"UF",valor:e.UF},{titulo:"Cidade",valor:e.Cidade},{titulo:"pais",valor:e.pais},{titulo:"Endereco",valor:e.Endereco},{titulo:"Numero",valor:e.Numero},{titulo:"Complemento",valor:e.Complemento},{titulo:"Tipo",valor:e.Tipo},{titulo:"Cidade_Descricao",valor:e.Cidade_Descricao}]});case 2:return a.next=4,t.setState({enderecoTipoNome:t.state.enderecoTipos[t.state.enderecoTipo].label});case 4:return a.next=6,t.getLugares();case 6:t.props.alteraModal("criarEndereco");case 7:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteEndereco(e.Chave,e.Endereco)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarEndereco"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Endere\xe7os")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarEndereco(A);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Cep")),81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoCepLimpo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(E.a,{type:"text",mask:"99.999-999",className:"form-control",value:this.state.enderecoCep,onChange:function(e){t.setState({enderecoCep:e.currentTarget.value}),10==t.state.enderecoCep.length&&t.buscarDadosCep(e.currentTarget.value)}})),f.a.createElement("div",{className:81==this.state.enderecoUF?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"UF")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoUF&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{isDisabled:this.state.enderecoUFLock,className:"SearchSelect",value:this.state.enderecoUF,options:this.state.estadosOptions,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({enderecoUF:a.value,enderecoUFNome:a.label,enderecoPais:a.pais});case 2:81==t.state.enderecoUF&&t.setState({enderecoPais:null,enderecoCidade:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),placeholder:this.state.enderecoUFNome})),81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Cidade")),81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoCidade&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),81!=this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{isDisabled:this.state.enderecoCidadeLock,className:"SearchSelect",value:this.state.enderecoCidade,options:this.state.cidadesOptions.filter((function(e){return e.estado==t.state.enderecoUF})),onChange:function(e){t.setState({enderecoCidade:e.value,enderecoCidadeDescricao:e.label})},placeholder:this.state.enderecoCidadeDescricao})),81==this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Pa\xeds")),81==this.state.enderecoUF&&f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoPais&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),81==this.state.enderecoUF&&f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",value:this.state.enderecoPais,options:this.state.paisesOptions,onChange:function(e){t.setState({enderecoPais:e.value,enderecoPaisNome:e.label})},placeholder:this.state.enderecoPaisNome})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Bairro")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{disabled:this.state.enderecoBairroLock,className:"form-control",type:"text",value:this.state.enderecoBairro,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({enderecoBairro:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Rua")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoEndereco&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{disabled:this.state.enderecoEnderecoLock,className:"form-control",type:"text",value:this.state.enderecoEndereco,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({enderecoEndereco:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Numero")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.enderecoNumero,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({enderecoNumero:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Complemento")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.enderecoComplemento,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({enderecoComplemento:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Tipo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.enderecoTipo&&0!==this.state.enderecoTipo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",value:this.state.enderecoTipo,options:this.state.enderecoTipos,onChange:function(e){t.setState({enderecoTipo:e.value,enderecoTipoNome:e.label})},placeholder:this.state.enderecoTipoNome})))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!A,type:"submit",style:A?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarContatos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Contatos")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:12},"Campo"),f.a.createElement("option",{value:10},"Tipo"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.state.contatos[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({contatoChave:0,contatoCampo1:"",contatoCampo2:"",contatoTipo:"",contatoTipoNome:"",dadosIniciais:[]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return e.stop()}}),e)}))),className:"btn btn-success"},"Adicionar Contato")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("span",{className:"subtituloships"},"Tipo")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Campo 1")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},f.a.createElement("span",{className:"subtituloships"},"Campo 2")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.state.contatos[0]&&this.state.contatos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",null,e.Chave)),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",null,e.tipoNome)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Campo1)),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("p",null,e.Campo2)),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones iconesCrud"},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({contatoChave:0,contatoCampo1:"",contatoCampo2:"",contatoTipo:"",contatoTipoNome:"",dadosIniciais:[]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({contatoChave:e.Chave,contatoCampo1:e.Campo1,contatoCampo2:e.Campo2,contatoTipo:e.Tipo,contatoTipoNome:e.tipoNome,dadosIniciais:[{titulo:"Campo1",valor:e.Campo1},{titulo:"Campo2",valor:e.Campo2},{titulo:"Tipo",valor:e.Tipo}]});case 2:t.props.alteraModal("criarContato");case 3:case"end":return a.stop()}}),a)})))},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteContato(e.Chave,e.tipoNome)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarContato"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Contatos")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarContato(P);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Tipo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contatoTipo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",value:this.state.contato,options:this.state.contatoTiposOptions,onChange:function(e){t.setState({contatoTipo:e.value,contatoTipoNome:e.label})},placeholder:this.state.contatoTipoNome})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contatoCampo1&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.contatoCampo1,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({contatoCampo1:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Complemento")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},"PX"!=this.state.contatoTipo&&f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.contatoCampo2,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({contatoCampo2:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),"PX"==this.state.contatoTipo&&f.a.createElement("select",{className:"form-control",value:this.state.contatoCampo2,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({contatoCampo2:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement("option",{value:"E-mail"},"E-mail"),f.a.createElement("option",{value:"Telefone"},"Celular"),f.a.createElement("option",{value:"CPF/CNPJ"},"CPF/CNPJ"))))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!P,type:"submit",style:P?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarSubgrupos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Subgrupos de Taxas")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descri\xe7\xe3o"),f.a.createElement("option",{value:8},"Grupo"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],subgrupoChave:0,subgrupoNome:"",subgrupoGrupo:""}),t.props.alteraModal("criarSubgrupo")},className:"btn btn-success"},"Adicionar Subgrupo")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"Grupo")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraSubgrupo(e.chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraSubgrupo(e.chave)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraSubgrupo(e.chave)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},f.a.createElement("h6",null,e.grupo)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],subgrupoChave:0,subgrupoNome:"",subgrupoGrupo:""}),t.props.alteraModal("criarSubgrupo")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({subgrupoNome:e.descricao,subgrupoGrupo:e.chave_grupo,subgrupoChave:e.chave,dadosIniciais:[{titulo:"descricao",valor:e.descricao},{titulo:"chave_grupo",valor:e.chave_grupo}]}),t.props.alteraModal("criarSubgrupo")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("SUBGRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteSubgrupo(e.chave,e.descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarSubgrupo"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Subgrupo de Taxas")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarSubgrupo(O);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.subgrupoNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.subgrupoNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({subgrupoNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Grupo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.subgrupoGrupo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.gruposOptions,value:this.state.gruposOptions.filter((function(e){return e.value==t.state.subgrupoGrupo})),search:!0,onChange:function(e){t.setState({subgrupoGrupo:e.value})}})))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!O,type:"submit",style:O?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarCentrosCustos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Centros de Custos")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descricao"),f.a.createElement("option",{value:7},"Cliente"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],centroCustoChave:0,centroCustoNome:"",centroCustoCliente:"",centroCustoData:S()().format("YYYY-MM-DD"),centroCustoEncerramento:"",centroCustoConta:""}),t.props.alteraModal("criarPorto")},className:"btn btn-success"},"Adicionar Porto")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"Cliente")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraCentroCusto(e.Chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.Chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraCentroCusto(e.Chave)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.Descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraCentroCusto(e.Chave)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},f.a.createElement("h6",null,e.Cliente)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({dadosIniciais:[],centroCustoChave:0,centroCustoNome:"",centroCustoCliente:"",centroCustoData:S()().format("YYYY-MM-DD"),centroCustoEncerramento:"",centroCustoCodigo:""}),e.next=3,t.carregaCodigos();case 3:t.props.alteraModal("criarCentroCusto");case 4:case"end":return e.stop()}}),e)})))},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({centroCustoNome:e.Descricao,centroCustoCliente:e.Cliente,centroCustoChave:e.Chave,centroCustoData:S()(e.Data).format("YYYY-MM-DD"),centroCustoEncerramento:e.Encerrado,centroCustoCodigo:e.Codigo,dadosIniciais:[{titulo:"Descricao",valor:e.Descricao},{titulo:"Cliente",valor:e.Cliente},{titulo:"Data",valor:e.Data},{titulo:"Encerrado",valor:e.Encerrado},{titulo:"Codigo",valor:e.Codigo}]}),t.props.alteraModal("criarCentroCusto")}},f.a.createElement(N.a,{icon:C.L}))))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarCentroCusto"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Centro de Custos")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarCentroCusto(b);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"C\xf3digo")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:0!=this.state.centroCustoChave,value:this.state.centroCustoCodigo,onChange:function(e){return t.setState({centroCustoCodigo:e.currentTarget.value})}})),f.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-3 col-sm-1 col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Descricao")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.centroCustoNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.centroCustoNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({centroCustoNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Data")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.centroCustoData&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"date",value:this.state.centroCustoData,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({centroCustoData:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),"0"!=this.state.centroCustoChave&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Data Encerramento")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"date",value:this.state.centroCustoEncerramento,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({centroCustoEncerramento:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Cliente")),f.a.createElement("div",{className:"col-1 errorMessage"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.centroCustoPessoasOptions.filter((function(e){return t.filterSearch(e,t.state.centroCustoPessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({centroCustoPessoasOptionsTexto:e})},value:this.state.centroCustoPessoasOptions.filter((function(e){return e.value==t.state.centroCustoCliente}))[0],search:!0,onChange:function(e){t.setState({centroCustoCliente:e.value})}})),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!b,type:"submit",style:b?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarTiposServicos"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Tipos de Servi\xe7os")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descricao"),f.a.createElement("option",{value:6},"Prazo"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],tipoServicoChave:0,tipoServicoNome:"",tipoServicoPrazo:""}),t.props.alteraModal("criarTipoServico")},className:"btn btn-success"},"Adicionar Tipo de Servi\xe7o")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"Prazo")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraTipoServico(e.chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraTipoServico(e.chave)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraTipoServico(e.chave)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},f.a.createElement("h6",null,e.prazo," dias")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],tipoServicoChave:0,tipoServicoNome:"",tipoServicoPrazo:""}),t.props.alteraModal("criarTipoServico")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({tipoServicoNome:e.descricao,tipoServicoPrazo:e.prazo,tipoServicoChave:e.chave,dadosIniciais:[{titulo:"descricao",valor:e.descricao},{titulo:"prazo",valor:e.prazo}]}),t.props.alteraModal("criarTipoServico")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteTipoServico(e.chave,e.descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarTipoServico"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Tipo de Servi\xe7os")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarTipoServico(p);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Nome")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServicoNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.tipoServicoNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({tipoServicoNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Prazo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipoServicoPrazo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y}),this.state.tipoServicoPrazo&&this.state.tipoServicoPrazo!=parseInt(this.state.tipoServicoPrazo)&&f.a.createElement(N.a,{title:"Apenas n\xfameros inteiros s\xe3o permitidos",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.tipoServicoPrazo,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({tipoServicoPrazo:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!p,type:"submit",style:p?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarPlanosContas"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Planos de Contas")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descri\xe7\xe3o"),f.a.createElement("option",{value:9},"C\xf3digo Reduzido"),f.a.createElement("option",{value:3},"Codigo")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],planoContaChave:0,planoContaNome:"",planoContaNivel:"",planoContaIndicador:"S",planoContaInativa:!1,planoContaGrupo:"05"}),t.setPlanoConta({value:0}),t.props.alteraModal("criarPlanoConta")},className:"btn btn-success"},"Adicionar Plano de Conta")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),f.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-center"},f.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-center"},f.a.createElement("span",{className:"subtituloships"},"C\xf3digo Reduzido")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[1].Descricao&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraPlanoConta(e.Chave,e.Indicador)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},f.a.createElement("p",{className:"mobileajuster5"},e.Codigo)),f.a.createElement("div",{onClick:function(){return t.props.alteraPlanoConta(e.Chave,e.Indicador)},className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.Descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraPlanoConta(e.Chave,e.Indicador)},className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},f.a.createElement("h6",null,e.Codigo_Red)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],planoContaChave:0,planoContaNome:"",planoContaNivel:"",planoContaIndicador:"S",planoContaInativa:!1,planoContaGrupo:"05"}),t.setPlanoConta({value:e.Codigo,nivel:e.Nivel}),t.props.alteraModal("criarPlanoConta")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({planoContaNome:e.Descricao,planoContaNivel:e.Nivel,planoContaChave:e.Chave,planoContaInativa:1==e.Conta_Inativa,planoContaIndicador:e.Indicador,planoContaGrupo:e.grupo,planoContaCodigo:e.Codigo.trim(),codigoLimpo:e.Codigo.replaceAll(".","").trim(),dadosIniciais:[{titulo:"Descricao",valor:e.Descricao},{titulo:"Nivel",valor:e.Nivel},{titulo:"Conta_Inativa",valor:1==e.Conta_Inativa},{titulo:"Indicador",valor:e.Indicador},{titulo:"grupo",valor:e.grupo},{titulo:"Codigo",valor:e.Codigo.replaceAll(".","").trim()}]}),t.props.alteraModal("criarPlanoConta")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("PLANOS_CONTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deletePlanoConta(e.Chave,e.Descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarPlanoConta"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Plano de Contas")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarPlanoConta(y);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"C\xf3digo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.planoContaCodigo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},f.a.createElement(E.a,{type:"text",mask:1==this.state.planoContaCodigoLimpo.length?"9":2==this.state.planoContaCodigoLimpo.length?"9.9":3==this.state.planoContaCodigoLimpo.length?"9.9.9":4==this.state.planoContaCodigoLimpo.length||5==this.state.planoContaCodigoLimpo.length?"9.9.9.99":6==this.state.planoContaCodigoLimpo.length||7==this.state.planoContaCodigoLimpo.length?"9.9.9.99.99":8==this.state.planoContaCodigoLimpo.length||9==this.state.planoContaCodigoLimpo.length||10==this.state.planoContaCodigoLimpo.length?"9.9.9.99.99.999":11==this.state.planoContaCodigoLimpo.length||12==this.state.planoContaCodigoLimpo.length||13==this.state.planoContaCodigoLimpo.length?"9.9.9.99.99.999.999":"9",className:"form-control",value:this.state.planoContaCodigoLimpo,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({planoContaCodigo:a.currentTarget.value});case 2:t.setNivel(t.state.planoContaCodigoLimpo);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onKeyDown:function(e){1!=t.state.planoContaCodigoLimpo.length&&2!=t.state.planoContaCodigoLimpo.length&&3!=t.state.planoContaCodigoLimpo.length&&5!=t.state.planoContaCodigoLimpo.length&&7!=t.state.planoContaCodigoLimpo.length&&10!=t.state.planoContaCodigoLimpo.length||e.nativeEvent.key!=parseInt(e.nativeEvent.key)||t.setState({planoContaCodigoLimpo:"".concat(t.state.planoContaCodigoLimpo).concat(e.nativeEvent.key)})}})),f.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"N\xedvel")),f.a.createElement("div",{className:"col-1 errorMessage"},(this.state.planoContaNivel<1||this.state.planoContaNivel>7||this.state.planoContaNivel!=parseInt(this.state.planoContaNivel))&&f.a.createElement(N.a,{title:"Valor Inv\xe1lido",icon:C.y})),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.planoContaNivel})),f.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.planoContaNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.planoContaNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({planoContaNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Indicador")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.planoContaIndicador&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("select",{className:"form-control",value:this.state.planoContaIndicador,onChange:function(e){t.setState({planoContaIndicador:e.currentTarget.value})}},f.a.createElement("option",{value:"A"},"Anal\xedtico"),f.a.createElement("option",{value:"S"},"Sint\xe9tico"))),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Conta Inativa")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("input",{className:"form_control",checked:this.state.planoContaInativa,onChange:function(e){t.setState({planoContaInativa:e.target.checked})},type:"checkbox"})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Grupo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.planoContaGrupo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("select",{className:"form-control",value:this.state.planoContaGrupo,onChange:function(e){t.setState({planoContaGrupo:e.currentTarget.value})}},f.a.createElement("option",{value:"00"},"Contas de Ativo"),f.a.createElement("option",{value:"01"},"Passivo Circulante e N\xe3o Circulante"),f.a.createElement("option",{value:"02"},"Patrim\xf4nio L\xedquido"),f.a.createElement("option",{value:"03"},"Contas de Resultado"),f.a.createElement("option",{value:"04"},"Contas de Compensa\xe7\xe3o"),f.a.createElement("option",{value:"05"},"Outra"))),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!y,type:"submit",style:y?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarTaxas"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Taxas")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descri\xe7\xe3o"),f.a.createElement("option",{value:13},"Valor"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],taxaChave:0,taxaNome:"",taxaValor:"",taxaVariavel:!1,taxaMoeda:5,taxaTipo:"P",taxaConta_contabil:"",taxaConta_credito:"",taxaHistorico_padrao:"",taxaFormula_ate:"",taxaSubgrupo:""}),t.props.alteraModal("criarPorto")},className:"btn btn-success"},"Adicionar Porto")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"},"Tipo de Servi\xe7o")),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"},"Grupo")),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Valor")),f.a.createElement("div",{className:"col-2 text-right"})))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraTaxa(e.chave,e.Tipo)},className:"col-2 text-left"},f.a.createElement("p",null,e.chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraTaxa(e.chave,e.Tipo)},className:"col-3 text-left"},f.a.createElement("p",null,e.descricao)),f.a.createElement("div",{onClick:function(){return t.props.alteraTaxa(e.chave,e.Tipo)},className:"col-3 text-left"},f.a.createElement("p",null,e.subgrupo)),f.a.createElement("div",{onClick:function(){return t.props.alteraTaxa(e.chave,e.Tipo)},className:"col-2 text-left"},f.a.createElement("p",null,e.moeda_sigla," ",parseFloat(e.valor).toFixed(2).replaceAll(".",","))),f.a.createElement("div",{className:"col-2 text-center icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],taxaChave:0,taxaNome:"",taxaValor:"",taxaVariavel:!1,taxaMoeda:5,taxaTipo:"P",taxaConta_contabil:"",taxaConta_credito:"",taxaHistorico_padrao:"",taxaFormula_ate:"",taxaSubgrupo:""}),t.props.alteraModal("criarTaxa")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({taxaChave:e.chave,taxaNome:e.descricao,taxaValor:e.valor,taxaVariavel:1==e.variavel,taxaMoeda:e.Moeda,taxaTipo:e.Tipo,taxaConta_contabil:e.Conta_Contabil,taxaConta_credito:e.conta_credito,taxaHistorico_padrao:e.historico_padrao,taxaFormula_ate:e.formula_ate,taxaSubgrupo:e.sub_grupo,dadosIniciais:[{titulo:"descricao",valor:e.descricao},{titulo:"valor",valor:e.valor},{titulo:"variavel",valor:e.variavel},{titulo:"Moeda",valor:e.Moeda},{titulo:"Tipo",valor:e.Tipo},{titulo:"Conta_Contabil",valor:e.Conta_Contabil},{titulo:"conta_credito",valor:e.conta_credito},{titulo:"historico_padrao",valor:e.historico_padrao},{titulo:"formula_ate",valor:e.formula_ate},{titulo:"sub_grupo",valor:e.sub_grupo}]}),t.props.alteraModal("criarTaxa")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteTaxa(e.chave,e.descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarTaxa"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Taxas")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarTaxa(_);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.taxaNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.taxaNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({taxaNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Valor")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.taxaValor&&f.a.createElement(N.a,{title:"Preencha os campos",icon:C.y}),!this.state.taxaMoeda&&f.a.createElement(N.a,{title:"Preencha os campos",icon:C.y}),"0,00"!=this.state.taxaValor&&this.state.taxaValor&&this.state.taxaMoeda&&!this.state.taxaValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.taxaValor.replaceAll(".","").replaceAll(",","."))&&f.a.createElement(N.a,{title:"Apenas n\xfameros s\xe3o permitidos",icon:C.y})),f.a.createElement("div",{className:"fieldDividido col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("select",{className:"form-control fieldDividido_1",value:this.state.taxaMoeda,onChange:function(e){t.setState({taxaMoeda:e.target.value})}},this.state.moedas.map((function(e){return f.a.createElement("option",{value:e.Chave},e.Sigla)}))),f.a.createElement(h.a,{className:"form-control fieldDividido_2 text-right",type:"text",value:this.state.taxaValor,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({taxaValor:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({taxaValor:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Grupo")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.taxaSubgrupo&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.subgruposOptions,value:this.state.subgruposOptions.filter((function(e){return e.value==t.state.taxaSubgrupo})),search:!0,onChange:function(e){t.setState({taxaSubgrupo:e.value})}})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Tipo")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("select",{className:"form-control",value:this.state.taxaTipo,onChange:function(e){t.setState({taxaTipo:e.currentTarget.value})}},f.a.createElement("option",{value:"P"},"Pagar"),f.a.createElement("option",{value:"R"},"Receber"),f.a.createElement("option",{value:"GT"},"Government Taxes"),f.a.createElement("option",{value:"BC"},"Bank Charges"))),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Variavel")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement("input",{className:"form_control",checked:this.state.taxaVariavel,onChange:function(e){t.setState({taxaVariavel:e.target.checked})},type:"checkbox"})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Conta Contabil")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return t.filterSearch(e,t.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==t.state.taxaConta_contabil}))[0],search:!0,onChange:function(e){t.setState({taxaConta_contabil:e.value})}})),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Historico Padrao")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(F.a,{className:"SearchSelect",options:this.state.historicosOptions.filter((function(e){return t.filterSearch(e,t.state.historicosOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({historicosOptionsTexto:e})},value:this.state.historicosOptions.filter((function(e){return e.value==t.state.taxaHistorico_padrao}))[0],search:!0,onChange:function(e){t.setState({taxaHistorico_padrao:e.value})}})),f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},f.a.createElement("label",null,"Formula Ate")),f.a.createElement("div",{className:"col-1"}),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"number",value:this.state.taxaFormula_ate,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({taxaFormula_ate:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!_,type:"submit",style:_?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"}))))))),"listarDescricoesPadrao"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Descri\xe7\xf5es Padr\xe3o")),f.a.createElement("div",{className:"modalLista"},f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},f.a.createElement("div",{className:"row mobileajuster3"},f.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),f.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},f.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value,pesquisaExata:!1})}},f.a.createElement("option",{value:1},"Descricao"),f.a.createElement("option",{value:3},"Chave")),f.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value,pesquisaExata:!1})}}),!this.props.modalLista[0]&&f.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},f.a.createElement("div",null,f.a.createElement("button",{onClick:function(){t.setState({dadosIniciais:[],descricaoChave:0,descricaoNome:""}),t.props.alteraModal("criarDescricaoPadrao")},className:"btn btn-success"},"Adicionar Descri\xe7\xe3o Padr\xe3o")))))),this.state.loadingPesquisa&&f.a.createElement(x.a,null),f.a.createElement("div",{className:"row deleteMargin",id:"product-list"},f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),f.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},f.a.createElement("div",{className:"single-product-item aasd"},f.a.createElement("div",{className:"row subtitulosTabela"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-center"},f.a.createElement("span",{className:"subtituloships"},"Chave")),f.a.createElement("div",{className:"col-7 text-center"},f.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-center"},f.a.createElement("span",{className:"subtituloships"}))))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),f.a.createElement("div",{className:"row",id:"product-list"},f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),f.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.props.modalLista[0]&&this.props.modalLista.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return f.a.createElement("div",{key:e.id,className:a%2==0?"col-lg-12 col-md-12 col-sm-12 mix all dresses bags par lightHover":"col-lg-12 col-md-12 col-sm-12 mix all dresses bags itemLista impar darkHover"},f.a.createElement("div",{className:"row "},f.a.createElement("div",{onClick:function(){return t.props.alteraDescricaoPadrao(e.chave)},className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},f.a.createElement("p",{className:"mobileajuster5"},e.chave)),f.a.createElement("div",{onClick:function(){return t.props.alteraDescricaoPadrao(e.chave)},className:"col-7 text-left"},f.a.createElement("h6",{className:"mobileajuster5"},e.descricao)),f.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({dadosIniciais:[],descricaoChave:0,descricaoNome:""}),t.props.alteraModal("criarDescricaoPadrao")}},f.a.createElement(N.a,{icon:C.M}))),f.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},f.a.createElement("div",{onClick:function(){t.setState({descricaoNome:e.descricao,descricaoChave:e.chave,dadosIniciais:[{titulo:"descricao",valor:e.descricaoNome}]}),t.props.alteraModal("criarDescricaoPadrao")}},f.a.createElement(N.a,{icon:C.L}))),1==t.props.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&f.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteDescricaoPadrao(e.chave,e.descricao)}},f.a.createElement(N.a,{icon:C.T})))))}))),f.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.props.modalLista.filter(this.filtrarPesquisa)[this.state.load]&&f.a.createElement("div",{className:"loadMoreDiv"},f.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais...")))))),"criarDescricaoPadrao"==this.props.modal&&f.a.createElement("div",{className:"modalCriar"},f.a.createElement("div",{className:"containersairlistprodmodal"},f.a.createElement("div",{className:"botaoSairModal",onClick:Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipoPesquisa:1});case 2:return e.next=4,t.fecharModal();case 4:case"end":return e.stop()}}),e)})))},f.a.createElement("span",null,"X"))),f.a.createElement("div",{className:"modalContent"},f.a.createElement("div",{className:"tituloModal"},f.a.createElement("span",null,"Descri\xe7\xf5es Padr\xe3o")),f.a.createElement("div",{className:"modalForm"},f.a.createElement(h.c,{initialValues:{name:""},onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarDescricaoPadrao(I);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f.a.createElement(h.b,{className:"contact-form"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},f.a.createElement("div",{className:"row addservicos"},f.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},f.a.createElement("label",null,"Descri\xe7\xe3o")),f.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricaoNome&&f.a.createElement(N.a,{title:"Preencha o campo",icon:C.y})),f.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},f.a.createElement(h.a,{className:"form-control",type:"text",value:this.state.descricaoNome,onChange:function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({descricaoNome:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f.a.createElement("div",{className:"col-1"}))),f.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-2"}),f.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},f.a.createElement("button",{disabled:!I,type:"submit",style:I?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),f.a.createElement("div",{className:"col-2"})))))))))}}]),a}(v.Component);t.a=Object(k.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(L)},8:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a(156),n=a.n(o),r=a(19);document.URL.search("10.0.0.220")>=0&&console.log("interno"+document.URL);n.a.create({baseURL:"http://132.255.147.28:8080/sultrade/api/client/",timeout:15e3});var s=n.a.create({baseURL:"".concat(r.r),timeout:3e4})},808:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=808},946:function(e,t,a){},947:function(e,t,a){},948:function(e,t,a){},949:function(e,t,a){},950:function(e,t,a){},951:function(e,t,a){},952:function(e,t,a){},956:function(e,t,a){},957:function(e,t,a){"use strict";a.r(t);var o,n,r,s,c,l,i,u=a(0),m=a.n(u),p=a(61),d=a.n(p),v=a(138),f=a(429),h=a(494),g=a.n(h),b=a(3),E=a(52),x=a(11),N=a.n(x),C={nome:"",email:"",chave:null,token:"",expiry:0,justLogged:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.o:return Object(b.a)(Object(b.a)({},e),{},{nome:t.payload.nome,codigo:t.payload.codigo,empresa:t.payload.empresa,token:null,expiry:N()().add(60,"minutes"),justLogged:!0});case E.n:return Object(b.a)(Object(b.a)({},e),{},{nome:t.payload.nome,codigo:t.payload.codigo,empresa:t.payload.empresa,token:null,expiry:N()().add(60,"minutes"),justLogged:!1});case E.p:return Object(b.a)(Object(b.a)({},e),{},{nome:null,codigo:null,token:""});default:return e}},O=a(27),S={produtos:[],totalProdutos:0,totalVenda:0,frete:5},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a:return Object(b.a)(Object(b.a)({},e),{},{totalProdutos:e.totalProdutos+1,totalVenda:e.totalVenda+t.payload.total,produtos:[].concat(Object(O.a)(e.produtos),[t.payload.produtoAdd])});case E.k:var a=Object(O.a)(e.produtos),o=t.payload.posicao;return a.splice(o,1),Object(b.a)(Object(b.a)({},e),{},{totalProdutos:e.totalProdutos-1,totalVenda:e.totalVenda-t.payload.totalProduto,produtos:Object(O.a)(a)});case E.c:t.payload.chave,t.payload.qtd;return Object(b.a)(Object(b.a)({},e),{},{produtos:[]});case E.f:return Object(b.a)(Object(b.a)({},e),{},{produtos:[],totalProdutos:0,totalVenda:0,frete:0});case E.l:return Object(b.a)(Object(b.a)({},e),{},{frete:t.payload.frete});case E.j:return Object(b.a)(Object(b.a)({},e),{},{frete:0});default:return e}},y={empresa:1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.d:return Object(b.a)(Object(b.a)({},e),{},{empresa:t.payload.empresa});case E.e:return Object(b.a)(Object(b.a)({},e),{},{empresa:1});default:return e}},F={pesquisa:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.i:return Object(b.a)(Object(b.a)({},e),{},{pesquisa:t.payload.pesquisa});case E.g:return Object(b.a)(Object(b.a)({},e),{},{pesquisa:null});default:return e}},T={classificado:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.m:return Object(b.a)(Object(b.a)({},e),{},{classificado:t.payload.grupo});default:return e}},D={online:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:return Object(b.a)(Object(b.a)({},e),{},{online:t.payload.online});case E.h:return Object(b.a)(Object(b.a)({},e),{},{online:null});default:return e}},L={key:"root",storage:g.a},I=Object(v.b)({user:w,produtos:k,empresa:j,pesquisa:A,classificado:P,servidor:_}),M=Object(f.a)(L,I),R=Object(v.c)(M),B=Object(f.b)(R),q=a(495),Y=a(12),V=a(50),U=a(1),z=a.n(U),G=a(2),W=a(14),H=a(15),X=a(18),J=a(17),$=(a(39),a(587),u.Component,a(588),a(10)),K=a(4),Q=a(22),Z=a(167),ee=a(6),te=function(e){return{type:E.b,payload:e}},ae=a(8),oe=a(28),ne=a(5),re=a(23),se=a(21),ce=a(19),le=a(7),ie={evento:"",fornecedor:"",vencimento:N()().add(30,"days").format("YYYY-MM-DD"),sent:!1,fileOver:!1,bloqueado:!1,files:[]},ue=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)({},ie),o.componentDidMount=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({evento:o.props.match.params.evento,fornecedor:o.props.match.params.fornecedor});case 2:return e.next=4,le.a.getBody("testEventoFornecedor.php",{chave:o.state.evento,fornecedor:o.state.fornecedor});case 4:t=e.sent,o.setState({bloqueado:!t});case 6:case"end":return e.stop()}}),e)}))),o.sendFiles=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.state.files[0]){e.next=3;break}return e.next=3,ae.a.post("insertAnexoFornecedor.php",{token:!0,fornecedor:o.state.fornecedor,evento:o.state.evento,vencimento:N()(o.state.vencimento).format("YYYY-MM-DD"),envio:N()().format("YYYY-MM-DD"),files:o.state.files}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:o.setState({sent:!0});case 4:case"end":return e.stop()}}),e)}))),o.fileClick=function(e){o.hiddenFileInput.current.click()},o.onDragOver=function(e){var t=e;t.stopPropagation(),t.preventDefault()},o.onDragLeave=function(e){var t=e;t.stopPropagation(),t.preventDefault(),o.setState({fileOver:!1})},o.onDragEnter=function(e){var t=e;t.stopPropagation(),t.preventDefault(),o.setState({fileOver:!0})},o.onFileDrop=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t).stopPropagation(),a.preventDefault(),n=t.dataTransfer?t.dataTransfer.files:t.currentTarget.files,r=o.state.files,s=r[0]?r[r.length-1].key+1:0,c=0;case 7:if(!(c<n.length)){e.next=21;break}return e.t0=r,e.t1=s+c,e.next=12,K.a.getBase64(n[c]);case 12:e.t2=e.sent,e.t3=n[c].name,e.t4=n[c].type,e.t5=n[c].name.split(".")[n[c].name.split(".").length-1],e.t6={key:e.t1,file:e.t2,fullName:e.t3,format:e.t4,ext:e.t5},e.t0.push.call(e.t0,e.t6);case 18:c++,e.next=7;break;case 21:o.setState({fileOver:!1,files:r});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.hiddenFileInput=m.a.createRef(),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("section",null,m.a.createElement(se.a,{login:!0,titulo:"Enviar Anexos"})),!this.state.bloqueado&&m.a.createElement(m.a.Fragment,null,!this.state.sent&&m.a.createElement("div",null,m.a.createElement("div",{className:"centerDiv"},m.a.createElement("div",{className:"sendAttachment",onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onFileDrop},m.a.createElement("h3",null,"Arraste arquivos at\xe9 aqui"),!this.state.fileOver&&m.a.createElement("div",null,m.a.createElement("h4",{className:"text-center"},"ou"),m.a.createElement("h3",{onClick:function(){return e.fileClick()},className:"fileInputLabel"},"Selecione um arquivo de seu aparelho"),m.a.createElement("input",{multiple:!0,type:"file",ref:this.hiddenFileInput,style:{display:"none"},onChange:function(t){return e.onFileDrop(t)}})),this.state.fileOver&&m.a.createElement("div",null,m.a.createElement(ee.a,{icon:ne.U,color:"white",style:{fontSize:45}})))),this.state.files[0]&&m.a.createElement("div",null,m.a.createElement("div",{className:"filelistDiv"},this.state.files.map((function(t){return m.a.createElement("div",{className:"fileList"},m.a.createElement("span",null,t.fullName),m.a.createElement("span",{onClick:function(){return e.setState({files:e.state.files.filter((function(e){return e.key!=t.key}))})},className:"removeFile"},m.a.createElement(ee.a,{icon:ne.S,color:"red",style:{fontSize:20}})))}))),m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"date",className:"SearchSelect",value:this.state.vencimento,onChange:function(t){return e.setState({vencimento:t.currentTarget.value})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})))),m.a.createElement("div",{className:"centerDiv"},m.a.createElement("button",{className:"sendFileButton",onClick:function(){return e.sendFiles()}},"Enviar")))),this.state.sent&&m.a.createElement("div",null,m.a.createElement("div",{className:"centerDiv"},m.a.createElement("div",{className:"sendAttachment"},m.a.createElement("h3",null,"Enviado ",m.a.createElement(ee.a,{icon:ne.k,color:"white"})))))),m.a.createElement(re.a,null))}}]),a}(u.Component),me=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),(function(e){return{onLogin:function(t){return e(Object(Z.b)(t))},onSetServidor:function(t){return e(te(t))}}}))(ue),pe=(a(619),a(20)),de={login:"",senha:"",nome:"",codigo:"",token:"",redirect:!1,online:!1,operadores:[],loginOptions:[],empresas:[],empresasOptions:[],empresa:0,empresaVerdadeira:0},ve=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},de),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEmpresas();case 2:case"end":return t.stop()}}),t)}))),e.getEmpresas=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getControle.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({empresas:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return a=e.state.empresas.map((function(e){return{label:e.Nome,value:e.Chave}})),t.next=5,e.setState({empresasOptions:a});case 5:case"end":return t.stop()}}),t)}))),e.setLoginOptions=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOperadores.php",{token:!0,empresa:e.state.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({operadores:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return a=e.state.operadores.filter((function(t){return(t.empresa==e.state.empresa||0==t.empresa)&&1==t.ativo})).map((function(e){return{label:e.Nome,value:e.Codigo}})),t.next=5,e.setState({loginOptions:a});case 5:case"end":return t.stop()}}),t)}))),e.signin=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=K.a.encrypt(e.state.senha),t.next=3,ae.a.post("login.php",{Codigo:e.state.login,Senha:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({codigo:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:if("false"!=e.state.codigo){t.next=7;break}Object(oe.confirmAlert)({customUI:function(e){var t=e.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Falha no acesso, usu\xe1rio ou senha incorretos!"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))},"Ok"))}}),t.next=11;break;case 7:return e.setState({codigo:e.state.codigo[0].Codigo}),t.next=10,e.props.onLogin(Object(b.a)({},e.state));case 10:e.setState({redirect:!0});case 11:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.login),t.push(this.state.senha&&this.state.senha.trim().length>=4);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},m.a.createElement("section",null,this.state.redirect&&m.a.createElement(V.a,{to:"/inicio"}),m.a.createElement(se.a,{login:!0,titulo:"Login"})),m.a.createElement("div",null,m.a.createElement($.c,{initialValues:{login:"",senha:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:e.signin();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement("div",{className:"row"},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Empresa")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.empresasOptions,onChange:function(t){e.setState({empresa:t.value}),e.setLoginOptions()},autoComplete:"off",placeholder:"Empresa"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Login")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.loginOptions,onChange:function(t){e.setState({login:t.value,nome:t.label})},autoComplete:"off",placeholder:"Login"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Senha")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{value:this.state.senha,onChange:function(t){e.setState({senha:t.currentTarget.value})},autoComplete:"off",type:"password",placeholder:"Senha"})),m.a.createElement("div",{className:"row"}),m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 btnloginadm"},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{backgroundColor:"#eee",opacity:.9,marginTop:20}:{backgroundColor:"#eee",opacity:.3,marginTop:20}},"Entrar")))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})))))),m.a.createElement(re.a,null))}}]),a}(u.Component),fe=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),(function(e){return{onLogin:function(t){return e(Object(Z.b)(t))},onSetServidor:function(t){return e(te(t))}}}))(ve),he=a(29),ge=(a(636),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLogado:!0,loading:!0,acessos:[],permissoes:[],acessosPermissoes:[],usuarioLogado:e.props.user},e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.verificaLogado(),t.next=3,e.carregaTiposAcessos();case 3:return t.next=5,e.carregaPermissoes();case 5:return t.next=7,e.testaAcesso();case 7:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissoes:a?a.Liberacao.split("")[2]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.verificaLogado=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.get("app.php",{token:e.props.token}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data){t.next=4;break}e.erroApi(a),t.next=6;break;case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,!this.state.isLogado&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(he.a,null),m.a.createElement(se.a,{sair:!0,titulo:"Inicio"}),m.a.createElement("br",null),m.a.createElement("br",null),!this.state.loading&&m.a.createElement("div",{className:"product-filter row"},m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("div",{className:"rounded"},m.a.createElement("ul",{className:"itens_centro"},m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas"}},m.a.createElement(ee.a,{icon:ne.R,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Tabelas"))),m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/ordensservico"}},m.a.createElement(ee.a,{icon:ne.W,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Ordens de Servi\xe7o"))),m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro"}},m.a.createElement(ee.a,{icon:ne.I,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Financeiro"))),m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios"}},m.a.createElement(ee.a,{icon:ne.r,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Utilit\xe1rios")))))))),m.a.createElement(re.a,null))}}]),a}(u.Component)),be=Object(Q.b)((function(e){return{user:e.user}}),null)(ge),Ee=(a(637),a(561)),xe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLogado:!0,loading:!0,acessos:[],permissoes:[],acessosPermissoes:[],usuarioLogado:e.props.user},e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.verificaLogado(),t.next=3,e.carregaTiposAcessos();case 3:return t.next=5,e.carregaPermissoes();case 5:return t.next=7,e.testaAcesso();case 7:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissoes:a?a.Liberacao.split("")[2]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.verificaLogado=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.get("app.php",{token:e.props.token}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data){t.next=4;break}e.erroApi(a),t.next=6;break;case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,!this.state.isLogado&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(he.a,null),m.a.createElement(se.a,{voltar:!0,titulo:"Tabelas"}),m.a.createElement("br",null),m.a.createElement("br",null),!this.state.loading&&m.a.createElement("div",{className:"product-filter row"},m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("div",{className:"rounded"},m.a.createElement("ul",{className:"itens_centro"},1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item  "},m.a.createElement(Y.b,{to:{pathname:"/tabelas/navios"},className:"semTextDecoration"},m.a.createElement(Ee.a,{size:"2em",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},ce.v))),1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/tiposservicos"}},m.a.createElement(ee.a,{icon:ne.h,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Tipos de Servi\xe7os"))),1==this.state.acessosPermissoes.filter((function(e){if("GRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/grupos"}},m.a.createElement(ee.a,{icon:ne.G,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Grupos de Taxas"))),1==this.state.acessosPermissoes.filter((function(e){if("SUBGRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/subgrupos"}},m.a.createElement(ee.a,{icon:ne.K,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Subgrupos de Taxas"))),1==this.state.acessosPermissoes.filter((function(e){if("MOEDAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/moedas"}},m.a.createElement(ee.a,{icon:ne.w,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Moedas"))),1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/pessoas"}},m.a.createElement(ee.a,{icon:ne.V,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Pessoas"))),1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/portos"}},m.a.createElement(ee.a,{icon:ne.X,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Portos"))),1==this.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/taxas"}},m.a.createElement(ee.a,{icon:ne.P,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Taxas"))),1==this.state.acessosPermissoes.filter((function(e){if("CENTROS_CUSTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item  "},m.a.createElement(Y.b,{to:{pathname:"/tabelas/centroscustos"},className:"semTextDecoration"},m.a.createElement(ee.a,{icon:ne.d,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Centros de Custos"))),1==this.state.acessosPermissoes.filter((function(e){if("PLANOS_CONTAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/planoscontas"}},m.a.createElement(ee.a,{icon:ne.v,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Planos de Contas"))),1==this.state.acessosPermissoes.filter((function(e){if("HISTORICOS_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/historicospadrao"}},m.a.createElement(ee.a,{icon:ne.H,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Hist\xf3ricos Padr\xe3o"))),1==this.state.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/descricoespadrao"}},m.a.createElement(ee.a,{icon:ne.H,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Descri\xe7\xf5es Padr\xe3o"))),1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/tiposdocumentos"}},m.a.createElement(ee.a,{icon:ne.A,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Tipos de Documentos"))),1==this.state.acessosPermissoes.filter((function(e){if("CATEGORIAS_TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/tabelas/categoriasdocumentos"}},m.a.createElement(ee.a,{icon:ne.A,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Categorias de Documentos")))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ne=Object(Q.b)((function(e){return{user:e.user}}),null)(xe),Ce=(a(638),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLogado:!0,loading:!0,acessos:[],permissoes:[],acessosPermissoes:[],usuarioLogado:e.props.user},e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.verificaLogado(),t.next=3,e.carregaTiposAcessos();case 3:return t.next=5,e.carregaPermissoes();case 5:return t.next=7,e.testaAcesso();case 7:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissoes:a?a.Liberacao.split("")[2]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.verificaLogado=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.get("app.php",{token:e.props.token}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data){t.next=4;break}e.erroApi(a),t.next=6;break;case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,!this.state.isLogado&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(he.a,null),m.a.createElement(se.a,{voltar:!0,movimentacao:!0,titulo:"Ordens de Servi\xe7o"}),m.a.createElement("br",null),m.a.createElement("br",null),!this.state.loading&&m.a.createElement("div",{className:"product-filter row"},m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("div",{className:"rounded"},m.a.createElement("ul",{className:"itens_centro"},1==this.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item  "},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/os"},className:"semTextDecoration"},m.a.createElement(ee.a,{icon:ne.j,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"OS"))),1==this.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item  "},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/osOrcamento"},className:"semTextDecoration"},m.a.createElement(ee.a,{icon:ne.w,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"OS - Or\xe7amento"))),1==this.state.acessosPermissoes.filter((function(e){if("TARIFAS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/ordensservico/tarifas"}},m.a.createElement(ee.a,{icon:ne.B,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Tarifas de Fornecedores"))),1==this.state.acessosPermissoes.filter((function(e){if("ANEXOS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/ordensservico/anexos"}},m.a.createElement(ee.a,{icon:ne.K,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Valida\xe7\xf5es")))))))),m.a.createElement(re.a,null))}}]),a}(u.Component)),we=Object(Q.b)((function(e){return{user:e.user}}),null)(Ce),Oe=(a(639),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLogado:!0,loading:!0,acessos:[],permissoes:[],acessosPermissoes:[],usuarioLogado:e.props.user},e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.verificaLogado(),t.next=3,e.carregaTiposAcessos();case 3:return t.next=5,e.carregaPermissoes();case 5:return t.next=7,e.testaAcesso();case 7:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissoes:a?a.Liberacao.split("")[2]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.verificaLogado=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.get("app.php",{token:e.props.token}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data){t.next=4;break}e.erroApi(a),t.next=6;break;case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,!this.state.isLogado&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(he.a,null),m.a.createElement(se.a,{voltar:!0,movimentacao:!0,titulo:"Utilit\xe1rios"}),m.a.createElement("br",null),m.a.createElement("br",null),!this.state.loading&&m.a.createElement("div",{className:"product-filter row"},m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("div",{className:"rounded"},m.a.createElement("ul",{className:"itens_centro"},m.a.createElement("li",{className:" text-left itemMenu list-group-item  "},m.a.createElement(Y.b,{to:{pathname:1==this.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]?"/utilitarios/operadores":"utilitarios/addoperador/".concat(this.state.usuarioLogado.codigo)},className:"semTextDecoration"},m.a.createElement(ee.a,{icon:ne.a,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},1==this.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&"Operadores",1!=this.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&"Perfil"))),1==this.state.acessosPermissoes.filter((function(e){if("PERMISSOES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios/permissoes"}},m.a.createElement(ee.a,{icon:ne.l,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Permiss\xf5es"))),1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios/logs"}},m.a.createElement(ee.a,{icon:ne.f,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Logs"))),1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios/eventostemplates"}},m.a.createElement(ee.a,{icon:ne.B,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Templates de Eventos"))),1==this.state.acessosPermissoes.filter((function(e){if("GRUPOS_TEMPLATES"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios/grupostemplates"}},m.a.createElement(ee.a,{icon:ne.B,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Grupos de Templates"))),1==this.state.acessosPermissoes.filter((function(e){if("PARAMETROS"==e.acessoAcao)return e})).map((function(e){return e.permissoes}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/utilitarios/parametros"}},m.a.createElement(ee.a,{icon:ne.s,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Parametros")))))))),m.a.createElement(re.a,null))}}]),a}(u.Component)),Se=Object(Q.b)((function(e){return{user:e.user}}),null)(Oe),ke=(a(640),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLogado:!0,loading:!0,acessos:[],permissoes:[],acessosPermissoes:[],usuarioLogado:e.props.user},e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.verificaLogado(),t.next=3,e.carregaTiposAcessos();case 3:return t.next=5,e.carregaPermissoes();case 5:return t.next=7,e.testaAcesso();case 7:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)}))),e.verificaLogado=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.get("app.php",{token:e.props.token}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data){t.next=4;break}e.erroApi(a),t.next=6;break;case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,!this.state.isLogado&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(he.a,null),m.a.createElement(se.a,{voltar:!0,titulo:"Financeiro"}),m.a.createElement("br",null),m.a.createElement("br",null),!this.state.loading&&m.a.createElement("div",{className:"product-filter row"},m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("div",{className:"rounded"},m.a.createElement("ul",{className:"itens_centro"},m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contasabertas"}},m.a.createElement(ee.a,{icon:ne.g,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas em Aberto"))),m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contasliquidadas"}},m.a.createElement(ee.a,{icon:ne.b,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas Liquidadas"))),1==this.state.acessosPermissoes.filter((function(e){if("FATURAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/faturas"}},m.a.createElement(ee.a,{icon:ne.F,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Notas Fiscais de Servi\xe7o"))),1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/lancamentos"}},m.a.createElement(ee.a,{icon:ne.O,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Lan\xe7amentos"))),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/pagamentoslote"}},m.a.createElement(ee.a,{icon:ne.t,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Pagamentos em Lote"))),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/pagamentosmanual"}},m.a.createElement(ee.a,{icon:ne.J,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Pagamentos Manual")))))))),m.a.createElement(re.a,null))}}]),a}(u.Component)),ye=Object(Q.b)((function(e){return{user:e.user}}),null)(ke),je=(a(641),a(75)),Fe=(a(644),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={timer:""},e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement(Y.b,{to:this.props.addLink},m.a.createElement("div",{className:"addButton"},m.a.createElement(ee.a,{icon:ne.M,size:60})))}}]),a}(u.Component)),Ae=Fe,Te=(a(645),a(88)),Pe={pesquisa:"",tipoPesquisa:1,load:100},De=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)({},Pe),e.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.fecharModal=function(){e.props.closeModal()},e.deleteItem=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.closeModal(),e.props.itemDelete(e.props.chave,e.props.nome);case 2:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({modalAberto:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalItemContainer darkBack"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fecharModal();case 2:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent darkBack"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,this.props.nome)),this.props.itens.filter((function(e){return e.valor})).map((function(e){return m.a.createElement("div",{className:"modalItemContent"},m.a.createElement("div",{className:"modalItemTitulo"},e.titulo,":"),m.a.createElement("div",{className:"modalItemValor"},e.valor))})),m.a.createElement("br",null),m.a.createElement("br",null),(this.props.itemContatos||this.props.itemEnderecos)&&m.a.createElement("div",{className:"modalItemContent",style:{marginBottom:"10px"}},this.props.itemContatos&&m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:this.props.itemContatos},m.a.createElement(ee.a,{icon:ne.E}))),this.props.itemEnderecos&&m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:this.props.itemEnderecos},m.a.createElement(ee.a,{icon:ne.x})))),m.a.createElement("div",{className:"modalItemContent"},this.props.itemAdd&&m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:this.props.itemAdd},m.a.createElement(ee.a,{icon:ne.M}))),this.props.itemEdit&&m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:this.props.itemEdit},m.a.createElement(ee.a,{icon:ne.L}))),this.props.solicitacao&&m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:this.props.itemFinanceiro},m.a.createElement(ee.a,{icon:ne.w}))),this.props.itemDelete&&1==this.props.acessosPermissoes.filter((function(t){if(t.acessoAcao==e.props.itemPermissao)return t})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return e.deleteItem()}},m.a.createElement(ee.a,{icon:ne.T}))),!!this.props.itemEditMini&&1==this.props.acessosPermissoes.filter((function(t){if(t.acessoAcao==e.props.itemPermissao)return t})).map((function(e){return e.permissaoEdita}))[0]&&m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return t.next=4,e.props.itemEditMini.onSubmit();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},this.props.itemEditMini.valores.filter((function(e){return!e.hidden})).map((function(e){return m.a.createElement(m.a.Fragment,null,e.half&&m.a.createElement(m.a.Fragment,null,m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-12 labelForm"},m.a.createElement("label",null,e.titulo)),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"fieldDividido col-10"},m.a.createElement("select",{className:"form-control nextToInput fieldDividido_1",value:e.valor1,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange1(a.currentTarget.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},e.options1.map((function(e){return m.a.createElement("option",{value:e.value},e.label)}))),m.a.createElement($.a,{className:"form-control fieldDividido_2 text-right ",type:"text",onClick:function(e){return e.target.select()},value:e.valor2,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange2(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBlur2(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),!e.half&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-12 labelForm"},m.a.createElement("label",null,e.titulo)),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-10"},"select"==e.tipo&&m.a.createElement("select",{className:"form-control nextToInput fieldDividido_1",value:e.valor,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange(a.currentTarget.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},e.options.map((function(e){return m.a.createElement("option",{value:e.value},e.label)}))),"money"==e.tipo&&m.a.createElement($.a,{className:"form-control text-right ",type:"text",onClick:function(e){return e.target.select()},value:e.valor,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBlur(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),"select"!=e.tipo&&"money"!=e.tipo&&m.a.createElement($.a,{className:"form-control",type:e.tipo,value:e.valor,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",style:{width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))}}]),a}(u.Component),_e=De,Le={name:"",navios:[],pesquisa:"",tipoPesquisa:1,loading:!0,loadingPesquisa:!1,chaveFocus:"",deleteNavio:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],load:100},Ie=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Le),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"NAVIOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteNavio||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteNavio:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getNavios.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={navios:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.getNavios=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getNavios.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({navios:a.data});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.deleteShip=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteNavio:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Voce quer remover esse navio? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:function(){return e.teste556(a)}},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.teste556=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=parseInt(a),t.prev=1,t.next=4,ae.a.post("deleteShip.php",{token:e.props.token,id_ship:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data&&1!=a.data){t.next=6;break}return t.next=3,le.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",o);case 3:window.location.reload(),t.next=6;break;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("Erro de conex\xe3o com o banco");case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isLogado:!1});case 2:console.log("Fa\xe7a login antes!"),e.setState({redirect:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.navios.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({navios:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.nome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.bandeira&&2==e.state.tipoPesquisa?t.bandeira.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"removeAcentos",value:function(e){for(var t="\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\u0154\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0155",a="",o=0;o<e.length;o++){for(var n=!1,r=0;r<t.length;r++)if(e.substr(o,1)==t.substr(r,1)){a+="AAAAAAACEEEEIIIIDNOOOOOOUUUUYRsBaaaaaaaceeeeiiiionoooooouuuuybyr".substr(r,1),n=!0;break}0==n&&(a+=e.substr(o,1))}return a}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,navios:!0,titulo:"Navios"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",null,m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"Bandeira"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addship/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))))),this.state.loadingPesquisa&&m.a.createElement(je.a,null),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addship/0",state:{ship:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item aasd"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left"},m.a.createElement("span",{className:"subtituloships"},"Bandeira")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Bandeira")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.state.navios[0]&&this.state.navios.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-12 col-md-12 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row "},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.chave)),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.nome)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("h6",null,t.bandeira)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addship/0",state:{ship:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addship/".concat(t.chave),state:{ship:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteShip(t.chave,t.nome)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Nome",valor:t.nome},{titulo:"Bandeira",valor:t.bandeira},{titulo:"I.M.O.",valor:t.imo}],itemPermissao:"NAVIOS",itemNome:t.nome,itemChave:t.chave,itemAdd:{pathname:"/tabelas/addship/0",state:{ship:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addship/".concat(t.chave),state:{ship:Object(b.a)({},t)}},itemDelete:e.deleteShip})},className:"row "},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.nome)),m.a.createElement("div",{className:"col-4 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("h6",null,t.bandeira)),m.a.createElement("div",{className:"col-3 icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addship/0",state:{ship:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addship/".concat(t.chave),state:{ship:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteShip(t.chave,t.nome)}},m.a.createElement(ee.a,{icon:ne.T})))))}))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.state.navios.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais..."))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Me=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ie),Re=(a(646),{name:"",servicos:[],pesquisa:"",tipoPesquisa:1,chaveFocus:"",loading:!0,redirect:!1,deleteTipoServico:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),Be=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Re),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"TIPOS_SERVICOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteTipoServico||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteTipoServico:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposServicos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={servicos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteTipoServico=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteTipoServico:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Tipo de Servi\xe7o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteTiposServico.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_tipos_servicos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.servicos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({servicos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.prazo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,tiposServicos:!0,titulo:"Tipos de Servi\xe7os"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Prazo"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtiposervico/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addtiposervico/0",state:{tiposervico:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo de Servi\xe7o")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Prazo")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo de Servi\xe7o")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Prazo")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.servicos[0]&&this.state.servicos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.id,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.chave)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.prazo," dias")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 iconesCrud"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtiposervico/0",state:{tiposervico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtiposervico/".concat(t.chave),state:{tiposervico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTipoServico(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Descri\xe7\xe3o",valor:t.descricao},{titulo:"Prazo",valor:"".concat(t.prazo," dias")}],itemPermissao:"TIPOS_SERVICOS",itemNome:t.descricao,itemChave:t.chave,itemAdd:{pathname:"/tabelas/addtiposervico/0",state:{tiposervico:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addtiposervico/".concat(t.chave),state:{tiposervico:Object(b.a)({},t)}},itemDelete:e.deleteTipoServico})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.prazo," dias")),m.a.createElement("div",{className:"col-2 text-left  mobileajuster4 iconesCrud"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtiposervico/0",state:{tiposervico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtiposervico/".concat(t.chave),state:{tiposervico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTipoServico(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),qe=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Be),Ye=(a(647),{name:"",grupos:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteGrupo:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],direcaoTabela:ne.n,acessosPermissoes:[]}),Ve=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ye),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"GRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteGrupo||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteGrupo:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getGrupos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={grupos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteGrupo=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteGrupo:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Grupo? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteGrupo.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_grupos_taxas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.grupos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({grupos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.codigo.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,grupos:!0,titulo:"Grupos de Taxa"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/grupo/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Codigo")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/grupo/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Codigo")),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-10 text-left"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.grupos[0]&&this.state.grupos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.id,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addgrupo/0",state:{grupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addgrupo/".concat(t.chave),state:{grupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("GRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteGrupo(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.codigo},{titulo:"Grupo",valor:t.descricao}],itemPermissao:"GRUPOS_TAXAS",itemNome:t.descricao,itemChave:t.chave,itemAdd:{pathname:"/tabelas/addgrupo/0",state:{grupo:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addgrupo/".concat(t.chave),state:{grupo:Object(b.a)({},t)}},itemDelete:e.deleteGrupo})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-10 text-left"},m.a.createElement("p",null,t.descricao)))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ue=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ve),ze=(a(648),{name:"",subgrupos:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteSubgrupo:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),Ge=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},ze),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"SUBGRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteSubgrupo||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteSubgrupo:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getSubgrupos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={subgrupos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteSubgrupo=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteSubgrupo:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Subgrupo? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteSubgrupo.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.subgrupos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({subgrupos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.grupo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,subgrupos:!0,titulo:"Subgrupos de Taxa"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addsubgrupo/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Grupo"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addsubgrupo/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Subgrupo")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Subgrupo")),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.subgrupos[0]&&this.state.subgrupos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.id,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.chave)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("p",null,t.grupo)),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addsubgrupo/0",state:{subgrupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addsubgrupo/".concat(t.chave),state:{subgrupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("SUBGRUPOS_TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteSubgrupo(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Descri\xe7\xe3o",valor:t.descricao},{titulo:"Grupo",valor:t.grupo}],itemPermissao:"SUBGRUPOS_TAXAS",itemNome:t.descricao,itemChave:t.chave,itemAdd:{pathname:"/tabelas/addsubgrupo/0",state:{subgrupo:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addsubgrupo/".concat(t.chave),state:{subgrupo:Object(b.a)({},t)}},itemDelete:e.deleteSubgrupo})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 text-left"},m.a.createElement("p",null,t.grupo)))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),We=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ge),He=(a(649),{name:"",moedas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,deleteMoeda:!0,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),Xe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},He),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:2});case 10:e.state.acessosPermissoes.map((function(t){"MOEDAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteMoeda||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteMoeda:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getMoedas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={moedas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteMoeda=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteMoeda:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Moeda? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteMoeda.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("moedas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.moedas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({moedas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,moedas:!0,titulo:"Moedas"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addmoeda/0"}}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addmoeda/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cota\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cota\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.moedas[0].Descricao&&this.state.moedas.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.Chave)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,"R$",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Ultima_Cotacao))),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addmoeda/0",state:{moeda:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addmoeda/".concat(t.Chave),state:{moeda:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("MOEDAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteMoeda(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Descri\xe7\xe3o",valor:t.Descricao},{titulo:"Sigla",valor:t.Sigla},{titulo:"Cota\xe7\xe3o",valor:t.Ultima_Cotacao}],itemPermissao:"MOEDAS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addmoeda/0",state:{moeda:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addmoeda/".concat(t.Chave),state:{moeda:Object(b.a)({},t)}},itemDelete:e.deleteMoeda})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Ultima_Cotacao))),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addmoeda/0",state:{moeda:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addmoeda/".concat(t.Chave),state:{moeda:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("MOEDAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteMoeda(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Je=Object(Q.b)((function(e){return{user:e.user}}),null)(Xe),$e=(a(650),{name:"",taxas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteTaxa:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],direcaoTabela:ne.n,permissoes:[],acessosPermissoes:[]}),Ke=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},$e),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"TAXAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteTaxa||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteTaxa:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTaxas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={taxas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteTaxa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteTaxa:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esta Taxa? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteTaxa.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.taxas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({taxas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.valor.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,taxas:!0,titulo:"Taxas"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-center"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtaxa/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addtaxa/0",state:{taxa:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Tipo de Servi\xe7o")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Tipo de Servi\xe7o")),m.a.createElement("div",{className:"col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Grupo")),m.a.createElement("div",{className:"col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.taxas[0]&&this.state.taxas.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.id,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("p",null,t.chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("p",null,t.subgrupo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("p",null,t.moeda_sigla," ",parseFloat(t.valor).toFixed(2).replaceAll(".",","))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-center  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtaxa/0",state:{taxa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtaxa/".concat(t.chave),state:{taxa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTaxa(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Descri\xe7\xe3o",valor:t.descricao},{titulo:"Valor",valor:"".concat(t.moeda_sigla," ").concat(parseFloat(t.valor).toFixed(2).replaceAll(".",","))},{titulo:"Conta Contabil",valor:t.contaContabilNome},{titulo:"Hist\xf3rico Padr\xe3o",valor:t.historicoPadraoNome},{titulo:"SubGrupo",valor:t.subgrupo}],itemPermissao:"TAXAS",itemNome:t.descricao,itemChave:t.chave,itemAdd:{pathname:"/tabelas/addtaxa/0",state:{taxa:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addtaxa/".concat(t.chave),state:{taxa:Object(b.a)({},t)}},itemDelete:e.deleteTaxa})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-4 text-center"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-3 text-center"},m.a.createElement("p",null,t.subgrupo)),m.a.createElement("div",{className:"col-3 text-center"},m.a.createElement("p",null,t.moeda_sigla," ",parseFloat(t.valor).toFixed(2).replaceAll(".",","))),m.a.createElement("div",{className:"col-2 text-center  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtaxa/0",state:{taxa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtaxa/".concat(t.chave),state:{taxa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTaxa(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Qe=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ke),Ze=(a(651),{name:"",pessoas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deletePessoa:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),et=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ze),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"PESSOAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deletePessoa||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deletePessoa:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getPessoas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={pessoas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deletePessoa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deletePessoa:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esta Pessoa? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deletePessoa.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.pessoas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({pessoas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Nome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.Cnpj_Cpf.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,pessoas:!0,titulo:"Pessoas"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemContatos:this.state.itemContatos,itemEnderecos:this.state.itemEnderecos,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addpessoa/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"CPF/CNPJ"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoa/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cnpj / Cpf")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Info")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cnpj / Cpf")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Info")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.pessoas[0]&&this.state.pessoas.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Cnpj_Cpf)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.Nome_Fantasia?t.Nome_Fantasia:t.Nome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/pessoacontatos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.x}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/pessoaenderecos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.E})))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoa/0",state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoa/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePessoa(t.Chave,t.Nome)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Nome",valor:t.Nome},{titulo:"Nome Fantasia",valor:t.Nome_Fantasia},{titulo:"CPF/CNPJ",valor:t.Cnpj_Cpf},{titulo:"RG/IE",valor:t.Rg_Ie},{titulo:"Nascimento/Abertura",valor:"Invalid date"!=N()(t.Nascimento_Abertura).format("DD/MM/YYYY")?N()(t.Nascimento_Abertura).format("DD/MM/YYYY"):""}],itemPermissao:"PESSOAS",itemNome:t.Nome,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addmoeda/0",state:{moeda:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addmoeda/".concat(t.Chave),state:{moeda:Object(b.a)({},t)}},itemContatos:1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]?{pathname:"/tabelas/pessoacontatos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}:"",itemEnderecos:1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]?{pathname:"/tabelas/pessoaenderecos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}:"",itemDelete:e.deletePessoa})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-4 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Cnpj_Cpf)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.Nome_Fantasia?t.Nome_Fantasia:t.Nome)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/pessoacontatos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.x}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/pessoaenderecos/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.E})))),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoa/0",state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoa/".concat(t.Chave),state:{pessoa:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePessoa(t.Chave,t.Nome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),tt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(et),at=(a(652),{name:"",pessoas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,deleteContato:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],tipos:[]}),ot=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},at),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:4});case 10:e.state.acessosPermissoes.map((function(t){"PESSOAS_CONTATOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteContato||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteContato:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPessoaContatos();case 2:return t.t0=e,t.next=5,le.a.getBase("getTiposComplementares.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getTiposAcessos.php");case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getPermissoes.php");case 11:return t.t3=t.sent,t.t4={tipos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=15,t.t0.setState.call(t.t0,t.t4);case 15:return t.next=17,e.adicionaInformacao();case 17:if(!e.props.location.state||!e.props.location.state.chave){t.next=20;break}return t.next=20,e.setState({chaveFocus:e.props.location.state.chave});case 20:return t.t5=e,t.next=23,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 23:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=27,t.t5.setState.call(t.t5,t.t7);case 27:case"end":return t.stop()}}),t)}))),e.getPessoaContatos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContatos.php",{token:!0,pessoa:e.props.location.state.pessoa.Chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contatos:a.data});case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.adicionaInformacao=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.contatos.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{tipoNome:e.state.tipos.filter((function(e){return e.Codigo==t.Tipo}))[0].Descricao})})),t.next=3,e.setState({contatos:a});case 3:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteContato=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteContato:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse contato? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteContato.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.contatos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({contatos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Campo1.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.Campo2.toLowerCase().includes(e.state.pesquisa.toLowerCase()):3==e.state.tipoPesquisa?t.tipoNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/tabelas/pessoas"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarPessoas:!0,titulo:"Contatos",chave:this.props.location.state.pessoa.Chave}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addpessoacontato/".concat(this.props.location.state.pessoa.Chave,"/0"),state:{pessoa:Object(b.a)({},this.props.location.state.pessoa),backTo:"contatos"}}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Campo1"),m.a.createElement("option",{value:2},"Campo2"),m.a.createElement("option",{value:3},"Tipo"),m.a.createElement("option",{value:4},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(this.props.location.state.pessoa.Chave,"/0"),state:{pessoa:Object(b.a)({},this.props.location.state.pessoa),backTo:"contatos"}}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campo 1")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campo 2")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campo 1")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campo 2")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contatos[0]&&this.state.contatos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo1)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo2)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteContato(t.Chave,t.tipoNome)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Tipo",valor:t.tipoNome},{titulo:"Campo1",valor:t.Campo1},{titulo:"Campo2",valor:t.Campo2}],itemPermissao:"PESSOAS_CONTATOS",itemNome:t.tipoNome,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}},itemEdit:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}},itemDelete:e.deleteContato})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-4 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo1)),m.a.createElement("div",{className:"col-4 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo2)),m.a.createElement("div",{className:"col-2  text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"contatos"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteContato(t.Chave,t.tipoNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),nt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ot),rt=(a(653),{name:"",pessoas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteEndereco:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],tipoEndereco:["Padr\xe3o","Entrega","Cobran\xe7a","Residencial"]}),st=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},rt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:4});case 10:e.state.acessosPermissoes.map((function(t){"PESSOAS_ENDERECOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteEndereco||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteEndereco:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPessoaEnderecos();case 2:return t.t0=e,t.next=5,le.a.getBase("getTiposAcessos.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getPermissoes.php");case 8:return t.t2=t.sent,t.t3={acessos:t.t1,permissoes:t.t2},t.next=12,t.t0.setState.call(t.t0,t.t3);case 12:if(!e.props.location.state||!e.props.location.state.chave){t.next=15;break}return t.next=15,e.setState({chaveFocus:e.props.location.state.chave});case 15:return t.t4=e,t.next=18,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 18:return t.t5=t.sent,t.t6={acessosPermissoes:t.t5,loading:!1},t.next=22,t.t4.setState.call(t.t4,t.t6);case 22:case"end":return t.stop()}}),t)}))),e.getPessoaEnderecos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getEnderecos.php",{token:!0,pessoa:e.props.match.params.id}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.data.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{tipoNome:e.state.tipoEndereco[t.Tipo]})})),t.next=3,e.setState({enderecos:o});case 3:return t.next=5,e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteEndereco=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteEndereco:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse endere\xe7o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteEndereco.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.enderecos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({enderecos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Endereco.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.tipoNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):3==e.state.tipoPesquisa?t.Cep.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/tabelas/pessoas"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarPessoas:!0,titulo:"Endere\xe7os",chave:this.props.location.state.pessoa.Chave}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addpessoaendereco/".concat(this.props.location.state.pessoa.Chave,"/0"),state:{endereco:{},pessoa:Object(b.a)({},this.props.location.state.pessoa),backTo:"enderecos"}}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Endere\xe7o"),m.a.createElement("option",{value:2},"Tipo"),m.a.createElement("option",{value:3},"Cep"),m.a.createElement("option",{value:4},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(this.props.match.params.id,"/0"),state:{pessoa:Object(b.a)({},this.props.location.state.pessoa),backTo:"enderecos"}}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cep")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.enderecos[0]&&this.state.enderecos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Cep)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.Endereco)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones iconesCrud"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteEndereco(t.Chave,t.Endereco)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Tipo",valor:t.tipoNome},{titulo:"Endereco",valor:t.Endereco},{titulo:"Numero",valor:t.Numero},{titulo:"Complemento",valor:t.Complemento},{titulo:"Cidade",valor:t.Cidade},{titulo:"Cep",valor:t.Cep},{titulo:"UF",valor:t.UF},{titulo:"bairro",valor:t.bairro},{titulo:"Cidade_Descricao",valor:t.Cidade_Descricao}],itemPermissao:"PESSOAS_ENDERECOS",itemNome:t.Endereco,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}},itemEdit:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}},itemDelete:e.deleteEndereco})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-5 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("p",null,t.Endereco)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones iconesCrud"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.props.location.state.pessoa),backTo:"enderecos"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteEndereco(t.Chave,t.Endereco)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ct=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(st),lt=(a(654),{name:"",portos:[],pesquisa:"",tipoPesquisa:1,loading:!0,loadingPesquisa:!1,chaveFocus:"",deletePorto:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),it=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},lt),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadAll();case 2:if(!o.state.chaveFocus){e.next=10;break}if(!o.refs.focusMe){e.next=8;break}return e.next=6,o.refs.focusMe.focus();case 6:e.next=10;break;case 8:return e.next=10,o.setState({pesquisa:o.state.chaveFocus,tipoPesquisa:3});case 10:o.state.acessosPermissoes.map((function(e){"PORTOS"==e.acessoAcao&&0==e.permissaoConsulta&&o.setState({redirect:!0})}));case 11:case"end":return e.stop()}}),e)}))),o.componentDidUpdate=function(){var e=Object(G.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.state.deletePorto||o.state.modalItemAberto==a.modalItemAberto){e.next=3;break}return e.next=3,o.setState({modalItemAberto:!1,deletePorto:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.loadAll=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getBase("getPortos.php");case 3:return e.t1=e.sent,e.next=6,le.a.getBase("getTiposAcessos.php");case 6:return e.t2=e.sent,e.next=9,le.a.getBase("getPermissoes.php");case 9:return e.t3=e.sent,e.t4={portos:e.t1,acessos:e.t2,permissoes:e.t3},e.next=13,e.t0.setState.call(e.t0,e.t4);case 13:if(!o.props.location.state||!o.props.location.state.chave){e.next=16;break}return e.next=16,o.setState({chaveFocus:o.props.location.state.chave});case 16:return e.t5=o,e.next=19,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 19:return e.t6=e.sent,e.t7={acessosPermissoes:e.t6,loading:!1},e.next=23,e.t5.setState.call(e.t5,e.t7);case 23:case"end":return e.stop()}}),e)}))),o.deletePorto=function(){var e=Object(G.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({deletePorto:!0}),Object(oe.confirmAlert)({customUI:function(e){var n=e.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Voce quer remover esse porto? (",a,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:function(){return o.teste556(t)}},"Sim"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.teste556=function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t),e.prev=1,e.next=4,ae.a.post("deletePorto.php",{token:o.props.token,id_porto:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!=t.data&&1!=t.data){e.next=6;break}return e.next=3,le.a.salvaLogs("os_portos",o.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:window.location.reload(),e.next=6;break;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Erro de conex\xe3o com o banco");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({isLogado:!1});case 2:console.log("Fa\xe7a login antes!"),o.setState({redirect:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.reverterItens=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({loading:!0});case 2:if(t=o.state.portos.reverse(),o.state.direcaoTabela!=ne.n){e.next=8;break}return e.next=6,o.setState({direcaoTabela:ne.q});case 6:e.next=10;break;case 8:return e.next=10,o.setState({direcaoTabela:ne.n});case 10:return e.next=12,o.setState({portos:t,loading:!1});case 12:case"end":return e.stop()}}),e)}))),o.filtrarPesquisa=function(e){return 1==o.state.tipoPesquisa?e.Descricao.toLowerCase().includes(o.state.pesquisa.toLowerCase()):2==o.state.tipoPesquisa?e.Codigo.toLowerCase().includes(o.state.pesquisa.toLowerCase()):e.Chave.toLowerCase().includes(o.state.pesquisa.toLowerCase())},o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Portos"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addporto/0"}}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-0 col-lg-0 col-xl-0 sumir"}),m.a.createElement("div",{className:"col-2 col-sm-3 col-md-0 col-lg-0 col-xl-0 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-0 col-lg-0 col-xl-0 sumir",style:{height:10}}),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"})),m.a.createElement("div",null,m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"C\xf3digo"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addporto/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))))),this.state.loadingPesquisa&&m.a.createElement(je.a,null),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item aasd"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.state.portos[0].Descricao&&this.state.portos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-12 col-md-12 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row "},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.Chave)),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},m.a.createElement("h6",null,t.Codigo)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addporto/0",state:{porto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addporto/".concat(t.Chave),state:{porto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePorto(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Codigo",valor:t.Codigo},{titulo:"Descricao",valor:t.Descricao}],itemPermissao:"PORTOS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addporto/0",state:{porto:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addporto/".concat(t.Chave),state:{porto:Object(b.a)({},t)}},itemDelete:e.deletePorto})},className:"row "},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",null,t.Codigo)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addporto/0",state:{porto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addporto/".concat(t.Chave),state:{porto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePorto(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))))}))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.state.portos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais..."))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ut=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(it),mt=(a(655),{name:"",centrosCustos:[],pesquisa:"",tipoPesquisa:1,pessoas:"",chaveFocus:"",deleteCentroCusto:!1,loading:!0,redirect:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100}),pt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},mt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"CENTROS_CUSTOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteCentroCusto||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteCentroCusto:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getCentrosCustos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={centrosCustos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.centrosCustos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({centrosCustos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.pessoaNome&&2==e.state.tipoPesquisa?t.pessoaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Codigo.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Centros de Custo"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addcentrocusto/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Cliente"),m.a.createElement("option",{value:3},"Codigo")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcentrocusto/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Codigo")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.centrosCustos[0]&&this.state.centrosCustos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Codigo,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Codigo==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Codigo==e.state.chaveFocus?"par focusLight":"par ":t.Codigo==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.Codigo)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcentrocusto/0",state:{centroCusto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcentrocusto/".concat(t.Chave),state:{centroCusto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.Codigo},{titulo:"Descri\xe7\xe3o",valor:t.Descricao},{titulo:"Cliente",valor:t.pessoaNome},{titulo:"Data",valor:N()(t.Data).format("DD/MM/YYYY")},{titulo:"Encerramento",valor:"Invalid date"!=N()(t.Encerrado).format("DD/MM/YYYY")?N()(t.Encerrado).format("DD/MM/YYYY"):""}],itemPermissao:"CENTROS_CUSTOS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addcentrocusto/0",state:{centroCusto:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addcentrocusto/".concat(t.Chave),state:{centroCusto:Object(b.a)({},t)}}})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcentrocusto/0",state:{centroCusto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcentrocusto/".concat(t.Chave),state:{centroCusto:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L})))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.centrosCustos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),dt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(pt),vt=(a(656),{name:"",planosContas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",loading:!0,redirect:!1,chaveFocus:"",deletePlanoContas:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),ft=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},vt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:3});case 10:e.state.acessosPermissoes.map((function(t){"PLANOS_CONTAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deletePlanoContas||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deletePlanoContas:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getPlanosContas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={planosContas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deletePlanoConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deletePlanoContas:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Plano de Conta? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deletePlanoConta.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.planosContas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({planosContas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return t.Descricao&&1==e.state.tipoPesquisa?t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Codigo_Red&&2==e.state.tipoPesquisa?t.Codigo_Red.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Codigo&&3==e.state.tipoPesquisa?t.Codigo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):"0"!=t.Chave?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Planos de Contas"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addplanoconta/0",state:{planoConta:{}}}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"C\xf3digo Reduzido"),m.a.createElement("option",{value:3},"C\xf3digo")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/0",state:{planoConta:{}}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo Reduzido")),m.a.createElement("div",{className:"col-1 text-center"},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/0"}},m.a.createElement(ee.a,{icon:ne.M})))),m.a.createElement("div",{className:"col-1 text-center revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/0"}},m.a.createElement(ee.a,{icon:ne.M})))),m.a.createElement("div",{className:"col-2 text-center revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.planosContas[0]&&this.state.planosContas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Codigo.trim()==e.state.chaveFocus.trim()?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Codigo.trim()==e.state.chaveFocus.trim()?"par focusLight":"par ":t.Codigo.trim()==e.state.chaveFocus.trim()?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Codigo)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("p",null,t.Codigo_Red)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/0",state:{planoConta:{},planoPai:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/".concat(t.Chave),state:{planoConta:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PLANOS_CONTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePlanoConta(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Codigo",valor:t.Codigo},{titulo:"Codigo Reduzido",valor:t.Codigo_Red},{titulo:"Nivel",valor:t.Nivel},{titulo:"Descricao",valor:t.Descricao},{titulo:"Indicador",valor:"S"==t.Indicador?"Sint\xe9tica":"Anal\xedtica"},{titulo:"Grupo",valor:["Contas de Ativo","Passivo Circulante e N\xe3o Circulante","Patrim\xf4nio L\xedquido","Contas de Resultado","Contas de Compensa\xe7\xe3o","Outras"][t.grupo]}],itemPermissao:"PLANOS_CONTAS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addplanoconta/0",state:{planoConta:{},planoPai:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addplanoconta/".concat(t.Chave),state:{planoConta:Object(b.a)({},t)}},itemDelete:e.deletePlanoConta})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-5 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Codigo)),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/0",state:{planoConta:{},planoPai:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addplanoconta/".concat(t.Chave),state:{planoConta:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PLANOS_CONTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deletePlanoConta(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.planosContas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),ht=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ft),gt=(a(657),{name:"",historicos:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteHistorico:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],direcaoTabela:ne.n,acessosPermissoes:[]}),bt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},gt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:2});case 10:e.state.acessosPermissoes.map((function(t){"HISTORICOS_PADRAO"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteHistorico||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteHistorico:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getHistoricos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={historicos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteHistorico=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteHistorico:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Hist\xf3rico? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteHistorico.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("historicos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.historicos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({historicos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Hist\xf3ricos Padr\xe3o"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addhistorico/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addhistorico/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-7 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.historicos[0]&&this.state.historicos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.chave)),m.a.createElement("div",{className:"col-7 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addhistorico/0",state:{historico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addhistorico/".concat(t.chave),state:{historico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("HISTORICOS_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteHistorico(t.chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Descri\xe7\xe3o",valor:t.Descricao}],itemPermissao:"HISTORICOS_PADRAO",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addhistorico/0",state:{historico:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addhistorico/".concat(t.chave),state:{historico:Object(b.a)({},t)}},itemDelete:e.deleteHistorico})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addhistorico/0",state:{historico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addhistorico/".concat(t.chave),state:{historico:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("HISTORICOS_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteHistorico(t.chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Et=Object(Q.b)((function(e){return{user:e.user}}),null)(bt),xt=(a(658),{name:"",descricoes:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteDescricao:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],direcaoTabela:ne.n,acessosPermissoes:[]}),Nt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},xt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:2});case 10:e.state.acessosPermissoes.map((function(t){"DESCRICOES_PADRAO"!=t.acessoAcao||0!=t.permissaoConsulta&&t.permissaoConsulta?console.log(t):e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteDescricao||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteDescricao:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getDescricoesPadrao.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={descricoes:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteDescricao=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteDescricao:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esta Descri\xe7\xe3o padr\xe3o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteDescricaoPadrao.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_descricao_padrao",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.descricoes.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({descricoes:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Descri\xe7\xf5es Padr\xe3o"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/adddescricao/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/adddescricao/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-7 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.descricoes[0]&&this.state.descricoes.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.chave)),m.a.createElement("div",{className:"col-7 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.descricao)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/adddescricao/0",state:{descricao:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/adddescricao/".concat(t.chave),state:{descricao:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteDescricao(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"Descri\xe7\xe3o",valor:t.descricao}],itemPermissao:"DESCRICOES_PADRAO",itemNome:t.descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/adddescricao/0",state:{descricao:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/adddescricao/".concat(t.chave),state:{descricao:Object(b.a)({},t)}},itemDelete:e.deleteDescricao})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.descricao)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/adddescricao/0",state:{descricao:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/adddescricao/".concat(t.chave),state:{descricao:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteDescricao(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.T}))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ct=Object(Q.b)((function(e){return{user:e.user}}),null)(Nt),wt=(a(659),{name:"",documentos:[],pesquisa:"",tipoPesquisa:1,loading:!0,loadingPesquisa:!1,chaveFocus:"",deleteTipoDocumento:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),Ot=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},wt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:2});case 10:e.state.acessosPermissoes.map((function(t){"TIPOS_DOCUMENTOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteTipoDocumento||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteTipoDocumento:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposDocumento.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={tiposDocumentos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.deleteTipoDocumento=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteTipoDocumento:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse tipo de documento? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:function(){return e.teste556(a)}},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.teste556=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=parseInt(a),t.prev=1,t.next=4,ae.a.post("deleteTipoLancamento.php",{token:e.props.token,chave:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!=a.data&&1!=a.data){t.next=6;break}return t.next=3,le.a.salvaLogs("tipos_docto",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",o);case 3:window.location.reload(),t.next=6;break;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("Erro de conex\xe3o com o banco");case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.tiposDocumentos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({tiposDocumentos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?t.categoriaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Tipos de Documentos"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",null,m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descricao"),m.a.createElement("option",{value:2},"Categoria"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtipodocumento/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))))),this.state.loadingPesquisa&&m.a.createElement(je.a,null),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addtipodocumento/0",state:{tipoDocumento:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item aasd"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Categoria")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=this.state.tiposDocumentos[0].Descricao&&this.state.tiposDocumentos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-12 col-md-12 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row "},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},t.Chave)),m.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4  col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3  col-3 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.categoriaNome)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtipodocumento/0",state:{tipoDocumento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtipodocumento/".concat(t.Chave),state:{tipoDocumento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTipoDocumento(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Descri\xe7\xe3o",valor:t.Descricao},{titulo:"Categoria",valor:t.categoriaNome}],itemPermissao:"TIPOS_DOCUMENTOS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/tabelas/addtipodocumento/0",state:{tipoDocumento:Object(b.a)({},t)}},itemEdit:{pathname:"/tabelas/addtipodocumento/".concat(t.Chave),state:{tipoDocumento:Object(b.a)({},t)}},itemDelete:e.deleteTipoDocumento})},className:"row "},m.a.createElement("div",{className:"col-9 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},t.Descricao)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtipodocumento/0",state:{tipoDocumento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addtipodocumento/".concat(t.Chave),state:{tipoDocumento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteTipoDocumento(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.T})))))}))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.state.tiposDocumentos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais..."))))),m.a.createElement(re.a,null))}}]),a}(u.Component),St=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ot),kt=(a(660),{dadosIniciais:"",dadosFinais:"",taxa:"",porto:"",conta:"",taxaAtiva:!1,portoAtivo:!1,contaAtiva:!1,taxas:[],portos:[],contas:[],contasOptions:[],contasOptionsTexto:"",portosOptions:[],portosOptionsTexto:"",taxasOptions:[],taxasOptionsTexto:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,modal:!1,modalLista:[],modalPesquisa:""}),yt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},kt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.loadAll();case 3:e.state.acessosPermissoes.map((function(t){("CONTAS_PORTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"CONTAS_PORTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 4:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTaxas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPortos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPlanosContasAnaliticas.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getTiposAcessos.php");case 12:return t.t4=t.sent,t.next=15,le.a.getBase("getPermissoes.php");case 15:return t.t5=t.sent,t.t6={taxas:t.t1,portos:t.t2,contas:t.t3,acessos:t.t4,permissoes:t.t5},t.next=19,t.t0.setState.call(t.t0,t.t6);case 19:return t.t7=e,t.next=22,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 22:return t.t8=t.sent,t.next=25,K.a.turnToOption(e.state.taxas,"descricao","chave");case 25:return t.t9=t.sent,t.next=28,K.a.turnToOption(e.state.portos,"Descricao","Chave");case 28:return t.t10=t.sent,t.next=31,K.a.turnToOption(e.state.contas,"Descricao","Chave");case 31:return t.t11=t.sent,t.t12={acessosPermissoes:t.t8,taxasOptions:t.t9,portosOptions:t.t10,contasOptions:t.t11},t.next=35,t.t7.setState.call(t.t7,t.t12);case 35:case"end":return t.stop()}}),t)}))),e.addPorto=function(t){var a=e.state.porto?e.state.porto:[];a.find((function(e){return e==t}))||(a.push(t),e.setState({porto:a}))},e.removePorto=function(t){var a=e.state.porto?e.state.porto:[];a.find((function(e){return e==t}))&&(a=a.filter((function(e){return e!=t})),e.setState({porto:a}))},e.addTaxa=function(t){var a=e.state.taxa?e.state.taxa:[];a.find((function(e){return e==t}))||(a.push(t),e.setState({taxa:a}))},e.removeTaxa=function(t){var a=e.state.taxa?e.state.taxa:[];a.find((function(e){return e==t}))&&(a=a.filter((function(e){return e!=t})),e.setState({taxa:a}))},e.reset=function(){window.location.reload()},e.filterSearch=function(e,t){if(""==e)return!0;if(e.label){var a=t.toUpperCase();return e.label.toUpperCase().includes(a)}},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Contas de Portos"}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarConta(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},!(this.state.portoAtivo&&this.state.contaAtiva)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Taxa")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:this.state.taxaAtiva,options:this.state.taxasOptions.filter((function(t){return e.filterSearch(t,e.state.taxasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({taxasOptionsTexto:t})},value:this.state.taxasOptions.filter((function(t){return t.value==e.state.taxa}))[0],search:!0,onChange:function(t){e.state.taxaAtiva||e.setState({taxa:t.value,taxaAtiva:!0})}})),m.a.createElement("div",{className:"col-1"})),!(this.state.taxaAtiva&&this.state.contaAtiva)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Porto")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:this.state.portoAtivo,options:this.state.portosOptions.filter((function(t){return e.filterSearch(t,e.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({portosOptionsTexto:t})},value:this.state.portosOptions.filter((function(t){return t.value==e.state.porto}))[0],search:!0,onChange:function(t){e.state.portoAtivo||e.setState({porto:t.value,portoAtivo:!0})}})),m.a.createElement("div",{className:"col-1"})),!(this.state.taxaAtiva&&this.state.portoAtivo)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:this.state.contaAtiva,options:this.state.contasOptions.filter((function(t){return e.filterSearch(t,e.state.contasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({contasOptionsTexto:t})},value:this.state.contasOptions.filter((function(t){return t.value==e.state.conta}))[0],search:!0,onChange:function(t){e.state.contaAtiva||e.setState({conta:t.value,contaAtiva:!0})}})),m.a.createElement("div",{className:"col-1"})),this.state.portoAtivo&&this.state.contaAtiva&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Taxas")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.taxasOptions.filter((function(t){return e.filterSearch(t,e.state.taxasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({taxasOptionsTexto:t})},search:!0,onChange:function(t){e.addTaxa(t.value)}}),m.a.createElement("div",null,this.state.taxa&&this.state.taxa.map((function(t,a){return m.a.createElement("span",{className:"multipleOptions",onClick:function(){return e.removeTaxa(t)}},e.state.taxasOptions.find((function(e){return e.value==t}))?e.state.taxasOptions.find((function(e){return e.value==t})).label:"",e.state.taxa[a+1]?", ":"")})))),m.a.createElement("div",{className:"col-1"})),this.state.taxaAtiva&&this.state.contaAtiva&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Portos")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(t){return e.filterSearch(t,e.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({portosOptionsTexto:t})},search:!0,onChange:function(t){e.addPorto(t.value)}}),m.a.createElement("div",null,this.state.porto&&this.state.porto.map((function(t,a){return m.a.createElement("span",{className:"multipleOptions",onClick:function(){return e.removePorto(t)}},e.state.portosOptions.find((function(e){return e.value==t}))?e.state.portosOptions.find((function(e){return e.value==t})).label:"",e.state.porto[a+1]?", ":"")})))),m.a.createElement("div",{className:"col-1"})),this.state.taxaAtiva&&this.state.portoAtivo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.contasOptions.filter((function(t){return e.filterSearch(t,e.state.contasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({contasOptionsTexto:t})},value:this.state.contasOptions.filter((function(t){return t.value==e.state.conta}))[0],search:!0,onChange:function(t){e.setState({conta:t.value})}})),m.a.createElement("div",{className:"col-1"})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:150}:{backgroundColor:"#eee",opacity:.3,width:150,marginRight:10}},"Salvar"),m.a.createElement("button",{onClick:function(){return e.reset()},style:{width:150,marginLeft:10}},"Reset")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),jt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(yt),Ft=(a(661),{name:"",categorias:[],pesquisa:"",tipoPesquisa:1,loading:!0,loadingPesquisa:!1,chaveFocus:"",deleteCategoria:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),At=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},Ft),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadAll();case 2:if(!o.state.chaveFocus){e.next=10;break}if(!o.refs.focusMe){e.next=8;break}return e.next=6,o.refs.focusMe.focus();case 6:e.next=10;break;case 8:return e.next=10,o.setState({pesquisa:o.state.chaveFocus,tipoPesquisa:3});case 10:o.state.acessosPermissoes.map((function(e){"CATEGORIAS_TIPOS_DOCUMENTOS"==e.acessoAcao&&0==e.permissaoConsulta&&o.setState({redirect:!0})}));case 11:case"end":return e.stop()}}),e)}))),o.componentDidUpdate=function(){var e=Object(G.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.state.deleteCategoria||o.state.modalItemAberto==a.modalItemAberto){e.next=3;break}return e.next=3,o.setState({modalItemAberto:!1,deleteCategoria:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.loadAll=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getBody("getCategoriasDocumentos.php",{empresa:o.state.usuarioLogado.empresa});case 3:return e.t1=e.sent,e.next=6,le.a.getBase("getTiposAcessos.php");case 6:return e.t2=e.sent,e.next=9,le.a.getBase("getPermissoes.php");case 9:return e.t3=e.sent,e.t4={categorias:e.t1,acessos:e.t2,permissoes:e.t3},e.next=13,e.t0.setState.call(e.t0,e.t4);case 13:if(!o.props.location.state||!o.props.location.state.chave){e.next=16;break}return e.next=16,o.setState({chaveFocus:o.props.location.state.chave});case 16:return e.t5=o,e.next=19,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 19:return e.t6=e.sent,e.t7={acessosPermissoes:e.t6,loading:!1},e.next=23,e.t5.setState.call(e.t5,e.t7);case 23:case"end":return e.stop()}}),e)}))),o.deleteCategoria=function(){var e=Object(G.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({deleteCategoria:!0}),Object(oe.confirmAlert)({customUI:function(e){var n=e.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Voce quer remover essa categoria? (",a,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.post("deleteCategoriaDocumento.php",{token:o.props.token,chave:t}).then(function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!=a.data&&1!=a.data){e.next=6;break}return e.next=3,le.a.salvaLogs("tipos_docto_categorias",o.state.usuarioLogado.codigo,null,"Exclus\xe3o",t);case 3:window.location.reload(),e.next=6;break;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Erro de conex\xe3o com o banco");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},"Sim"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({isLogado:!1});case 2:console.log("Fa\xe7a login antes!"),o.setState({redirect:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.reverterItens=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({loading:!0});case 2:if(t=o.state.categorias.reverse(),o.state.direcaoTabela!=ne.n){e.next=8;break}return e.next=6,o.setState({direcaoTabela:ne.q});case 6:e.next=10;break;case 8:return e.next=10,o.setState({direcaoTabela:ne.n});case 10:return e.next=12,o.setState({categorias:t,loading:!1});case 12:case"end":return e.stop()}}),e)}))),o.filtrarPesquisa=function(e){return 1==o.state.tipoPesquisa?e.descricao.toLowerCase().includes(o.state.pesquisa.toLowerCase()):e.chave.toLowerCase().includes(o.state.pesquisa.toLowerCase())},o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e,t=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarTabelas:!0,titulo:"Categorias de Documentos"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){t.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/tabelas/addcategoriadocumento/0"}}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-0 col-lg-0 col-xl-0 sumir"}),m.a.createElement("div",{className:"col-2 col-sm-3 col-md-0 col-lg-0 col-xl-0 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-0 col-lg-0 col-xl-0 sumir",style:{height:10}}),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"})),m.a.createElement("div",null,m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcategoriadocumento/0"}},m.a.createElement("button",{className:"btn btn-success"},"+"))))))),this.state.loadingPesquisa&&m.a.createElement(je.a,null),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item aasd"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2  col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-lg-7 col-md-7 col-sm-7 col-7 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return t.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-3 text-right revertItem",onClick:function(){return t.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 mobileajuste14 "},void 0!=(null===(e=this.state.categorias[0])||void 0===e?void 0:e.descricao)&&this.state.categorias.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,a){return m.a.createElement("div",{ref:e.chave==t.state.chaveFocus?"focusMe":"",tabindex:-1,key:e.id,className:"col-lg-12 col-md-12 col-sm-12 mix all dresses bags ".concat(a%2==0?e.chave==t.state.chaveFocus?"par focusLight":"par ":e.chave==t.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row "},m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},e.chave)),m.a.createElement("div",{className:"col-lg-7 col-md-7 col-sm-7 col-7 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},e.descricao)),m.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-3  text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcategoriadocumento/0",state:{categoria:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcategoriadocumento/".concat(e.chave),state:{categoria:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==t.state.acessosPermissoes.filter((function(e){if("CATEGORIAS_TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteCategoria(e.chave,e.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){t.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:e.chave},{titulo:"Descricao",valor:e.descricao}],itemPermissao:"CATEGORIAS_TIPOS_DOCUMENTOS",itemNome:e.descricao,itemChave:e.chave,itemAdd:{pathname:"/tabelas/addcategoriadocumento/0",state:{categoria:Object(b.a)({},e)}},itemEdit:{pathname:"/tabelas/addcategoriadocumento/".concat(e.chave),state:{categoria:Object(b.a)({},e)}},itemDelete:t.deleteCategoria})},className:"row "},m.a.createElement("div",{className:"col-5 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},e.descricao)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",null,e.chave)),m.a.createElement("div",{className:"col-3 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcategoriadocumento/0",state:{categoria:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addcategoriadocumento/".concat(e.chave),state:{categoria:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==t.state.acessosPermissoes.filter((function(e){if("CATEGORIAS_TIPOS_DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteCategoria(e.chave,e.descricao)}},m.a.createElement(ee.a,{icon:ne.T})))))}))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}),this.state.categorias.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){t.setState({load:t.state.load+100})}},"Carregar Mais..."))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Tt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(At),Pt=a(9),Dt=(a(662),a(41)),_t=(o={ship:[],nome:"",bandeira:"",imo:"",grt:"0",dwt:"0",loa:"0",beam:"0",logs:[],modalLog:!1,paises:[],paisesOptions:[],dadosIniciais:"",dadosFinais:""},Object(Pt.a)(o,"dadosIniciais",""),Object(Pt.a)(o,"dadosFinais",""),Object(Pt.a)(o,"acessos",[]),Object(Pt.a)(o,"permissoes",[]),Object(Pt.a)(o,"acessosPermissoes",[]),Object(Pt.a)(o,"bloqueado",!1),o),Lt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},_t),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),a=e.props.match.params.id,t.next=4,e.setState({token:e.props.token});case 4:return t.next=6,e.setState({chave:a});case 6:if(0==a){t.next=11;break}return t.next=9,e.setState({ship:e.props.location.state.ship});case 9:return t.next=11,e.loadData(e.props.location.state.ship);case 11:return t.next=13,e.carregaPaises();case 13:return t.next=15,e.getLugares();case 15:return t.next=17,e.carregaTiposAcessos();case 17:return t.next=19,e.carregaPermissoes();case 19:return t.next=21,e.testaAcesso();case 21:if(0==e.state.chave){t.next=24;break}return t.next=24,e.setState({dadosIniciais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)},{titulo:"Bandeira",valor:K.a.formatForLogs(e.state.bandeira,"options","","",e.state.paisesOptions)},{titulo:"IMO",valor:K.a.formatForLogs(e.state.imo)},{titulo:"GRT",valor:K.a.formatForLogs(null===(o=e.state.grt)||void 0===o?void 0:o.replace(/[^0-9\\.]/gi,"").replace(".",","))},{titulo:"DWT",valor:K.a.formatForLogs(null===(n=e.state.dwt)||void 0===n?void 0:n.replace(/[^0-9\\.]/gi,"").replace(".",","))},{titulo:"LOA",valor:K.a.formatForLogs(null===(r=e.state.loa)||void 0===r?void 0:r.replace(/[^0-9\\.]/gi,"").replace(".","."))},{titulo:"BEAM",valor:K.a.formatForLogs(null===(s=e.state.beam)||void 0===s?void 0:s.replace(/[^0-9\\.]/gi,"").replace(".",","))}]});case 24:e.state.acessosPermissoes.map((function(t){("NAVIOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"NAVIOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 25:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.getLugares=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getLugares.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({paises:a.data.paises}),o=e.state.paises.map((function(e){return{label:e.Nome,value:e.Chave}})),e.setState({paisesOptions:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPaises=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPaises.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("false"!=a.data){t.next=4;break}alert("N\xe3o logado!"),t.next=6;break;case 4:return t.next=6,e.setState({paises:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Erro: "+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarNavio=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0,loading:!0}),t.next=6,ae.a.post("insertNavio.php",{token:e.props.token,values:"'".concat(e.state.nome,"', '").concat(e.state.bandeira,"', '").concat(e.state.imo,"', '").concat(null===(o=e.state.grt)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(n=e.state.dwt)||void 0===n?void 0:n.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(r=e.state.loa)||void 0===r?void 0:r.replace(/[^0-9\\,]/gi,"").replace(",","."),"', '").concat(null===(s=e.state.beam)||void 0===s?void 0:s.replace(/[^0-9\\,]/gi,"").replace(",","."),"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=5;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:e.setState({loading:!1,bloqueado:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editarNavio=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c,l,i,u;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=6,e.setState({dadosFinais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)},{titulo:"Bandeira",valor:K.a.formatForLogs(e.state.bandeira,"options","","",e.state.paisesOptions)},{titulo:"IMO",valor:K.a.formatForLogs(e.state.imo)},{titulo:"GRT",valor:K.a.formatForLogs(null===(o=e.state.grt)||void 0===o?void 0:o.replace(/[^0-9\\,]/gi,"").replace(",","."))},{titulo:"DWT",valor:K.a.formatForLogs(null===(n=e.state.dwt)||void 0===n?void 0:n.replace(/[^0-9\\,]/gi,"").replace(",","."))},{titulo:"LOA",valor:K.a.formatForLogs(null===(r=e.state.loa)||void 0===r?void 0:r.replace(/[^0-9\\,]/gi,"").replace(",","."))},{titulo:"BEAM",valor:K.a.formatForLogs(null===(s=e.state.beam)||void 0===s?void 0:s.replace(/[^0-9\\,]/gi,"").replace(",","."))}],loading:!0});case 6:return t.next=8,ae.a.post("updateShip.php",{token:!0,chave:e.state.chave,nome:e.state.nome,bandeira:e.state.bandeira,imo:e.state.imo,grt:null===(c=e.state.grt)||void 0===c?void 0:c.replace(/[^0-9\\,]/gi,"").replace(",","."),dwt:null===(l=e.state.dwt)||void 0===l?void 0:l.replace(/[^0-9\\,]/gi,"").replace(",","."),loa:null===(i=e.state.loa)||void 0===i?void 0:i.replace(/[^0-9\\,]/gi,"").replace(",","."),beam:null===(u=e.state.beam)||void 0===u?void 0:u.replace(/[^0-9\\,]/gi,"").replace(",",".")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_navios",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"NAVIO: ".concat(e.state.nome));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=8;break;case 7:console.log(a.data);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,alert("erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.ver=function(){console.log(e.state.ativo2,e.state.ativo3,e.state.ativo4,e.state.ativo5,e.state.numero)},e.loadData=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===a){t.next=3;break}return t.next=3,e.setState({nome:a.nome,bandeira:a.bandeira,imo:a.imo,grt:null===(o=a.grt)||void 0===o?void 0:o.replace(".",","),dwt:null===(n=a.dwt)||void 0===n?void 0:n.replace(".",","),loa:null===(r=a.loa)||void 0===r?void 0:r.replace(".",","),beam:null===(s=a.beam)||void 0===s?void 0:s.replace(".",",")});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_navios",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.nome),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",null,m.a.createElement(se.a,{voltarShips:!0,titulo:"Navios",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.nome,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},0==this.state.chave&&m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarNavio(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.nome&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.nome,onChange:function(t){return e.setState({nome:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Bandeira")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.paisesOptions,onChange:function(t){e.setState({bandeira:t.label})},autocomplete:"off",placeholder:this.state.bandeira})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"I.M.O.")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.imo,onChange:function(t){return e.setState({imo:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grt")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.grt,onChange:function(t){var a;return e.setState({grt:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Dwt")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.dwt,onChange:function(t){var a;return e.setState({dwt:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Loa")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.loa,onChange:function(t){var a;return e.setState({loa:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Beam")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.beam,onChange:function(t){var a;return e.setState({beam:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"})))),0!=this.state.chave&&m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.editarNavio(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.nome&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.nome,onChange:function(t){return e.setState({nome:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Bandeira")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.paisesOptions,onChange:function(t){e.setState({bandeira:t.label})},autocomplete:"off",placeholder:this.state.bandeira})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"I.M.O.")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.imo,onChange:function(t){return e.setState({imo:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grt")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.grt,onChange:function(t){var a;return e.setState({grt:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Dwt")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.dwt,onChange:function(t){var a;return e.setState({dwt:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Loa")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.loa,onChange:function(t){var a;return e.setState({loa:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Beam")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"text",className:"form-control",value:this.state.beam,onChange:function(t){var a;return e.setState({beam:null===(a=t.currentTarget.value)||void 0===a?void 0:a.replace(/[^0-9\\,]/gi,"")})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"})))),m.a.createElement("div",{className:"col-12 ",style:{display:"flex",justifyContent:"center"}})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-0 col-0"})))))}}]),a}(u.Component),It=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Lt),Mt=(a(664),{descricao:"",data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",agenciamento:"",prazo:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),Rt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Mt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({tiposervico:e.props.location.state.tiposervico});case 9:return t.next=11,e.setState({descricao:e.state.tiposervico.descricao,prazo:e.state.tiposervico.prazo});case 11:return t.next=13,e.carregaTiposAcessos();case 13:return t.next=15,e.carregaPermissoes();case 15:return t.next=17,e.testaAcesso();case 17:if(!e.state.chave){t.next=20;break}return t.next=20,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Prazo",valor:K.a.formatForLogs(e.state.prazo)}]});case 20:e.state.acessosPermissoes.map((function(t){("TIPOS_SERVICOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"TIPOS_SERVICOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 21:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarServico=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Prazo",valor:K.a.formatForLogs(e.state.prazo)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertTipoServico.php",{token:!0,values:"'".concat(e.state.descricao,"', '").concat(e.state.prazo,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("os_tipos_servicos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateTipoServico.php",{token:!0,chave:e.state.chave,descricao:e.state.descricao,prazo:e.state.prazo}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_tipos_servicos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"TIPO DE SERVI\xc7O: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_tipos_servicos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.prazo&&this.state.prazo>0),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarTiposServicos:!0,titulo:"Tipos de Servi\xe7os",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarServico(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-4 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-4 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Prazo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.prazo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y}),this.state.prazo&&this.state.prazo<1&&m.a.createElement(ee.a,{title:"Prazo n\xe3o pode ser menor que 1",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement("input",{type:"number",value:this.state.prazo,onChange:function(t){e.setState({prazo:t.currentTarget.value})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Bt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Rt),qt=(a(665),{data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",descricao:"",grupo:"",grupos:[],gruposOptions:[],acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),Yt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},qt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,console.log(a),t.next=7,e.setState({chave:a});case 7:if(0===parseInt(a)){t.next=12;break}return t.next=10,e.setState({grupo:e.props.location.state.grupo});case 10:return t.next=12,e.setState({descricao:e.state.grupo.descricao});case 12:return t.next=14,e.carregaTiposAcessos();case 14:return t.next=16,e.carregaPermissoes();case 16:return t.next=18,e.testaAcesso();case 18:if(0==e.state.chave){t.next=21;break}return t.next=21,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}]});case 21:e.state.acessosPermissoes.map((function(t){("GRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"GRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 22:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarGrupo=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertGrupo.php",{token:!0,values:"'".concat(e.state.descricao,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("os_grupos_taxas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateGrupo.php",{token:!0,chave:e.state.chave,descricao:e.state.descricao}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_grupos_taxas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"GRUPOS DE TAXAS: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_grupos_taxas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarGrupos:!0,titulo:"Grupos de Taxa",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarGrupo(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-4 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-4 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Vt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Yt),Ut=(a(666),a(667),{pesquisa:"",tipoPesquisa:1,load:100,gruposEscolhidos:[],optionsTexto:""}),zt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)({},Ut),e.componentDidUpdate=function(t,a){t.modalAberto==e.props.modalAberto||e.props.modalAberto||e.setState({gruposEscolhidos:[]})},e.fecharModal=function(){e.props.closeModal()},e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(H.a)(a,[{key:"render",value:function(){var e,t=this,a=[];a.push(this.props.campos.find((function(e){return e.checked}))),a.push(this.state.gruposEscolhidos[0]);var o=a.reduce((function(e,t){return e&&t}));return m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({modalAberto:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalItemContainer darkBack"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fecharModal();case 2:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent darkBack"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,this.props.nome)),m.a.createElement("br",null),m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,t.props.onSubmit(t.state.gruposEscolhidos);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row edit_modal_wrapper"},m.a.createElement("div",{className:"col-12"},m.a.createElement("label",{className:"center"},"Campos")),null===(e=this.props.campos)||void 0===e?void 0:e.map((function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,e.nome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",name:e.nome,checked:e.checked,onChange:function(){var a=Object(G.a)(z.a.mark((function a(o){return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.onChange(t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})))})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Copiar para")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect color_black",options:this.props.subgruposOptions,search:!0,onChange:function(e){t.setState({gruposEscolhidos:[].concat(Object(O.a)(t.state.gruposEscolhidos),[e.value])})}}),this.state.gruposEscolhidos.map((function(e,a){var o;return m.a.createElement("span",{class:"click_to_erase",onClick:function(){return t.setState({gruposEscolhidos:t.state.gruposEscolhidos.filter((function(t){return t!=e}))})}},"".concat(null===(o=t.props.subgruposOptions.find((function(t){return t.value==e})))||void 0===o?void 0:o.label).concat(a!=t.state.gruposEscolhidos.length-1?", ":" "))}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",disabled:!o,style:o?{width:300,backgroundColor:"white"}:{width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))))}}]),a}(u.Component),Gt=zt,Wt={data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",descricao:"",grupo:"",grupos:[],gruposOptions:[],quantidadeCampos:0,campos:[],camposOriginal:[],tiposOptions:[{label:"Texto",value:"TEXTO"},{label:"Lista",value:"LISTA"}],copiarCamposModal:!1,camposCopiar:[],subgruposOptions:[],acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1},Ht=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Wt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=13;break}return t.next=9,e.setState({subgrupo:e.props.location.state.subgrupo});case 9:return t.next=11,e.setState({descricao:e.state.subgrupo.descricao,grupo:e.state.subgrupo.chave_grupo});case 11:return t.next=13,e.carregaCampos();case 13:return t.next=15,e.carregaGrupos();case 15:return t.next=17,e.carregaTiposAcessos();case 17:return t.next=19,e.carregaPermissoes();case 19:return t.next=21,e.testaAcesso();case 21:if(0==e.state.chave){t.next=24;break}return t.next=24,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Grupo",valor:K.a.formatForLogs(e.state.grupo,"options","","",e.state.gruposOptions)}]});case 24:e.state.acessosPermissoes.map((function(t){("SUBGRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"SUBGRUPOS_TAXAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 25:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.carregaGrupos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getGrupos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({grupos:a.data});case 2:return o=e.state.grupos.map((function(e){return{label:e.descricao,value:e.chave}})),t.next=5,e.setState({gruposOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaCampos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getCamposSubgrupos.php",{token:!0,subgrupo:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({campos:a.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{obrigatorio:1==(null===e||void 0===e?void 0:e.obrigatorio)})}))});case 2:e.setState({camposOriginal:e.state.campos});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.setCamposCopiar=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({camposCopiar:e.state.campos.map((function(t,a){return Object(b.a)(Object(b.a)({},t),{},{checked:!1,onChange:function(t){return e.setState({camposCopiar:e.state.camposCopiar.map((function(e,a){return a===t?Object(b.a)(Object(b.a)({},e),{},{checked:!e.checked}):Object(b.a)({},e)}))})}})}))}),t.next=3,le.a.getBase("getSubgrupos.php");case 3:o=t.sent,e.setState({subgruposOptions:null===(a=o.filter((function(t){return t.chave!=e.state.chave})))||void 0===a?void 0:a.map((function(e){return{label:e.descricao,value:e.chave}}))});case 5:case"end":return t.stop()}}),t)}))),e.salvarSubgrupo=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Grupo",valor:K.a.formatForLogs(e.state.grupo,"options","","",e.state.gruposOptions)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=12;break}return t.next=7,ae.a.post("insertSubgrupo.php",{token:!0,values:"'".concat(e.state.descricao,"', '").concat(e.state.grupo,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:if(!e.state.campos[0]){t.next=10;break}return t.next=10,ae.a.post("insertSubgrupoCampos.php",{token:!0,values:e.state.campos,subgrupo:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data){t.next=3;break}return t.next=3,e.setState({loading:!1,bloqueado:!1});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:t.next=22;break;case 12:if(!a){t.next=22;break}return t.next=15,ae.a.post("updateSubgrupo.php",{token:!0,chave:e.state.chave,descricao:e.state.descricao,grupo:e.state.grupo}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_subgrupos_taxas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"SUBGRUPOS DE TAXAS: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:if(!e.state.campos.find((function(e){return 0!=(null===e||void 0===e?void 0:e.chave)}))&&!e.state.camposOriginal[0]){t.next=18;break}return t.next=18,ae.a.post("updateSubgrupoCampos.php",{token:!0,values:e.state.campos.filter((function(e){return 0!=(null===e||void 0===e?void 0:e.chave)})),subgrupo:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data){t.next=3;break}return t.next=3,e.setState({loading:!1,bloqueado:!1});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:if(!e.state.campos[0]){t.next=22;break}if(!e.state.campos.find((function(e){return 0==(null===e||void 0===e?void 0:e.chave)}))){t.next=22;break}return t.next=22,ae.a.post("insertSubgrupoCampos.php",{token:!0,values:e.state.campos.filter((function(e){return 0==(null===e||void 0===e?void 0:e.chave)})),subgrupo:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data){t.next=5;break}return t.next=3,e.carregaCampos();case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.copiarCampos=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("insertCamposCopiados.php",{campos:null===(o=e.state.camposCopiar.filter((function(e){return e.checked})))||void 0===o?void 0:o.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{obrigatorio:e.obrigatorio?1:0,onChange:void 0,checked:void 0})})),subgrupos:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_subgrupos_taxas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.grupo),t.push(!this.state.campos[0]||!this.state.campos.find((function(e,t){return""==e.nome||""==e.tipo}))),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarSubgrupos:!0,titulo:"Subgrupos de Taxa",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Gt,{modalAberto:this.state.copiarCamposModal,closeModal:function(){e.setState({copiarCamposModal:!1})},campos:this.state.camposCopiar,subgruposOptions:this.state.subgruposOptions,nome:this.state.descricao,onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.copiarCampos(a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarSubgrupo(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grupo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.grupo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.gruposOptions,value:this.state.gruposOptions.filter((function(t){return t.value==e.state.grupo})),search:!0,onChange:function(t){e.setState({grupo:t.value})}})),m.a.createElement("div",null,m.a.createElement("hr",{style:{color:"#cfcfcf"}})),m.a.createElement("div",{className:"col-12 text-center labelForm"},m.a.createElement("label",null,"Campos")),this.state.campos.map((function(t,a){var o,n,r,s;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-12",style:{color:"white",display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{style:{border:"1px solid white",borderRadius:100,minHeight:30,minWidth:30,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){return e.setState({campos:e.state.campos.filter((function(e,t){return t!==a}))})}},"X")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!(null===(o=e.state.campos[a])||void 0===o?void 0:o.nome)&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:null===(n=e.state.campos[a])||void 0===n?void 0:n.nome,onChange:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({campos:e.state.campos.map((function(e,t){return t===a?Object(b.a)(Object(b.a)({},e),{},{nome:o.currentTarget.value}):Object(b.a)({},e)}))});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1 errorMessage"},!(null===(r=e.state.campos[a])||void 0===r?void 0:r.tipo)&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:e.state.tiposOptions,value:e.state.tiposOptions.filter((function(t){var o;return t.value==(null===(o=e.state.campos[a])||void 0===o?void 0:o.tipo)})),search:!0,onChange:function(t){e.setState({campos:e.state.campos.map((function(e,o){return o===a?Object(b.a)(Object(b.a)({},e),{},{tipo:t.value}):Object(b.a)({},e)}))})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Obrigat\xf3rio?")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:null===(s=e.state.campos[a])||void 0===s?void 0:s.obrigatorio,onChange:function(t){e.setState({campos:e.state.campos.map((function(e,o){return o===a?Object(b.a)(Object(b.a)({},e),{},{obrigatorio:t.target.checked}):Object(b.a)({},e)}))})},type:"checkbox"})),m.a.createElement("div",null,m.a.createElement("hr",{style:{color:"#cfcfcf"}})))})),m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("span",{onClick:function(){return e.setState({campos:[].concat(Object(O.a)(e.state.campos),[{chave:0,nome:"",tipo:"",obrigatorio:!1}])})},style:{color:"#00CCFF",textDecoration:"underline",cursor:"pointer"}},"Adicionar um campo")),this.state.campos.length>0&&m.a.createElement("div",{className:"col-12 text-center"},m.a.createElement("span",{onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setCamposCopiar();case 2:e.setState({copiarCamposModal:!0});case 3:case"end":return t.stop()}}),t)}))),style:{color:"#00CCFF",textDecoration:"underline",cursor:"pointer"}},"Copiar campos")))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Xt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ht),Jt=(a(668),{porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:[],dadosFinais:[],acessos:[],permissoes:[],acessosPermissoes:[],descricao:"",sigla:"",plural:"",cotacao:"",data:N()().format("YYYY-MM-DD"),bloqueado:!1}),$t=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Jt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({moeda:e.props.location.state.moeda});case 9:return t.next=11,e.setState({descricao:e.state.moeda.Descricao,sigla:e.state.moeda.Sigla,plural:e.state.moeda.plural,cotacao:new Intl.NumberFormat("pt-BR").format(e.state.moeda.Ultima_Cotacao)});case 11:return t.next=13,e.carregaTiposAcessos();case 13:return t.next=15,e.carregaPermissoes();case 15:return t.next=17,e.testaAcesso();case 17:if(0==e.state.chave){t.next=20;break}return t.next=20,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Sigla",valor:K.a.formatForLogs(e.state.sigla)},{titulo:"Plural",valor:K.a.formatForLogs(e.state.plural)},{titulo:"Cota\xe7\xe3o",valor:K.a.formatForLogs(e.state.cotacao,"money")}]});case 20:e.state.acessosPermissoes.map((function(t){("MOEDAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"MOEDAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 21:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarMoeda=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Sigla",valor:K.a.formatForLogs(e.state.sigla)},{titulo:"Plural",valor:K.a.formatForLogs(e.state.plural)},{titulo:"Cota\xe7\xe3o",valor:K.a.formatForLogs(e.state.cotacao,"money")}],loading:!0});case 2:if(e.setState({bloqueado:!0}),0!==parseInt(e.state.chave)||!a){t.next=8;break}return t.next=6,ae.a.post("insertMoeda.php",{token:!0,values:"'".concat(e.state.descricao,"', '").concat(e.state.sigla,"', '").concat(e.state.plural,"', '").concat(parseFloat(e.state.cotacao.replaceAll(".","").replaceAll(",",".")),"'"),values2:"'".concat(e.state.data,"', '").concat(e.state.cotacao,"'"),search:"Descricao = '".concat(e.state.descricao,"' AND Sigla = '").concat(e.state.sigla,"' AND plural = '").concat(e.state.plural,"' AND Ultima_Cotacao = '").concat(e.state.cotacao,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("moedas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=10;break;case 9:alert("Erro: ".concat(JSON.stringify(a)));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=11;break;case 8:if(!a){t.next=11;break}return t.next=11,ae.a.post("updateMoeda.php",{token:!0,chave:e.state.chave,Descricao:e.state.descricao,Sigla:e.state.sigla,plural:e.state.plural,Ultima_Cotacao:parseFloat(e.state.cotacao.replaceAll(".","").replaceAll(",",".")),data:e.state.data}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("moedas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"MOEDA: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=16;break;case 7:if(!a.data||!a.data.includes("Duplicate")){t.next=14;break}return t.next=10,alert("N\xe3o foi possivel alterar a moeda, o valor j\xe1 foi alterado na data de hoje");case 10:return t.next=12,e.setState({loading:!1,bloqueado:!1});case 12:t.next=16;break;case 14:return t.next=16,alert("Erro ".concat(JSON.stringify(a)));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.guessPlural=function(t){e.setState({descricao:t});var a=t.trim(),o=a.slice(-1);"m"==o?a=a.substring(0,a.length-1)+"ns":"l"==o?a=a.substring(0,a.length-1)+"is":["a","e","i","o","u"].includes(o)?a+="s":""!=a&&(a+="es"),e.setState({plural:a})},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("moedas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.plural),t.push(this.state.cotacao&&this.state.cotacao.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.cotacao.replaceAll(".","").replaceAll(",","."))),t.push(this.state.sigla),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarMoedas:!0,titulo:"Moedas",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarMoeda(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.guessPlural(a.currentTarget.value);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Forma plural")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.plural&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.plural,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({plural:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Sigla")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.sigla&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.sigla,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({sigla:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cota\xe7\xe3o atual")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cotacao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y}),this.state.cotacao&&!this.state.cotacao.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.cotacao.replaceAll(".","").replaceAll(",","."))&&m.a.createElement(ee.a,{title:"Apenas numeros s\xe3o permitidos",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.cotacao,onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({cotacao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({cotacao:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Kt=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)($t),Qt=(a(669),a(76)),Zt={data:"",porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",descricao:"",valor:"",variavel:!1,moeda:5,tipo:"P",conta_contabil:"",conta_credito:"",historico_padrao:"",formula_ate:"",subgrupo:"",portos:[],salvarPortos:!1,portosContas:[],hideTaxaPortos:!0,moedas:[],subgrupos:[],subgruposOptions:[],planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",historicos:[],historicosOptions:[],historicosOptionsTexto:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,modal:!1,modalLista:[],modalPesquisa:"",tiposOptions:[{label:"Pagar",value:"P"},{label:"Receber",value:"R"},{label:"Government Taxes",value:"GT"},{label:"Bank Charges",value:"BC"}]},ea=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Zt),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({taxa:e.props.location.state.taxa});case 9:return t.next=11,e.setState({descricao:e.state.taxa.descricao,valor:new Intl.NumberFormat("pt-BR").format(e.state.taxa.valor),variavel:1==e.state.taxa.variavel,moeda:e.state.taxa.Moeda,tipo:e.state.taxa.Tipo,conta_contabil:e.state.taxa.Conta_Contabil,conta_credito:e.state.taxa.conta_credito,historico_padrao:e.state.taxa.historico_padrao,formula_ate:e.state.taxa.formula_ate,subgrupo:e.state.taxa.sub_grupo});case 11:return t.next=13,e.loadAll();case 13:if(0==e.state.chave){t.next=16;break}return t.next=16,e.setState({dadosIniciais:[{titulo:"Descricao",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Vari\xe1vel",valor:K.a.formatForLogs(e.state.variavel,"bool")},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposOptions)},{titulo:"Conta Contabil",valor:K.a.formatForLogs(e.state.conta_contabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Credito",valor:K.a.formatForLogs(e.state.conta_credito,"options","","",e.state.planosContasOptions)},{titulo:"Historico Padr\xe3o",valor:K.a.formatForLogs(e.state.historico_padrao)},{titulo:"Formula Ate",valor:K.a.formatForLogs(e.state.formula_ate)},{titulo:"Subgrupo",valor:K.a.formatForLogs(e.state.subgrupo,"options","","",e.state.subgruposOptions)}]});case 16:e.state.acessosPermissoes.map((function(t){("TAXAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"TAXAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 17:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposAcessos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPermissoes.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getMoedas.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getSubgrupos.php");case 12:return t.t4=t.sent,t.next=15,le.a.getBaseOptions("getSubgrupos.php","descricao","chave");case 15:return t.t5=t.sent,t.next=18,le.a.getBase("getPlanosContasAnaliticas.php");case 18:return t.t6=t.sent,t.next=21,le.a.getBase("getHistoricos.php");case 21:return t.t7=t.sent,t.next=24,le.a.getBaseOptions("getHistoricos.php","Descricao","chave");case 24:return t.t8=t.sent,t.next=27,le.a.getBase("getPortos.php");case 27:return t.t9=t.sent,t.t10={acessos:t.t1,permissoes:t.t2,moedas:t.t3,subgrupos:t.t4,subgruposOptions:t.t5,planosContas:t.t6,historicos:t.t7,historicosOptions:t.t8,portos:t.t9},t.next=31,t.t0.setState.call(t.t0,t.t10);case 31:if(!e.state.chave){t.next=39;break}return t.t11=e,t.next=35,le.a.getBody("getTaxasPortos.php",{chave:e.state.chave});case 35:return t.t12=t.sent,t.t13={portosContas:t.t12},t.next=39,t.t11.setState.call(t.t11,t.t13);case 39:return t.next=41,le.a.getBaseOptions("getPlanosContas.php","Descricao","Chave");case 41:return(a=t.sent).unshift({label:"---",value:""}),t.next=45,e.setState({planosContasOptions:a});case 45:return t.t14=e,t.next=48,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 48:return t.t15=t.sent,t.t16={acessosPermissoes:t.t15},t.next=52,t.t14.setState.call(t.t14,t.t16);case 52:case"end":return t.stop()}}),t)}))),e.mudaTaxaPorto=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n){var r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.portosContas.find((function(e){return e.porto===o.Chave}))?(r=e.state.portosContas.map((function(e){return e.porto!==o.Chave?e:"local"==n?Object(b.a)(Object(b.a)({},e),{},{conta:a}):"estrangeira"==n?Object(b.a)(Object(b.a)({},e),{},{conta_estrangeira:a}):void 0})),e.setState({portosContas:r})):(s=e.state.portosContas,"local"==n?s.push({chave:0,taxa:e.state.chave,porto:o.Chave,conta:a}):"estrangeira"==n&&s.push({chave:0,taxa:e.state.chave,porto:o.Chave,conta_estrangeira:a}),e.setState({portosContas:s})),e.state.salvarPortos||e.setState({salvarPortos:!0});case 2:case"end":return t.stop()}}),t)})));return function(e,a,o){return t.apply(this,arguments)}}(),e.salvarTaxa=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.variavel?e.setState({variavel:1}):e.setState({variavel:0}),e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"Descricao",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Vari\xe1vel",valor:K.a.formatForLogs(e.state.variavel,"bool")},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposOptions)},{titulo:"Conta Contabil",valor:K.a.formatForLogs(e.state.conta_contabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Credito",valor:K.a.formatForLogs(e.state.conta_credito,"options","","",e.state.planosContasOptions)},{titulo:"Historico Padr\xe3o",valor:K.a.formatForLogs(e.state.historico_padrao)},{titulo:"Formula Ate",valor:K.a.formatForLogs(e.state.formula_ate)},{titulo:"Subgrupo",valor:K.a.formatForLogs(e.state.subgrupo,"options","","",e.state.subgruposOptions)}]});case 5:if(0!==parseInt(e.state.chave)||!a){t.next=10;break}return t.next=8,ae.a.post("insertTaxa.php",{token:!0,values:"'".concat(e.state.descricao,"', '").concat(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.variavel,"', '").concat(e.state.moeda,"', '").concat(e.state.tipo,"', '").concat(e.state.conta_contabil,"', '").concat(e.state.historico_padrao,"', '").concat(e.state.formula_ate,"', '").concat(e.state.subgrupo,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:t.next=13;break;case 10:if(!a){t.next=13;break}return t.next=13,ae.a.post("updateTaxa.php",{token:!0,chave:e.state.chave,descricao:e.state.descricao,valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),variavel:e.state.variavel,Moeda:e.state.moeda,Tipo:e.state.tipo,Conta_Contabil:e.state.conta_contabil,conta_credito:e.state.conta_credito,historico_padrao:e.state.historico_padrao,formula_ate:e.state.formula_ate,sub_grupo:e.state.subgrupo}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_taxas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"TAXA: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarPortosContas=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.portosContas.filter((function(e){return""!==e.porto})),t.next=3,ae.a.post("setTaxasPortos.php",{token:!0,chaves:a.map((function(e){return e.chave})),portos:a.map((function(e){return e.porto})),taxa:e.state.chave,contas:a.map((function(e){return e.conta})),contas_est:a.map((function(e){return e.conta_estrangeira}))}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),console.log(t.data),window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)}))),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraSubgrupo=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({subgrupo:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.next=6,e.carregaSubgrupos();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraPlanoConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("A"!=o){t.next=3;break}return t.next=3,e.setState({conta_contabil:a});case 3:return t.next=5,e.setState({modalAberto:!1});case 5:return t.next=7,e.carregaPlanosContas();case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;if(e.label){var a=t.toUpperCase();return e.label.toUpperCase().includes(a)||"".concat(e.value).toUpperCase().includes(a)}},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_taxas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.valor&&parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))>=0),t.push(this.state.subgrupo),t.push(this.state.moeda),t.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarTaxas:!0,titulo:"Taxas",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Qt.a,{alteraModal:this.alteraModal,alteraSubgrupo:this.alteraSubgrupo,alteraPlanoConta:this.alteraPlanoConta,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){e.setState({modalAberto:!1})},pesquisa:this.state.modalPesquisa}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarTaxa(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.valor&&m.a.createElement(ee.a,{title:"Preencha os campos",icon:ne.y}),!this.state.moeda&&m.a.createElement(ee.a,{title:"Preencha os campos",icon:ne.y}),"0,00"!=this.state.valor&&this.state.valor&&this.state.moeda&&!this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))&&m.a.createElement(ee.a,{title:"Apenas n\xfameros s\xe3o permitidos",icon:ne.y})),m.a.createElement("div",{className:"fieldDividido col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control fieldDividido_1",value:this.state.moeda,onChange:function(t){e.setState({moeda:t.target.value})}},this.state.moedas.map((function(e){return m.a.createElement("option",{value:e.Chave},e.Sigla)}))),m.a.createElement($.a,{className:"form-control fieldDividido_2 text-right",type:"text",value:this.state.valor,onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({valor:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({valor:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grupo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.subgrupo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.subgruposOptions,value:this.state.subgruposOptions.filter((function(t){return t.value==e.state.subgrupo})),search:!0,onChange:function(t){e.setState({subgrupo:t.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("TIPOS_SERVICOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){e.setState({modalPesquisa:e.state.subgrupo&&0!=e.state.subgrupo?e.state.subgrupo:"",modalAberto:!0,modal:"listarSubgrupos",modalLista:e.state.subgrupos})}},"...")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.tipo,onChange:function(t){e.setState({tipo:t.currentTarget.value})}},this.state.tiposOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Variavel")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.variavel,onChange:function(t){e.setState({variavel:t.target.checked})},type:"checkbox"})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"})))))),this.state.chave&&m.a.createElement("div",null,m.a.createElement("table",{className:"taxaPortoTable"},m.a.createElement("tr",{className:"taxaPortoTr",style:{cursor:"pointer"},onClick:function(){return e.setState({hideTaxaPortos:!e.state.hideTaxaPortos})}},m.a.createElement("th",{className:"taxaPortoTh",colSpan:3},"Contas por Portos")),!this.state.hideTaxaPortos&&m.a.createElement(m.a.Fragment,null,m.a.createElement("tr",{className:"taxaPortoTr"},m.a.createElement("th",{className:"taxaPortoTh",style:{backgroundColor:"black",color:"white"}},"Porto"),m.a.createElement("th",{className:"taxaPortoTh",style:{backgroundColor:"black",color:"white"}},"Conta"),m.a.createElement("th",{className:"taxaPortoTh",style:{backgroundColor:"black",color:"white"}},"Conta (estrangeira)")),this.state.portos.map((function(t,a){return m.a.createElement("tr",{className:"taxaPortoTr ".concat(a%2==0?"taxaPortoPar":"taxaPortoImpar")},m.a.createElement("td",{className:"taxaPortoTd"},t.Descricao),m.a.createElement("td",{className:"taxaPortoTd keepColor"},m.a.createElement(pe.a,{options:e.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,60),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:e.state.portosContas.find((function(e){return e.porto===t.Chave}))?e.state.planosContasOptions.find((function(a){return a.value==e.state.portosContas.find((function(e){return e.porto===t.Chave})).conta})):"",onChange:function(a){return e.mudaTaxaPorto(a.value,t,"local")}})),m.a.createElement("td",{className:"taxaPortoTd keepColor"},m.a.createElement(pe.a,{options:e.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,60),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:e.state.portosContas.find((function(e){return e.porto===t.Chave}))?e.state.planosContasOptions.find((function(a){return a.value==e.state.portosContas.find((function(e){return e.porto===t.Chave})).conta_estrangeira})):"",onChange:function(a){return e.mudaTaxaPorto(a.value,t,"estrangeira")}})))})))),this.state.salvarPortos&&m.a.createElement("div",{className:"centerDiv",style:{marginTop:5}},m.a.createElement("button",{className:"salvarPortosButton",onClick:function(){return e.salvarPortosContas()}},"Salvar")))),m.a.createElement(re.a,null))}}]),a}(u.Component),ta=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ea),aa=(a(672),a(129)),oa=a.n(aa),na=a(1007),ra={porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,modalItemAberto:!1,itemInfo:[],itemNome:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",dadosIniciais:"",dadosFinais:"",nome:"",nome_fantasia:"",cnpj_cpf:"",cnpj_cpfLimpo:"",rg_ie:"",inscricao_municipal:"",inclusao:N()().format("YYYY-MM-DD"),categoria:{cliente:!1,fornecedor:!1,prestador_servico:!1,transportador:!1,banco:!1,adm_cartao:!1,adm_convenio:!1},nascimento:N()(),contato:[],endereco:[],contaContabil:"",contaProvisao:"",contaFaturar:"",Indicado:null,cidades:[],cidadesOptions:[],deleteContato:!1,deleteEndereco:!1,planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",estados:[],estadosOptions:[],paises:[],paisesOptions:[],enderecos:[],contatos:[],acessos:[],permissoes:[],acessosPermissoes:[],cpfAprovado:!1,proibido:!1,bloqueado:!1,pessoa:[],pessoas:[],pessoasOptions:[],pessoasOptionsTexto:"",apontadoPor:0},sa=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},ra),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a,loading:!0});case 6:if(e.props.location.state&&e.props.location.state.pessoa){t.next=11;break}return t.next=9,e.getPessoa();case 9:t.next=13;break;case 11:return t.next=13,e.setState({pessoa:e.props.location.state.pessoa});case 13:if(console.log(e.state.Indicado),0===parseInt(a)||!e.state.pessoa){t.next=19;break}return t.next=17,e.setState({nome:e.state.pessoa.Nome,nome_fantasia:e.state.pessoa.Nome_Fantasia,cnpj_cpf:e.state.pessoa.Cnpj_Cpf,rg_ie:e.state.pessoa.Rg_Ie,inscricao_municipal:e.state.pessoa.Inscricao_Municipal,nascimento:e.state.pessoa.Nascimento_Abertura,inclusao:e.state.pessoa.Inclusao,contaContabilInicial:e.state.pessoa.Conta_Contabil,contaProvisaoInicial:e.state.pessoa.Conta_Provisao,contaFaturaInicial:e.state.pessoa.Conta_Fatura,contaContabil:e.state.pessoa.Conta_Contabil,contaProvisao:e.state.pessoa.Conta_Provisao,contaFaturar:e.state.pessoa.Conta_Faturar,Indicado:e.state.pessoa.Indicado});case 17:return t.next=19,e.converteCategoria();case 19:return t.next=21,e.getPessoas();case 21:return t.next=23,e.loadAll();case 23:return t.next=25,e.getPessoaEnderecos();case 25:return t.next=27,e.getPessoaContatos();case 27:return t.next=29,e.getTipos();case 29:return t.next=31,e.adicionaInformacao();case 31:if(0==e.state.chave){t.next=34;break}return t.next=34,e.setState({dadosIniciais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)},{titulo:"Nome Fantasia",valor:K.a.formatForLogs(e.state.nome_fantasia)},{titulo:"Cnpj/Cpf",valor:K.a.formatForLogs(e.state.cnpj_cpf)},{titulo:"Rg/Ie",valor:K.a.formatForLogs(e.state.rg_ie)},{titulo:"Inscri\xe7\xe3o Municipal",valor:K.a.formatForLogs(e.state.inscricao_municipal)},{titulo:"Nascimento/Abertura",valor:K.a.formatForLogs(e.state.nascimento,"date")},{titulo:"Inclus\xe3o",valor:K.a.formatForLogs(e.state.inclusao,"date")},{titulo:"Conta Pagar",valor:K.a.formatForLogs(e.state.contaProvisao,"options","","",e.state.planosContasOptions)},{titulo:"Conta Receber",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Faturar",valor:K.a.formatForLogs(e.state.contaFaturar,"options","","",e.state.planosContasOptions)}]});case 34:e.state.acessosPermissoes.map((function(t){("PESSOAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"PESSOAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 35:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getPlanosContasAnaliticas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getPlanosContasAnaliticasOptions();case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getTiposAcessos.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getPermissoes.php");case 12:return t.t4=t.sent,t.t5={planosContas:t.t1,planosContasOptions:t.t2,acessos:t.t3,permissoes:t.t4},t.next=16,t.t0.setState.call(t.t0,t.t5);case 16:return t.t6=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t7=t.sent,t.t8={acessosPermissoes:t.t7,loading:!1},t.next=23,t.t6.setState.call(t.t6,t.t8);case 23:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.cnpj_cpf!=e.state.cnpj_cpf&&(n=/\d+/g,r="",e.state.cnpj_cpf&&("___.___.___-__"!=e.state.cnpj_cpf&&""!=e.state.cnpj_cpf&&(s=e.state.cnpj_cpf.match(n),r="",s&&s[0]&&(r=s.join(""))),e.state.cnpj_cpf.length>10&&e.setState({cnpj_cpfLimpo:r}))),!e.state.deleteContato||e.state.modalItemAberto==o.modalItemAberto){t.next=4;break}return t.next=4,e.setState({modalItemAberto:!1,deleteContato:!1});case 4:if(!e.state.deleteEndereco||e.state.modalItemAberto==o.modalItemAberto){t.next=7;break}return t.next=7,e.setState({modalItemAberto:!1,deleteEndereco:!1});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getPessoa=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoa.php",{token:!0,chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoa:a.data[0]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:(o=e.state.pessoas.map((function(e){return{label:e.Nome,value:e.Chave}}))).unshift({label:"Nenhum",value:0}),e.setState({pessoasOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getPessoaEnderecos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.chave){t.next=3;break}return t.next=3,ae.a.post("getEnderecos.php",{token:!0,pessoa:e.props.match.params.id}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({enderecos:a.data});case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 3:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteEndereco=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteEndereco:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse endere\xe7o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteEndereco.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getPessoaContatos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.chave){t.next=3;break}return t.next=3,ae.a.post("getContatos.php",{token:!0,pessoa:e.props.match.params.id}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contatos:a.data});case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 3:case"end":return t.stop()}}),t)}))),e.getTipos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposComplementares.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({tipos:a.data});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.adicionaInformacao=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.contatos.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{tipoNome:e.state.tipos.filter((function(e){return e.Codigo==t.Tipo}))[0].Descricao})})),t.next=3,e.setState({contatos:a});case 3:case"end":return t.stop()}}),t)}))),e.deleteContato=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteContato:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse contato? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteContato.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.converteCategoria=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.pessoa.Categoria.split(""),o=a.map((function(e){return 1==e})),a={cliente:o[0],fornecedor:o[1],prestador_servico:o[2],transportador:o[3],banco:o[4],adm_cartao:o[5],adm_convenio:o[6]},e.setState({categoria:a});case 4:case"end":return t.stop()}}),t)}))),e.carregaLugares=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getLugares",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({paises:a.data.paises,estados:a.data.estados,cidades:a.data.cidades}),o=e.state.paises.map((function(e){return{label:e.Descricao,value:e.Chave}})),e.setState({paisesOptions:o}),o=e.state.estados.map((function(e){return{label:e.Descricao,value:e.Chave,pais:e.Pais}})),e.setState({estadosOptions:o}),o=e.state.cidades.map((function(e){return{label:e.Descricao,value:e.Chave,estado:e.Estado}})),e.setState({cidadesOptions:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaCpf=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("testaCpf.php",{token:!0,Cnpj_Cpf:e.state.cnpj_cpfLimpo}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.data[0]&&a.data[0].Chave!=e.state.chave&&""!=e.state.cnpj_cpfLimpo.trim()){t.next=5;break}return t.next=3,e.setState({cpfAprovado:!0});case 3:t.next=8;break;case 5:return t.next=7,e.setState({pessoa:a.data[0]});case 7:e.setState({nome:e.state.pessoa.Nome,nome_fantasia:e.state.pessoa.Nome_Fantasia,cnpj_cpf:e.state.pessoa.Cnpj_Cpf,rg_ie:e.state.pessoa.Rg_Ie,nascimento:e.state.pessoa.Nascimento_Abertura,inclusao:e.state.pessoa.Inclusao,chave:e.state.pessoa.Chave});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarPessoa=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState(Object(b.a)({},K.a.cleanStates(e.state))),o=(o=[e.state.categoria.cliente?1:0,e.state.categoria.fornecedor?1:0,e.state.categoria.prestador_servico?1:0,e.state.categoria.transportador?1:0,e.state.categoria.banco?1:0,e.state.categoria.adm_cartao?1:0,e.state.categoria.adm_convenio?1:0]).join(""),a){t.next=5;break}return t.abrupt("return");case 5:if(""==e.state.cnpj_cpfLimpo.trim()){t.next=10;break}return t.next=8,e.testaCpf();case 8:if(e.state.cpfAprovado){t.next=10;break}return t.abrupt("return");case 10:if(e.setState({bloqueado:!0}),e.setState({dadosFinais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)},{titulo:"Nome Fantasia",valor:K.a.formatForLogs(e.state.nome_fantasia)},{titulo:"Cnpj/Cpf",valor:K.a.formatForLogs(e.state.cnpj_cpf)},{titulo:"Rg/Ie",valor:K.a.formatForLogs(e.state.rg_ie)},{titulo:"Inscri\xe7\xe3o Municipal",valor:K.a.formatForLogs(e.state.inscricao_municipal)},{titulo:"Nascimento/Abertura",valor:K.a.formatForLogs(e.state.nascimento,"date")},{titulo:"Inclus\xe3o",valor:K.a.formatForLogs(e.state.inclusao,"date")},{titulo:"Conta Pagar",valor:K.a.formatForLogs(e.state.contaProvisao,"options","","",e.state.planosContasOptions)},{titulo:"Conta Receber",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Faturar",valor:K.a.formatForLogs(e.state.contaFaturar,"options","","",e.state.planosContasOptions)}],loading:!0}),0!=e.state.chave){t.next=17;break}return t.next=15,ae.a.post("insertPessoa.php",{token:!0,values:'"'.concat(e.state.nome.replaceAll("'","'"),"\", '").concat(e.state.nome_fantasia.replaceAll("'","'"),"', '").concat(e.state.cnpj_cpfLimpo,"', '").concat(e.state.rg_ie,"', '").concat(e.state.inscricao_municipal,"', '").concat(e.state.nascimento,"', '").concat(e.state.inclusao,"', '").concat(o,"', '").concat(e.state.contaContabil,"', '").concat(e.state.contaProvisao,"', '").concat(e.state.contaFaturar,"', ").concat(parseInt(e.state.apontadoPor))}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:t.next=19;break;case 17:return t.next=19,ae.a.post("updatePessoa.php",{token:!0,Chave:e.state.chave,Nome:e.state.nome.replaceAll("'","'"),Nome_Fantasia:e.state.nome_fantasia.replaceAll("'","'"),Cnpj_Cpf:e.state.cnpj_cpfLimpo,Rg_Ie:e.state.rg_ie,Inscricao_Municipal:e.state.inscricao_municipal,Nascimento_Abertura:e.state.nascimento,Inclusao:e.state.inclusao,Categoria:o,Conta_Contabil:e.state.contaContabil,Conta_Provisao:e.state.contaProvisao,Conta_Faturar:e.state.contaFaturar,Indicado:e.state.apontadoPor}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!0!==a.data){t.next=8;break}return t.next=4,le.a.salvaLogs("pessoas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"PESSOA: ".concat(e.state.nome));case 4:return t.next=6,e.setState({loading:!1,bloqueado:!1});case 6:t.next=8;break;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alertSaved=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var a=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Pessoa salva!"),m.a.createElement("button",{style:{textAlign:"center"},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({redirectSaved:!0}),a();case 2:case"end":return t.stop()}}),t)})))},"Ok"))}});case 1:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("pessoas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.nome),t.push(!this.state.cnpj_cpfLimpo||11==this.state.cnpj_cpfLimpo.length||14==this.state.cnpj_cpfLimpo.length),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.loading&&m.a.createElement(na.a,null),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,itemPermissao:this.state.itemPermissao,modalAberto:this.state.modalItemAberto,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarPessoas:!0,titulo:"Pessoas",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.nome,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarPessoa(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"CPF/CNPJ")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(oa.a,{type:"text",mask:this.state.cnpj_cpfLimpo.length<=11?"999.999.999-99":"99.999.999/9999-99",className:"form-control",value:this.state.cnpj_cpf,onChange:function(t){return e.setState({cnpj_cpf:t.currentTarget.value})},onKeyDown:function(t){11==e.state.cnpj_cpfLimpo.length&&t.nativeEvent.key==parseInt(t.nativeEvent.key)&&e.setState({cnpj_cpfLimpo:"".concat(e.state.cnpj_cpfLimpo).concat(t.nativeEvent.key)})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.nome&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.nome,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({nome:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome Fantasia")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.nome_fantasia,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({nome_fantasia:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"RG/IE")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.rg_ie,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({rg_ie:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Inscri\xe7\xe3o Municipal")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.inscricao_municipal,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({inscricao_municipal:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Apontado por:")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions,value:this.state.pessoasOptions.filter((function(t){return t.value==e.state.Indicado?e.state.Indicado:0})),onInputChange:function(t){e.setState({pessoasOptionsTexto:t})},defaultValue:this.state.pessoasOptions.filter((function(t){return t.value==e.state.apontadoPor})),onChange:function(t){e.setState({apontadoPor:t.value}),e.setState({Indicado:t.value})}}),console.log(this.state.Indicado?this.state.Indicado:"oi ")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nascimento / Abertura")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.nascimento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({nascimento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),this.state.categoria.cliente&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Contabil - Receber")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.contaContabil}))[0],search:!0,onChange:function(t){e.setState({contaContabil:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Contabil - Faturar")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.contaFaturar}))[0],search:!0,onChange:function(t){e.setState({contaFaturar:t.value})}}))),this.state.categoria.fornecedor&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Contabil - Pagar")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.contaProvisao}))[0],search:!0,onChange:function(t){e.setState({contaProvisao:t.value})}}))),m.a.createElement("div",{className:"col-12"},m.a.createElement("label",{className:"center"},"Categorias")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cliente")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",name:"cliente",checked:this.state.categoria.cliente,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({categoria:Object(b.a)(Object(b.a)({},e.state.categoria),{},{cliente:a.target.checked})});case 2:if(!a.target.checked){t.next=7;break}return t.next=5,e.setState({contaContabil:e.state.contaContabilInicial,contaFaturar:e.state.contaFaturaInicial});case 5:t.next=9;break;case 7:return t.next=9,e.setState({contaContabil:"",contaFaturar:""});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",name:"fornecedor",checked:this.state.categoria.fornecedor,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({categoria:Object(b.a)(Object(b.a)({},e.state.categoria),{},{fornecedor:a.target.checked})}),!a.target.checked){t.next=6;break}return t.next=4,e.setState({contaProvisao:e.state.contaProvisaoInicial});case 4:t.next=8;break;case 6:return t.next=8,e.setState({contaProvisao:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Banco")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",name:"banco",checked:this.state.categoria.banco,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({categoria:Object(b.a)(Object(b.a)({},e.state.categoria),{},{banco:a.target.checked})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h3",null,"ENDERECOS"))),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},window.innerWidth>=500&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Cep")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(this.state.chave,"/0"),state:{endereco:{},pessoa:Object(b.a)({},this.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M})))),window.innerWidth<500&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center"},m.a.createElement("span",{className:"subtituloships"},"Endere\xe7o")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Cep")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(this.state.chave,"/0"),state:{endereco:{},pessoa:Object(b.a)({},this.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M}))))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.enderecos[0]&&this.state.enderecos.map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags par":"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("p",null,t.Endereco)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Cep)),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteEndereco(t.Chave,t.Endereco)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Tipo",valor:["Padr\xe3o","Entrega","Cobran\xe7a","Residencial"][t.Tipo]},{titulo:"Endere\xe7o",valor:t.Endereco},{titulo:"Numero",valor:t.Numero},{titulo:"Complemento",valor:t.Complemento},{titulo:"Bairro",valor:t.bairro},{titulo:"Cidade",valor:t.Cidade_Descricao}],itemNome:t.Endereco,itemChave:t.Chave,itemPermissao:"PESSOAS_ENDERECOS",itemAdd:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}},itemEdit:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}},itemDelete:e.deleteEndereco})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center"},m.a.createElement("p",null,t.Endereco)),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Cep)),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/0"),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoaendereco/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{endereco:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteEndereco(t.Chave,t.Endereco)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}))})))))),m.a.createElement("hr",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("hr",{style:{width:"50%"}})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h3",null,"CONTATOS"))),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Campo 1")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Campo 2")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(this.state.chave,"/0"),state:{contato:{},pessoa:Object(b.a)({},this.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Tipo")),m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center"},m.a.createElement("span",{className:"subtituloships"},"Campo 1")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(this.state.chave,"/0"),state:{contato:{},pessoa:Object(b.a)({},this.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contatos[0]&&this.state.contatos.map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags par":"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo1)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo2)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteContato(t.Chave,t.tipoNome)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.Chave},{titulo:"Tipo",valor:t.tipoNome},{titulo:"Campo 1",valor:t.Campo1},{titulo:"Campo 2",valor:t.Campo2}],itemNome:t.tipoNome,itemChave:t.Chave,itemPermissao:"PESSOAS_CONTATOS",itemAdd:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}},itemEdit:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}},itemDelete:e.deleteContato})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("p",null,t.tipoNome)),m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Campo1)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/0"),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/tabelas/addpessoacontato/".concat(t.Chave_Pessoa,"/").concat(t.Chave),state:{contato:Object(b.a)({},t),pessoa:Object(b.a)({},e.state.pessoa),backTo:"addpessoa"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteContato(t.Chave,t.tipoNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}))}))))))))),m.a.createElement(re.a,null))))}}]),a}(u.Component),ca=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(sa),la=(a(674),{porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",chave:"",chave_pessoa:"",tipo:"",campo1:"",campo2:"",pessoa:{},tipos:[],tiposOptions:[],tipoNome:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,savedRedirect:!1}),ia=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},la),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.ed;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(e.setState({chave_pessoa:e.props.match.params.id}),0===parseInt(a)){t.next=12;break}return t.next=10,e.setState({contato:e.props.location.state.contato});case 10:return t.next=12,e.setState({tipo:e.state.contato.Tipo,tipoNome:e.state.contato.tipoNome,campo1:e.state.contato.Campo1,campo2:e.state.contato.Campo2});case 12:return t.t0=e,t.next=15,le.a.getOne("getPessoa.php",e.state.chave_pessoa);case 15:return t.t1=t.sent,t.t2={pessoa:t.t1},t.t0.setState.call(t.t0,t.t2),e.carregaTipos(),t.next=21,e.carregaTiposAcessos();case 21:return t.next=23,e.carregaPermissoes();case 23:return t.next=25,e.testaAcesso();case 25:if(0==e.state.chave){t.next=28;break}return t.next=28,e.setState({dadosIniciais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.campo1)},{titulo:"Complementar",valor:K.a.formatForLogs(e.state.campo2)}]});case 28:e.state.acessosPermissoes.map((function(t){("PESSOAS_CONTATOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"PESSOAS_CONTATOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 29:case"end":return t.stop()}}),t)}))),e.carregaTipos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposComplementares.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({tipos:a.data}),o=e.state.tipos.map((function(e){return{label:e.Descricao,value:e.Codigo}})),e.setState({tiposOptions:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarContato=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.campo1)},{titulo:"Complementar",valor:K.a.formatForLogs(e.state.campo2)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertContato.php",{token:!0,values:"'".concat(e.state.tipo,"', '").concat(e.state.campo1,"', '").concat(e.state.campo2,"', ").concat(e.state.chave_pessoa)}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateContato.php",{token:!0,Chave:e.state.chave,Tipo:e.state.tipo,Campo1:e.state.campo1,Campo2:e.state.campo2,Chave_Pessoa:e.state.chave_pessoa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"CONTATO: ".concat(e.state.campo1));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("pessoas_contatos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.campo1),t.push(this.state.tipo),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.savedRedirect&&"contatos"==this.props.location.state.backTo&&m.a.createElement(V.a,{to:{pathname:"/tabelas/pessoacontatos/".concat(this.state.chave_pessoa)}}),this.state.savedRedirect&&"addpessoa"==this.props.location.state.backTo&&m.a.createElement(V.a,{to:{pathname:"/tabelas/addpessoa/".concat(this.state.chave_pessoa)}}),m.a.createElement("section",null,"addpessoa"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarAddPessoa:!0,pessoa:this.state.chave_pessoa,titulo:"Contatos"}),"contatos"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarPessoaContatos:!0,pessoa:this.state.pessoa,chave:0!=this.state.chave?this.state.chave:"",titulo:"Contatos"})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.tiposOptions.find((function(t){return e.state.tipo==t.value}))?this.state.tiposOptions.find((function(t){return e.state.tipo==t.value})).label:this.state.campo1,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarContato(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",value:this.state.tipo,options:this.state.tiposOptions,onChange:function(t){e.setState({tipo:t.value,tipoNome:t.label})},placeholder:this.state.tipoNome})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.campo1&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.campo1,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({campo1:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Complemento")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},"PX"!=this.state.tipo&&m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.campo2,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({campo2:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),"PX"==this.state.tipo&&m.a.createElement("select",{className:"form-control",value:this.state.campo2,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({campo2:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement("option",{value:""}),m.a.createElement("option",{value:"E-mail"},"E-mail"),m.a.createElement("option",{value:"Telefone"},"Celular"),m.a.createElement("option",{value:"CPF/CNPJ"},"CPF/CNPJ"))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ua=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ia),ma=(a(675),a(335)),pa=a.n(ma),da={porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",chave:"",chave_pessoa:"",pessoa:{},tipo:"",endereco:"",numero:"",complemento:"",cidade:"",cep:"",uf:"",bairro:"",cidade_descricao:"",pais:1,cepLimpo:"",cidadeLock:!1,ufLock:!1,bairroLock:!1,enderecoLock:!1,ufNome:"",paisNome:"",tipoNome:"",paises:[],paisesOptions:[],estados:[],estadosOptions:[],cidades:[],cidadesOptions:[],tipos:[{label:"Padrao",value:0},{label:"Entrega",value:1},{label:"Cobranca",value:2},{label:"Residencial",value:3}],acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,savedRedirect:!1},va=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},da),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.ed;case 3:return a=t.sent,t.next=6,e.setState({chave:a,chave_pessoa:e.props.match.params.id});case 6:if(0==parseInt(a)){t.next=15;break}return t.next=9,e.setState({endereco:e.props.location.state.endereco});case 9:return t.next=11,e.setState({tipo:e.state.endereco.Tipo,endereco:e.state.endereco.Endereco,numero:e.state.endereco.Numero,complemento:e.state.endereco.Complemento,cidade:e.state.endereco.Cidade,cep:e.state.endereco.Cep,cepLimpo:e.state.endereco.Cep,uf:e.state.endereco.UF,bairro:e.state.endereco.bairro,cidade_descricao:e.state.endereco.Cidade_Descricao,pais:e.state.endereco.pais});case 11:return t.next=13,e.setState({cidadeLock:!(!e.state.cep||!e.state.cidade),ufLock:!(!e.state.cep||!e.state.uf),bairroLock:!(!e.state.cep||!e.state.bairro),enderecoLock:!(!e.state.cep||!e.state.endereco),tipoNome:e.state.tipos[e.state.tipo].label});case 13:t.next=16;break;case 15:e.getCPF();case 16:return t.t0=e,t.next=19,le.a.getOne("getPessoa.php",e.state.chave_pessoa);case 19:return t.t1=t.sent,t.t2={pessoa:t.t1},t.t0.setState.call(t.t0,t.t2),e.getLugares(),t.next=25,e.carregaTiposAcessos();case 25:return t.next=27,e.carregaPermissoes();case 27:return t.next=29,e.testaAcesso();case 29:if(0==e.state.chave){t.next=32;break}return t.next=32,e.setState({dadosIniciais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tipos)},{titulo:"Endere\xe7o",valor:K.a.formatForLogs(e.state.endereco)},{titulo:"N\xfamero",valor:K.a.formatForLogs(e.state.numero)},{titulo:"Complemento",valor:K.a.formatForLogs(e.state.complemento)},{titulo:"Cidade",valor:K.a.formatForLogs(e.state.cidade,"options","","",e.state.cidadesOptions)},{titulo:"Cep",valor:K.a.formatForLogs(e.state.cepLimpo)},{titulo:"UF",valor:K.a.formatForLogs(e.state.uf,"options","","",e.state.estadosOptions)},{titulo:"Bairro",valor:K.a.formatForLogs(e.state.bairro)},{titulo:"Cidade Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.cidade_descricao)},{titulo:"Pa\xeds",valor:K.a.formatForLogs(e.state.pais,"options","","",e.state.paisesOptions)}]});case 32:e.state.acessosPermissoes.map((function(t){("PESSOAS_ENDERECOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"PESSOAS_ENDERECOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 33:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.cep!=e.state.cep&&e.setState({cidadeLock:!1,ufLock:!1,enderecoLock:!1,bairroLock:!1});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getCPF=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getCPF.php",{token:!0,chave:e.state.chave_pessoa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.data[0]&&a.data[0].cpf||e.setState({uf:81,ufNome:"EXTERIOR"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getLugares=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getLugares.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({paises:a.data.paises,estados:a.data.estados,cidades:a.data.cidades}),o=e.state.estados.map((function(e){return{label:e.Descricao,value:e.Chave,pais:e.Pais}})),e.setState({estadosOptions:o}),o=e.state.paises.map((function(e){return{label:e.Nome,value:e.Chave}})),e.setState({paisesOptions:o}),o=e.state.cidades.map((function(e){return{label:e.Descricao,value:e.Chave,estado:e.Estado}})),e.setState({cidadesOptions:o}),t.next=9,e.props.match.params.ed;case 9:if(t.t0=t.sent,0==t.t0){t.next=15;break}n=e.state.estadosOptions.filter((function(t){if(t.value==e.state.uf)return t})),e.setState({ufNome:n[0].label}),n=e.state.paisesOptions.filter((function(t){if(t.value==e.state.pais)return t})),e.setState({paisNome:n[0].label});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarEndereco=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tipos)},{titulo:"Endere\xe7o",valor:K.a.formatForLogs(e.state.endereco)},{titulo:"N\xfamero",valor:K.a.formatForLogs(e.state.numero)},{titulo:"Complemento",valor:K.a.formatForLogs(e.state.complemento)},{titulo:"Cidade",valor:K.a.formatForLogs(e.state.cidade,"options","","",e.state.cidadesOptions)},{titulo:"Cep",valor:K.a.formatForLogs(e.state.cepLimpo)},{titulo:"UF",valor:K.a.formatForLogs(e.state.uf,"options","","",e.state.estadosOptions)},{titulo:"Bairro",valor:K.a.formatForLogs(e.state.bairro)},{titulo:"Cidade Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.cidade_descricao)},{titulo:"Pa\xeds",valor:K.a.formatForLogs(e.state.pais,"options","","",e.state.paisesOptions)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertEndereco.php",{token:!0,values:"'".concat(e.state.tipo,"', '").concat(e.state.endereco,"', '").concat(e.state.numero,"', '").concat(e.state.complemento,"', '").concat(e.state.cidade,"', '").concat(e.state.cepLimpo,"', ").concat(e.state.uf,", '").concat(e.state.bairro.replaceAll("'"," "),"', '").concat(e.state.cidade_descricao,"', '").concat(e.state.pais,"', '").concat(e.state.chave_pessoa,"'"),Tipo:e.state.tipo,Chave_Pessoa:e.state.chave_pessoa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 7:t.next=10;break;case 9:alert("Erro: ".concat(JSON.stringify(a)));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateEndereco.php",{token:!0,Chave:e.state.chave,Tipo:e.state.tipo,Endereco:e.state.endereco,Numero:e.state.numero,Complemento:e.state.complemento,Cidade:e.state.cidade,Cep:e.state.cepLimpo,UF:e.state.uf,bairro:e.state.bairro,Cidade_Descricao:e.state.cidade_descricao,pais:e.state.pais,Chave_Pessoa:e.state.chave_pessoa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("pessoas_enderecos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"ENDERECO: ".concat(e.state.endereco));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.buscarDados=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pa()(a);case 3:return o=t.sent,t.next=6,ae.a.post("getEstadoCidade.php",{token:!0,cidade:o.city,estado:o.state.toUpperCase()}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({cidade:a.data.cidade[0].Chave,uf:a.data.estado[0].Chave,ufNome:a.data.estado[0].Descricao,cidade_descricao:a.data.cidade[0].Descricao});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("erro: "+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return t.next=8,e.setState({cepLimpo:o.cep,bairro:o.neighborhood,endereco:o.street});case 8:return t.next=10,e.setState({cidadeLock:!!o.city,ufLock:!!o.state,bairroLock:!!o.neighborhood,enderecoLock:!!o.street});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("pessoas_enderecos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.endereco),t.push(81==this.state.uf||this.state.cepLimpo),t.push(this.state.pais),t.push(this.state.cidade||81==this.state.uf),t.push(this.state.tipo||0===parseInt(this.state.tipo)),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.savedRedirect&&"enderecos"==this.props.location.state.backTo&&m.a.createElement(V.a,{to:{pathname:"/tabelas/pessoaenderecos/".concat(this.state.chave_pessoa)}}),this.state.savedRedirect&&"addpessoa"==this.props.location.state.backTo&&m.a.createElement(V.a,{to:{pathname:"/tabelas/addpessoa/".concat(this.state.chave_pessoa)}}),m.a.createElement("section",null,"addpessoa"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarAddPessoa:!0,pessoa:this.state.chave_pessoa,titulo:"Endere\xe7os"}),"enderecos"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarPessoaEnderecos:!0,pessoa:this.state.chave_pessoa,titulo:"Endere\xe7os",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.endereco,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarEndereco(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),81!=this.state.uf&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Cep")),81!=this.state.uf&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cepLimpo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),81!=this.state.uf&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(oa.a,{type:"text",mask:"99.999-999",className:"form-control",value:this.state.cep,onChange:function(t){e.setState({cep:t.currentTarget.value}),e.state.ufLock&&e.setState({cepLimpo:"",bairro:"",endereco:"",cidadeLock:"",ufLock:"",bairroLock:"",enderecoLock:"",ufNome:"",cidade_descricao:""}),10==e.state.cep.length&&e.buscarDados(t.currentTarget.value)}})),m.a.createElement("div",{className:0==this.state.chave&&81==this.state.uf?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"UF")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.uf&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{isDisabled:this.state.ufLock,className:"SearchSelect",value:this.state.uf,options:this.state.estadosOptions,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({uf:a.value,ufNome:a.label,pais:a.pais});case 2:81==e.state.uf&&e.setState({pais:null,cidade:null});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),placeholder:this.state.ufNome})),81!=this.state.uf&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cidade")),81!=this.state.uf&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cidade&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),81!=this.state.uf&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{isDisabled:this.state.cidadeLock,className:"SearchSelect",value:this.state.cidade,options:this.state.cidadesOptions.filter((function(t){return t.estado==e.state.uf})),onChange:function(t){e.setState({cidade:t.value,cidade_descricao:t.label})},placeholder:this.state.cidade_descricao})),81==this.state.uf&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Pa\xeds")),81==this.state.uf&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.pais&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),81==this.state.uf&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",value:this.state.pais,options:this.state.paisesOptions,onChange:function(t){e.setState({pais:t.value,paisNome:t.label})},placeholder:this.state.paisNome})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Bairro")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{disabled:this.state.bairroLock,className:"form-control",type:"text",value:this.state.bairro,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({bairro:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Rua")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.endereco&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{disabled:this.state.enderecoLock,className:"form-control",type:"text",value:this.state.endereco,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({endereco:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Numero")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.numero,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({numero:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Complemento")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.complemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({complemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipo&&0!==this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",value:this.state.tipo,options:this.state.tipos,onChange:function(t){console.log(t),e.setState({tipo:t.value,tipoNome:t.label})},placeholder:this.state.tipoNome})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),fa=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(va),ha=(a(676),n={data:"",chave:0,sigla:"",descricao:"",dadosIniciais:"",dadosFinais:"",logs:[],modalLog:!1},Object(Pt.a)(n,"descricao",""),Object(Pt.a)(n,"grupo",""),Object(Pt.a)(n,"grupos",[]),Object(Pt.a)(n,"gruposOptions",[]),Object(Pt.a)(n,"acessos",[]),Object(Pt.a)(n,"permissoes",[]),Object(Pt.a)(n,"acessosPermissoes",[]),Object(Pt.a)(n,"bloqueado",!1),n),ga=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},ha),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=10;break}return t.next=9,e.setState({porto:e.props.location.state.porto});case 9:e.setState({descricao:e.state.porto.Descricao,sigla:e.state.porto.Codigo});case 10:return t.next=12,e.carregaTiposAcessos();case 12:return t.next=14,e.carregaPermissoes();case 14:return t.next=16,e.testaAcesso();case 16:if(0==e.state.chave){t.next=19;break}return t.next=19,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Sigla",valor:K.a.formatForLogs(e.state.sigla)}]});case 19:e.state.acessosPermissoes.map((function(t){("PORTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"PORTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 20:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarPorto=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Sigla",valor:K.a.formatForLogs(e.state.sigla)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertPorto.php",{token:!0,values:"'".concat(e.state.sigla.toUpperCase(),"', '").concat(e.state.descricao,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("os_portos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=10;break;case 9:console.log(a.data);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updatePorto.php",{token:!0,Chave:e.state.chave,Codigo:e.state.sigla,Descricao:e.state.descricao}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_portos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"PORTO: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_portos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.sigla&&3==this.state.sigla.length),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarPortos:!0,titulo:"Portos",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarPorto(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.sigla&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y}),this.state.sigla&&3!=this.state.sigla.length&&m.a.createElement(ee.a,{title:"Tr\xeas caracteres necess\xe1rios",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.sigla,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({sigla:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ba=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ga),Ea=(a(677),a(74)),xa=(r={data:"",porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",chave:"",descricao:""},Object(Pt.a)(r,"data",N()().format("YYYY-MM-DD")),Object(Pt.a)(r,"encerramento",!1),Object(Pt.a)(r,"cliente",""),Object(Pt.a)(r,"conta",""),Object(Pt.a)(r,"pessoas",[]),Object(Pt.a)(r,"pessoasOptions",[]),Object(Pt.a)(r,"pessoasOptionsTexto",""),Object(Pt.a)(r,"acessos",[]),Object(Pt.a)(r,"permissoes",[]),Object(Pt.a)(r,"acessosPermissoes",[]),Object(Pt.a)(r,"bloqueado",!1),Object(Pt.a)(r,"alert",{type:"",msg:""}),r),Na=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},xa),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({centroCusto:e.props.location.state.centroCusto});case 9:return t.next=11,e.setState({codigo:e.state.centroCusto.Codigo,descricao:e.state.centroCusto.Descricao,data:N()(e.state.centroCusto.Data).format("YYYY-MM-DD"),encerramento:N()(e.state.centroCusto.Encerrado).format("YYYY-MM-DD"),cliente:e.state.centroCusto.Cliente,conta:e.state.centroCusto.Conta});case 11:return t.next=13,e.loadAll();case 13:if(0==e.state.chave){t.next=16;break}return t.next=16,e.setState({dadosIniciais:[{titulo:"Cliente",valor:K.a.formatForLogs(e.state.cliente,"options","","",e.state.pessoasOptions)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Encerrado",valor:K.a.formatForLogs(e.state.encerrado,"date")}]});case 16:e.state.acessosPermissoes.map((function(t){("CENTROS_CUSTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"CENTROS_CUSTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 17:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getPessoas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBaseOptionsCustomLabel("getPessoas.php","Nome","Cnpj_Cpf","Chave");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getTiposAcessos.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getPermissoes.php");case 12:return t.t4=t.sent,t.t5={pessoas:t.t1,pessoasOptions:t.t2,acessos:t.t3,permissoes:t.t4},t.next=16,t.t0.setState.call(t.t0,t.t5);case 16:return t.t6=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t7=t.sent,t.t8={acessosPermissoes:t.t7,loading:!1},t.next=23,t.t6.setState.call(t.t6,t.t8);case 23:case"end":return t.stop()}}),t)}))),e.salvarCentroCusto=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.state.variavel?e.setState({variavel:1}):e.setState({variavel:0}),e.setState({bloqueado:!0}),t.next=5,e.setState({dadosFinais:[{titulo:"Cliente",valor:K.a.formatForLogs(e.state.cliente,"options","","",e.state.pessoasOptions)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Encerrado",valor:K.a.formatForLogs(e.state.encerrado,"date")}],loading:!0});case 5:if(0!==parseInt(e.state.chave)||!a){t.next=18;break}if(e.state.codigo){t.next=14;break}return t.t0=e,t.next=10,le.a.getCodigoCC();case 10:return t.t1=t.sent,t.t2={codigo:t.t1},t.next=14,t.t0.setState.call(t.t0,t.t2);case 14:return t.next=16,ae.a.post("insertCentroCusto.php",{token:!0,values:"'".concat(e.state.descricao,"', '").concat(N()(e.state.data).format("YYYY-MM-DD"),"', '").concat(e.state.cliente,"', '").concat(e.state.codigo,"'"),codigo:e.state.codigo,tipo:"CC"}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=8;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return le.a.salvaLogs("centros_custos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave),t.next=6,e.setState({loading:!1,bloqueado:!1});case 6:t.next=9;break;case 8:a.data.error?e.setState({alert:{type:"error",msg:a.data.error}}):console.log(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:t.next=21;break;case 18:if(!a){t.next=21;break}return t.next=21,ae.a.post("updateCentroCusto.php",{token:!0,Codigo:e.state.codigo,Chave:e.state.chave,Descricao:e.state.descricao,Data:N()(e.state.data).format("YYYY-MM-DD"),Encerrado:e.state.encerramento?N()(e.state.encerramento).format("YYYY-MM-DD"):"",Cliente:e.state.cliente,Conta:e.state.conta}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=6;break}return le.a.salvaLogs("centros_custos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"CENTRO DE CUSTO: ".concat(e.state.descricao)),t.next=4,e.setState({loading:!1,bloqueado:!1});case 4:t.next=7;break;case 6:console.log(a.data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("centros_custos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.codigo||this.state.codigo==parseInt(this.state.codigo)),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarCentrosCustos:!0,titulo:"Centro de Custo",chave:0!=this.state.chave?this.state.chave:""})),m.a.createElement(Ea.a,{alert:this.state.alert,setAlert:function(t){return e.setState({alert:t})}}),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarCentroCusto(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Codigo")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",disabled:0!=this.state.chave,value:this.state.codigo,onChange:function(t){return 0==e.state.chave?e.setState({codigo:t.currentTarget.value}):{}}})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descricao")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.data&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.data,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({data:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data Encerramento")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1 errorMessage"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.encerramento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({encerramento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cliente")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(t){return e.filterSearch(t,e.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({pessoasOptionsTexto:t})},value:this.state.pessoasOptions.filter((function(t){return t.value==e.state.cliente}))[0],search:!0,onChange:function(t){e.setState({cliente:t.value})}})),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"})))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ca=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Na),wa=(a(678),{chave:"",codigo:"",codigoReduzido:"",nivel:"",indicador:"A",descricao:"",contaInativa:!1,planoConta:0,grupo:"05",logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",planoContas:[],planosContasOptions:[],planosContasOptionsTexto:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,codigoMask:"9.",codigoLimpo:"",indicadoresOptions:[{label:"Anal\xedtico",value:"A"},{label:"Sint\xe9tico",value:"S"}],gruposOptions:[{label:"Contas de Ativo",value:"00"},{label:"Passivo Circulante e N\xe3o Circulante",value:"01"},{label:"Patrim\xf4nio L\xedquido",value:"02"},{label:"Contas de Resultado",value:"03"},{label:"Contas de Compensa\xe7\xe3o",value:"04"},{label:"Outra",value:"05"}]}),Oa=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},wa),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=13;break}return t.next=9,e.setState({planoConta:e.props.location.state.planoConta});case 9:return t.next=11,e.setState({codigo:e.state.planoConta.Codigo.trim(),codigoLimpo:e.state.planoConta.Codigo.replaceAll(".","").trim(),codigoReduzido:e.state.planoConta.Codigo_Red,nivel:e.state.planoConta.Nivel,indicador:e.state.planoConta.Indicador,descricao:e.state.planoConta.Descricao,contaInativa:1==e.state.planoConta.Conta_Inativa,grupo:e.state.planoConta.grupo});case 11:t.next=22;break;case 13:if(!e.props.location.state||!e.props.location.state.planoPai){t.next=20;break}return t.next=16,e.setState({planoConta:e.props.location.state.planoPai});case 16:return t.next=18,e.setPlanoConta({value:e.state.planoConta.Codigo,nivel:e.state.planoConta.Nivel});case 18:t.next=22;break;case 20:return t.next=22,e.setPlanoConta({value:0});case 22:return t.next=24,e.carregaPlanosContas();case 24:return t.next=26,e.carregaTiposAcessos();case 26:return t.next=28,e.carregaPermissoes();case 28:return t.next=30,e.testaAcesso();case 30:if(0==e.state.chave){t.next=33;break}return t.next=33,e.setState({dadosIniciais:[{titulo:"C\xf3digo",valor:K.a.formatForLogs(e.state.codigoLimpo)},{titulo:"C\xf3digo Red",valor:K.a.formatForLogs(e.state.codigoReduzido)},{titulo:"N\xedvel",valor:K.a.formatForLogs(e.state.nivel)},{titulo:"Indicador",valor:K.a.formatForLogs(e.state.indicador,"options","","",e.state.indicadoresOptions)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Conta Inativa",valor:K.a.formatForLogs(e.state.contaInativa,"bool")},{titulo:"Grupo",valor:K.a.formatForLogs(e.state.grupo,"options","","",e.state.gruposOptions)}]});case 33:e.state.acessosPermissoes.map((function(t){("PLANOS_CONTAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"PLANOS_CONTAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 34:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.codigo!=e.state.codigo&&(n=/\d+/g,r="","_"!=e.state.codigo&&"_._"!=e.state.codigo&&"_._._"!=e.state.codigo&&"_._._.__"!=e.state.codigo&&"_._._.__.__"!=e.state.codigo&&"_._._.__.__.___"!=e.state.codigo&&"_._._.__.__.___.___"!=e.state.codigo&&""!=e.state.codigo&&(s=e.state.codigo.match(n),r=s.join("")),e.setState({codigoLimpo:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.carregaPlanosContas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPlanosContas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({planosContas:a.data});case 2:if(!e.state.planosContas[0]){t.next=7;break}return(o=e.state.planosContas.filter((function(e){return e.Nivel<7&&e.Descricao&&e.Codigo&&"S"==e.Indicador})).map((function(e){return{label:e.Descricao,value:e.Codigo,nivel:e.Nivel}}))).unshift({label:"Nenhum",value:0,nivel:0}),t.next=7,e.setState({planosContasOptions:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaCodigos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getCodigos.php",{token:!0,tipo:"PR"}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({codigoReduzido:a.data[0].Proximo});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,ae.a.post("getCodigos.php",{token:!0,tipo:"PL"}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({chave:a.data[0].Proximo});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)}))),e.setPlanoConta=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=a.value){t.next=5;break}return t.next=3,ae.a.post("getPlanoContaNivel.php",{token:!0,nivel:1}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=a.data.map((function(e){return parseInt(e.Codigo)})),e.setState({nivel:1,codigo:"".concat(Math.max.apply(Math,Object(O.a)(o).concat([0]))+1,".")});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:t.next=10;break;case 5:return(o=a.value.split(".").filter((function(e,t){return t<=a.nivel}))).splice(a.nivel-1),o=o[0]?"".concat(o.join("."),"."):o.join("."),t.next=10,ae.a.post("getPlanoContaCodigo.php",{token:!0,codigo:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(n){var r,s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.data,s=r.filter((function(e){return e.Nivel==parseInt(a.nivel)})).map((function(e){return parseInt(e.Codigo.split(".")[parseInt(e.Nivel)-1])})),t.next=4,e.checkCodigo("".concat(o.trim()).concat(Math.max.apply(Math,Object(O.a)(s).concat([0]))+1));case 4:return c=t.sent,6!=a.nivel&&(c="".concat(c,".")),t.next=8,e.setState({codigo:c,nivel:a.nivel});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkCodigo=function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.split("."))[3]&&a[3].length<2&&(a[3]="0".concat(a[3])),a[4]&&a[4].length<2&&(a[4]="0".concat(a[4])),a[5]&&a[5].length<2&&(a[5]="0".concat(a[5])),a[5]&&a[5].length<3&&(a[5]="0".concat(a[5])),a[6]&&a[6].length<2&&(a[6]="0".concat(a[6])),a[6]&&a[6].length<3&&(a[6]="0".concat(a[6])),e.abrupt("return",a.join("."));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.setNivel=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o="?",1==a.length?o=1:2==a.length?o=2:3==a.length?o=3:5==a.length?o=4:7==a.length?o=5:10==a.length?o=6:14==a.length&&(o=7),e.setState({nivel:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarPlanoConta=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),"."!=(o=e.state.codigo.split(""))[o.length-1]&&"_"!=o[o.length-1]||o.pop(),t.next=5,e.setState({codigo:o.join("")});case 5:if(!e.state.contaInativa){t.next=10;break}return t.next=8,e.setState({contaInativa:1});case 8:t.next=12;break;case 10:return t.next=12,e.setState({contaInativa:0});case 12:if(1!=e.state.grupo.length){t.next=15;break}return t.next=15,e.setState({grupo:"0".concat(e.state.grupo)});case 15:return e.setState({bloqueado:!0}),t.next=18,e.setState({dadosFinais:[{titulo:"C\xf3digo",valor:K.a.formatForLogs(e.state.codigoLimpo)},{titulo:"C\xf3digo Red",valor:K.a.formatForLogs(e.state.codigoReduzido)},{titulo:"N\xedvel",valor:K.a.formatForLogs(e.state.nivel)},{titulo:"Indicador",valor:K.a.formatForLogs(e.state.indicador,"options","","",e.state.indicadoresOptions)},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Conta Inativa",valor:K.a.formatForLogs(e.state.contaInativa,"bool")},{titulo:"Grupo",valor:K.a.formatForLogs(e.state.grupo,"options","","",e.state.gruposOptions)}],loading:!0});case 18:if(0!==parseInt(e.props.match.params.id)||!a){t.next=25;break}return t.next=21,e.carregaCodigos();case 21:return t.next=23,ae.a.post("insertPlanoConta.php",{token:!0,values:"'".concat(e.state.chave,"', '").concat(e.state.codigo,".', '").concat(e.state.codigoReduzido,"', '").concat(e.state.nivel,"', '").concat(e.state.indicador,"', '").concat(e.state.descricao,"', '").concat(e.state.contaInativa,"', '").concat(e.state.grupo,"'"),codigo:e.state.codigoReduzido,chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({codigo:a.data[0].Codigo});case 3:return t.next=5,le.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=10;break;case 9:console.log(a);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:t.next=28;break;case 25:if(!a){t.next=28;break}return t.next=28,ae.a.post("updatePlanoConta.php",{token:!0,Chave:e.state.chave,Codigo:"".concat(e.state.codigo,"."),Nivel:e.state.nivel,Indicador:e.state.indicador,Descricao:e.state.descricao,Conta_Inativa:e.state.contaInativa,grupo:e.state.grupo}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("planocontas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"PLANO DE CONTA: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=8;break;case 7:alert(JSON.stringify(a));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("planocontas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(this.state.nivel&&this.state.nivel>0&&this.state.nivel<8&&this.state.nivel==parseInt(this.state.nivel)),t.push(this.state.codigo),t.push(this.state.indicador&&("A"==this.state.indicador||"S"==this.state.indicador)),t.push(this.state.grupo&&parseInt(this.state.grupo)<=5&&parseInt(this.state.grupo)>=0),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarPlanosContas:!0,titulo:"Planos de Contas",chave:0!=this.state.codigo?this.state.codigo:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarPlanoConta(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoLimpo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},m.a.createElement(oa.a,{type:"text",mask:1==this.state.codigoLimpo.length?"9":2==this.state.codigoLimpo.length?"9.9":3==this.state.codigoLimpo.length?"9.9.9":4==this.state.codigoLimpo.length||5==this.state.codigoLimpo.length?"9.9.9.99":6==this.state.codigoLimpo.length||7==this.state.codigoLimpo.length?"9.9.9.99.99":8==this.state.codigoLimpo.length||9==this.state.codigoLimpo.length||10==this.state.codigoLimpo.length?"9.9.9.99.99.999":11==this.state.codigoLimpo.length||12==this.state.codigoLimpo.length||13==this.state.codigoLimpo.length||14==this.state.codigoLimpo.length?"9.9.9.99.99.999.9999":"9",className:"form-control",value:this.state.codigoLimpo,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({codigo:a.currentTarget.value});case 2:e.setNivel(e.state.codigoLimpo);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onKeyDown:function(t){1!=e.state.codigoLimpo.length&&2!=e.state.codigoLimpo.length&&3!=e.state.codigoLimpo.length&&5!=e.state.codigoLimpo.length&&7!=e.state.codigoLimpo.length&&10!=e.state.codigoLimpo.length||t.nativeEvent.key!=parseInt(t.nativeEvent.key)||e.setState({codigoLimpo:"".concat(e.state.codigoLimpo).concat(t.nativeEvent.key)})}})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"N\xedvel")),m.a.createElement("div",{className:"col-1 errorMessage"},(this.state.nivel<1||this.state.nivel>7||this.state.nivel!=parseInt(this.state.nivel))&&m.a.createElement(ee.a,{title:"Valor Inv\xe1lido",icon:ne.y})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.nivel})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Indicador")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.indicador&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.indicador,onChange:function(t){e.setState({indicador:t.currentTarget.value})}},this.state.indicadoresOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Inativa")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.contaInativa,onChange:function(t){e.setState({contaInativa:t.target.checked})},type:"checkbox"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grupo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.indicador&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.grupo,onChange:function(t){e.setState({grupo:t.currentTarget.value})}},this.state.gruposOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"})))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Sa=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Oa),ka=(a(679),{descricao:"",data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),ya=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},ka),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({historico:e.props.location.state.historico});case 9:return t.next=11,e.setState({descricao:e.state.historico.Descricao});case 11:return t.next=13,e.carregaTiposAcessos();case 13:return t.next=15,e.carregaPermissoes();case 15:return t.next=17,e.testaAcesso();case 17:0!=e.state.chave&&e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}]}),e.state.acessosPermissoes.map((function(t){("HISTORICOS_PADRAO"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"HISTORICOS_PADRAO"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 19:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarHistorico=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertHistorico.php",{token:!0,values:"'".concat(e.state.descricao,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=10;break}return console.log(a.data[0]),t.next=4,e.setState({chave:a.data[0].chave});case 4:return t.next=6,le.a.salvaLogs("historicos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 6:return t.next=8,e.setState({loading:!1,bloqueado:!1});case 8:t.next=10;break;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateHistorico.php",{token:!0,chave:e.state.chave,Descricao:e.state.descricao}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("historicos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"HIST\xd3RICO PADR\xc3O: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("historicos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.finalizaOperacao&&m.a.createElement(V.a,{to:{pathname:"/tabelas/historicospadrao",state:{chave:this.state.chave}}}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarHistoricosPadrao:!0,titulo:"Hist\xf3ricos Padr\xe3o",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarHistorico(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-4 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-4 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ja=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ya),Fa=(a(680),{descricao:"",data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),Aa=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Fa),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=12;break}return t.next=9,e.setState({descricao:e.props.location.state.descricao});case 9:return t.next=11,e.setState({descricao:e.state.descricao.descricao});case 11:e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}]});case 12:return t.next=14,e.carregaTiposAcessos();case 14:return t.next=16,e.carregaPermissoes();case 16:return t.next=18,e.testaAcesso();case 18:e.state.acessosPermissoes.map((function(t){("DESCRICOES_PADRAO"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"DESCRICOES_PADRAO"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 19:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarDescricao=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertDescricaoPadrao.php",{token:!0,values:"'".concat(e.state.descricao,"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=10;break}return console.log(a.data[0]),t.next=4,e.setState({chave:a.data[0].chave});case 4:return t.next=6,le.a.salvaLogs("os_descricao_padrao",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 6:return t.next=8,e.setState({loading:!1,bloqueado:!1});case 8:t.next=10;break;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateDescricoesPadrao.php",{token:!0,chave:e.state.chave,Descricao:e.state.descricao}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("os_descricao_padrao",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"DESCRI\xc7\xc3O PADR\xc3O: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_descricoes_padrao",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarDescricoesPadrao:!0,titulo:"Descri\xe7\xf5es Padr\xe3o",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarDescricao(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-4 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-4 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ta=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Aa),Pa=(a(681),{data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",descricao:"",categoria:"",categoriasOptions:[],acessos:[],permissoes:[],acessosPermissoes:[],textOptions:"",bloqueado:!1}),Da=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Pa),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({tipoDocumento:e.props.location.state.tipoDocumento});case 9:return t.next=11,e.setState({descricao:e.state.tipoDocumento.Descricao});case 11:return t.next=13,e.loadAll();case 13:return t.next=15,e.carregaTiposAcessos();case 15:return t.next=17,e.carregaPermissoes();case 17:return t.next=19,e.testaAcesso();case 19:if(0==e.state.chave){t.next=22;break}return t.next=22,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)}]});case 22:e.state.acessosPermissoes.map((function(t){("TIPOS_DOCUMENTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"TIPOS_DOCUMENTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 23:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBaseOptions("getCategoriasDocumentos.php","descricao","chave",{empresa:e.state.usuarioLogado.empresa});case 3:t.t1=t.sent,t.t2={categoriasOptions:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarTipoDocumento=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({bloqueado:!0}),e.setState(Object(b.a)({},K.a.cleanStates(e.state))),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Categoria",valor:K.a.formatForLogs(e.state.categoria)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertTipoDocumento.php",{token:!0,values:"'".concat(e.state.descricao,"', ").concat(e.state.categoria)}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("tipos_docto",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=10;break;case 9:console.log(a);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateTipoDocumento.php",{token:!0,Chave:e.state.chave,Descricao:e.state.descricao,categoria:e.state.categoria}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("tipos_docto",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"TIPO DE DOCUMENTO: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=8;break;case 7:console.log(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("tipos_docto",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarTiposDocumentos:!0,titulo:"Tipos de Documento",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarTipoDocumento(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-4 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-4 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Categoria")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.categoriasOptions.filter((function(t){return e.filterSearch(t,e.state.textOptions)})).slice(0,20),onInputChange:function(t){e.setState({textOptions:t})},value:this.state.categoriasOptions.find((function(t){return t.value==e.state.categoria})),search:!0,onChange:function(t){e.setState({categoria:t.value})}})),m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),_a=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Da),La=(a(682),{data:"",chave:0,descricao:"",dadosIniciais:"",dadosFinais:"",logs:[],modalLog:!1,grupo:"",grupos:[],gruposOptions:[],acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),Ia=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},La),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=10;break}return t.next=9,e.setState({categoria:e.props.location.state.categoria});case 9:e.setState({descricao:e.state.categoria.descricao});case 10:return t.next=12,e.carregaTiposAcessos();case 12:return t.next=14,e.carregaPermissoes();case 14:return t.next=16,e.testaAcesso();case 16:if(0==e.state.chave){t.next=19;break}return t.next=19,e.setState({dadosIniciais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Sigla",valor:K.a.formatForLogs(e.state.sigla)}]});case 19:e.state.acessosPermissoes.map((function(t){("CATEGORIAS_TIPOS_DOCUMENTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"CATEGORIAS_TIPOS_DOCUMENTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 20:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.salvarCategoria=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Empresa",valor:K.a.formatForLogs(e.state.usuarioLogado.empresa)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertCategoriaDocumentos.php",{token:!0,values:"'".concat(e.state.descricao,"', ").concat(e.state.usuarioLogado.empresa)}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].categorias){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("tipos_docto_categorias",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=10;break;case 9:console.log(a.data);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateCategoriaDocumentos.php",{token:!0,chave:e.state.chave,descricao:e.state.descricao,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("tipos_docto_categorias",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"CATEGORIA DE DOCUMENTO: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("tipos_docto_categorias",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.descricao),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarCategoriasDocumentos:!0,titulo:"Categorias de Documentos",chave:0!=this.state.chave?this.state.chave:""})),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarCategoria(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.descricao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descricao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ma=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ia),Ra=(a(683),{name:"",operadores:[],pesquisa:"",tipoPesquisa:1,chaveFocus:"",loading:!0,redirect:!1,status:1,deleteOperador:!1,direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),Ba=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ra),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"OPERADORES"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteOperador||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteOperador:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getOperadores.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={operadores:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteOperador=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteOperador:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja deixar este Operador inativo? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteOperador.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("operadores",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.operadores.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({operadores:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return(1!=e.state.status||1==t.ativo)&&((2!=e.state.status||0==t.ativo)&&(1==e.state.tipoPesquisa?t.Nome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Codigo.toLowerCase().includes(e.state.pesquisa.toLowerCase())))},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,operadores:!0,titulo:"Operadores"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"Codigo")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addoperador/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"})),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-2 col-lg-4 col-xl-4"}),m.a.createElement("div",{className:"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2"},m.a.createElement("label",{style:{fontSize:"1.1em",marginTop:3,fontWeight:"bold"}},"Status: ")),m.a.createElement("div",{className:"col-5 col-sm-5 col-md-4 col-lg-2 col-xl-2"},m.a.createElement("select",{className:"form-control",value:this.state.status,onChange:function(t){e.setState({status:t.currentTarget.value})}},m.a.createElement("option",{value:0},"Todos"),m.a.createElement("option",{value:1},"Ativos"),m.a.createElement("option",{value:2},"Inativos"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/utilitarios/addoperador/0",state:{operador:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},window.innerWidth>=500&&m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),window.innerWidth<500&&m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3d.")),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.operadores[0]&&this.state.operadores.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Codigo,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Codigo==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(0==t.ativo?"cancelada":a%2==0?t.Codigo==e.state.chaveFocus?"par focusLight":"par ":t.Codigo==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.Codigo)),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("p",null,t.Nome)),m.a.createElement("div",{className:"col-2 text-left mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addoperador/0",state:{operador:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addoperador/".concat(t.Codigo),state:{operador:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("OPERADORES"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOperador(t.Codigo,t.Nome)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),qa=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ba),Ya=(a(684),a(1004)),Va=a(1003),Ua=a(1009),za=a(1005),Ga={name:"",operadores:[],permissoes:[],pesquisa:"",usersPermissoes:[],acesso:[],dadosIniciais:[],dadosFinais:[],tiposPermissoes:["Inclus\xe3o","Altera\xe7\xe3o","Exclus\xe3o","Consulta","Impress\xe3o"],tipoAcessos:[],tipoPesquisa:1,loading:!0,redirect:!1,acessos:[],permissoesUser:[],acessosPermissoes:[],bloqueado:!1},Wa=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ga),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOperadores();case 2:return t.next=4,e.getTiposAcessos();case 4:return t.next=6,e.getPermissoes();case 6:return t.next=8,e.carregaTiposAcessos();case 8:return t.next=10,e.carregaPermissoes();case 10:return t.next=12,e.testaAcesso();case 12:e.state.acessosPermissoes.map((function(t){"PERMISSOES"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})})),e.state.acessosPermissoes.map((function(t){"PERMISSOES"==t.acessoAcao&&0==t.permissaoEdita&&e.setState({bloqueado:!0})}));case 14:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoesUser:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoesUser.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.getOperadores=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOperadores.php",{token:!0,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{botao:!1,check:[!1,!1,!1,!1,!1]})})),t.next=3,e.setState({operadores:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.getTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tipoAcessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.getPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.data,n="",o.map((function(e){n=e.Liberacao.split(""),e.LiberacaoString=n.map((function(e){return 1==e}))})),t.next=5,e.setState({permissoes:o});case 5:return r=[],s=[],e.state.operadores.map((function(t){e.state.tipoAcessos.map((function(a){s=e.state.permissoes.filter((function(e){if(e.Usuario==t.Codigo&&e.Acessos==a.Chave)return e.LiberacaoString})),r.push({usuario:t,acesso:a,permissoes:s[0]})}))})),t.next=10,e.setState({userPermissoes:r});case 10:return t.next=12,e.setState({loading:!1,bloqueado:!1});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){if(1==e.state.tipoPesquisa)return t.Nome.toLowerCase().includes(e.state.pesquisa.toLowerCase())},e.salvaAlteracoes=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(o){t.next=4;break}return t.abrupt("return");case 4:n=e.state.userPermissoes.filter((function(e){if(e.usuario.Codigo==a&&e.permissoes)return e})),r="",s="",c="",n.map(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.usuario.Codigo,s=a.acesso.Chave,c=a.permissoes.LiberacaoString.map((function(e){return e?1:0})),a.permissoes.Liberacao){t.next=8;break}return t.next=6,ae.a.post("insertPermissao.php",{token:!0,values:"'".concat(r,"', '").concat(e.state.usuarioLogado.empresa,"', ").concat(s,", '").concat(c.join(""),"'")}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({dadosIniciais:[{titulo:"Liberacao",valor:a.permissoes.Liberacao}],dadosFinais:[{titulo:"Liberacao",valor:c.join("")}]});case 2:if("true"!=JSON.stringify(o.data)){t.next=9;break}return le.a.salvaLogs("permissoes",e.state.usuarioLogado.codigo,null,"Inclus\xe3o","".concat(a.usuario.Codigo).concat(e.state.usuarioLogado.empresa).concat(a.acesso.Chave)),t.next=6,e.setState({loading:!1});case 6:document.location.reload(),t.next=13;break;case 9:return t.next=11,e.setState({loading:!1});case 11:return t.next=13,console.log("Erro: ".concat(o));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,alert("Erro: ".concat(JSON.stringify(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=10;break;case 8:return t.next=10,ae.a.post("updatePermissao.php",{token:!0,Usuario:r,Empresa:e.state.usuarioLogado.empresa,Acessos:s,Liberacao:c.join("")}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==o.data){t.next=9;break}return t.next=3,e.setState({dadosIniciais:[{titulo:"Liberacao",valor:a.permissoes.Liberacao}],dadosFinais:[{titulo:"Liberacao",valor:c.join("")}]});case 3:return le.a.salvaLogs("permissoes",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,"".concat(a.usuario.Codigo).concat(e.state.usuarioLogado.empresa).concat(a.acesso.Chave)),t.next=6,e.setState({loading:!1});case 6:document.location.reload(),t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,alert("Erro: ".concat(a));case 2:return t.next=4,e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.marcaTodos=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n,r){var s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log({value:a,usuario:o,elementoIndex:n,index:r}),s=e.state.operadores.map((function(e){return e.Codigo==o?(e.check[n]=a,Object(b.a)(Object(b.a)({},e),{},{botao:!0})):Object(b.a)({},e)})),e.setState({operadores:s}),e.state.userPermissoes.map(function(){var t=Object(G.a)(z.a.mark((function t(r,s){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.usuario.Codigo!=o){t.next=3;break}return t.next=3,e.alteraPermissoes(a,s,n,o);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e,a,o,n){return t.apply(this,arguments)}}(),e.alteraPermissoes=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n,r){var s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=e.state.userPermissoes)[o].permissoes||(s[o].permissoes={LiberacaoString:[!1,!1,!1,!1,!1]}),s[o].permissoes.LiberacaoString[n]=a,c=e.state.operadores.map((function(e){return e.Codigo==r?Object(b.a)(Object(b.a)({},e),{},{botao:!0}):Object(b.a)({},e)})),e.setState({userPermissoes:s,operadores:c});case 4:case"end":return t.stop()}}),t)})));return function(e,a,o,n){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,permissoes:!0,titulo:"Permiss\xf5es"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("input",{className:"form-control campoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-3",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{id:"product-list"},void 0!=this.state.operadores[0]&&this.state.operadores.filter(this.filtrarPesquisa).map((function(t,o){return m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var o=Object(G.a)(z.a.mark((function o(n){return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvaAlteracoes(t.Codigo,a);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{key:t.Codigo,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement(Ya.a,{className:o%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},m.a.createElement(Va.a,{expandIcon:m.a.createElement(ee.a,{icon:ne.m}),"aria-controls":"panel1a-content"},m.a.createElement(za.a,null,m.a.createElement("div",null,m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement("p",null,t.Codigo)),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 text-center"},m.a.createElement("p",null,t.Nome)),m.a.createElement("div",{className:"col-1"}))))),m.a.createElement(Ua.a,null,m.a.createElement(za.a,null,m.a.createElement("div",{className:"row row-list"},m.a.createElement("div",{className:"row row-list"},m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center",style:o%2==0?{borderBottom:"1px solid white"}:{borderBottom:"1px solid black"}},m.a.createElement("p",null,"Acesso")),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement(ee.a,{title:"Inserir",icon:ne.M})),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement(ee.a,{title:"Editar",icon:ne.L})),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement(ee.a,{title:"Consultar",icon:ne.z})),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement(ee.a,{title:"Deletar",icon:ne.T})),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement(ee.a,{title:"Imprimir",icon:ne.N}))))),m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-left"},m.a.createElement("p",null,"*) Todos")),Object(O.a)(Array(5)).map((function(a,n){return m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left"},m.a.createElement($.a,{type:"checkbox",className:"checkPermissao",disabled:e.state.bloqueado,checked:t.check[n],onChange:function(a){e.marcaTodos(a.target.checked,t.Codigo,n,o)}}))}))))),e.state.userPermissoes.map((function(a,o){if(a.usuario.Codigo==t.Codigo)return a.permissoes?m.a.createElement("div",{key:a.acesso.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-left"},m.a.createElement("p",null,a.acesso.Descricao)),a.permissoes.LiberacaoString.map((function(a,n){return m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left"},m.a.createElement($.a,{type:"checkbox",className:"checkPermissao",disabled:e.state.bloqueado,checked:a,onChange:function(a){e.alteraPermissoes(a.target.checked,o,n,t.Codigo)}}))}))))):m.a.createElement("div",{key:a.acesso.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-left"},m.a.createElement("p",null,a.acesso.Descricao)),Object(O.a)(Array(5)).map((function(a,n){return m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left"},m.a.createElement($.a,{type:"checkbox",disabled:e.state.bloqueado,checked:!1,onChange:function(a){e.alteraPermissoes(a.target.checked,o,n,t.Codigo)}}))})))))})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),t.botao&&m.a.createElement("div",{className:"col-12 ",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{backgroundColor:"#fff",width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar"))))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Ha=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Wa),Xa=(a(687),{name:"",logs:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,deleteLog:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",deleteModal:!1,dataInicio:"",dataFim:"",direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),Ja=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Xa),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:e.state.acessosPermissoes.map((function(t){"LOGS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 3:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteLog||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteLog:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposAcessos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPermissoes.php");case 6:return t.t2=t.sent,t.t3={acessos:t.t1,permissoes:t.t2},t.next=10,t.t0.setState.call(t.t0,t.t3);case 10:return t.t4=e,t.next=13,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 13:return t.t5=t.sent,t.t6={acessosPermissoes:t.t5,loading:!1},t.next=17,t.t4.setState.call(t.t4,t.t6);case 17:case"end":return t.stop()}}),t)}))),e.getLogs=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=a,t.next=4,le.a.getAllLogs(a,e.state.usuarioLogado.empresa);case 4:return t.t2=t.sent,t.t3={tabela:t.t1,logs:t.t2},t.next=8,t.t0.setState.call(t.t0,t.t3);case 8:return t.next=10,e.getOperadores();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getOperadores=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOperadores.php",{token:!0,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.logs.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{operadorNome:a.data.find((function(t){return t.Codigo==e.Operador})).Nome})})),t.next=3,e.setState({logs:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.logs.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({logs:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return 1==e.state.tipoPesquisa?t.Campos.toLowerCase().includes(e.state.pesquisa.toLowerCase()):2==e.state.tipoPesquisa?N()(t.Data).format("DD/MM/YYYY HH:mm:ss").includes(e.state.pesquisa.toLowerCase()):3==e.state.tipoPesquisa&&t.operadorNome?t.operadorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?t.ChaveAux.includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,operadores:!0,titulo:"Logs"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Identificador"),m.a.createElement("option",{value:2},"Data"),m.a.createElement("option",{value:3},"Operador"),m.a.createElement("option",{value:4},"Chave Auxiliar")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Tipo de pesquisa...",value:this.state.tabela,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLogs(a.currentTarget.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement("option",{value:""}),m.a.createElement("option",{value:"os_navios"},"Navios"),m.a.createElement("option",{value:"os_tipos_servicos"},"Tipos de Servi\xe7os"),m.a.createElement("option",{value:"os_subgrupos_taxas"},"Subgrupos de Taxas"),m.a.createElement("option",{value:"moedas"},"Moedas"),m.a.createElement("option",{value:"pessoas"},"Pessoas"),m.a.createElement("option",{value:"pessoas_contatos"},"Contatos"),m.a.createElement("option",{value:"pessoas_enderecos"},"Endere\xe7os"),m.a.createElement("option",{value:"os_portos"},"Portos"),m.a.createElement("option",{value:"os_taxas"},"Taxas"),m.a.createElement("option",{value:"centros_custos"},"Centros de Custos"),m.a.createElement("option",{value:"planocontas"},"Planos de Contas"),m.a.createElement("option",{value:"historicos"},"Hist\xf3ricos Padr\xe3o"),m.a.createElement("option",{value:"tipos_docto"},"Tipos de Documentos"),m.a.createElement("option",{value:"os"},"OS"),m.a.createElement("option",{value:"os_servicos_itens"},"Solicita\xe7\xf5es de Servi\xe7o"),m.a.createElement("option",{value:"contas_aberto"},"Contas em Aberto"),m.a.createElement("option",{value:"transacoes"},"Transa\xe7\xf5es"),m.a.createElement("option",{value:"operadores"},"Operadores"),m.a.createElement("option",{value:"permissoes"},"Permiss\xf5es"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Data")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Operador")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campos")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave Auxiliar")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Data")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Campos")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave Auxiliar")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.logs[0]&&this.state.logs.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.Codigo,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,N()(t.Data).format("DD/MM/YYYY HH:mm:ss"))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.operadorNome)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.Campos)),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.ChaveAux)),m.a.createElement("div",{className:"col-2 text-left icones mobileajuster4 "})),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Data",valor:N()(t.Data).format("DD/MM/YYYY HH:mm:ss")},{titulo:"Chave",valor:t.chave},{titulo:"Operador",valor:t.operadorNome},{titulo:"Campos",valor:t.Campos},{titulo:"Chave Auxiliar",valor:t.ChaveAux}],itemPermissao:"LOGS",itemNome:t.Data,itemChave:t.Chave})},className:"row deleteMargin alignCenter",style:{overflowWrap:"anywhere"}},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,N()(t.Data).format("DD/MM/YYYY HH:mm:ss"))),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.Campos)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,t.ChaveAux)),m.a.createElement("div",{className:"col-2 text-left icones mobileajuster4 "}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),$a=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ja),Ka=(a(688),{parametros:[],desconto:"",INSS:"",IR:"",ISS:"",PIS:"",COFINS:"",CSLL:"",bank_charges:0,planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,bloqueadoContabiliza:!1,loading:!0}),Qa=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ka),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:return t.next=4,e.setState({dadosIniciais:[{titulo:"conta_desconto",valor:e.state.desconto},{titulo:"conta_retencao_inss",valor:e.state.INSS},{titulo:"conta_retencao_ir",valor:e.state.IR},{titulo:"conta_retencao_iss",valor:e.state.ISS},{titulo:"conta_retencao_pis",valor:e.state.PIS},{titulo:"conta_retencao_cofins",valor:e.state.COFINS},{titulo:"conta_retencao_csll",valor:e.state.CSLL},{titulo:"bank_charges",valor:e.state.bank_charges}]});case 4:e.state.acessosPermissoes.map((function(t){("PARAMETROS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 5:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBody("getParametros.php",{token:!0,empresa:e.state.usuarioLogado.empresa});case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPlanosContasAnaliticas.php");case 6:return t.t2=t.sent,t.next=9,le.a.getPlanosContasAnaliticasOptions();case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getTiposAcessos.php");case 12:return t.t4=t.sent,t.next=15,le.a.getBase("getPermissoes.php");case 15:return t.t5=t.sent,t.t6={parametros:t.t1,planosContas:t.t2,planosContasOptions:t.t3,acessos:t.t4,permissoes:t.t5},t.next=19,t.t0.setState.call(t.t0,t.t6);case 19:return t.t7=e,t.t8=e.state.parametros[0].conta_desconto,t.t9=e.state.parametros[0].conta_retencao_inss,t.t10=e.state.parametros[0].conta_retencao_ir,t.t11=e.state.parametros[0].conta_retencao_iss,t.t12=e.state.parametros[0].conta_retencao_pis,t.t13=e.state.parametros[0].conta_retencao_cofins,t.t14=e.state.parametros[0].conta_retencao_csll,t.t15=e.state.parametros[0].bank_charges,t.next=30,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 30:return t.t16=t.sent,t.t17={desconto:t.t8,INSS:t.t9,IR:t.t10,ISS:t.t11,PIS:t.t12,COFINS:t.t13,CSLL:t.t14,bank_charges:t.t15,acessosPermissoes:t.t16,loading:!1,bloqueado:!1},t.next=34,t.t7.setState.call(t.t7,t.t17);case 34:case"end":return t.stop()}}),t)}))),e.alterarParametros=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({bloqueado:!0}),t.next=3,e.setState({dadosFinais:[{titulo:"conta_desconto",valor:e.state.desconto},{titulo:"conta_retencao_inss",valor:e.state.INSS},{titulo:"conta_retencao_ir",valor:e.state.IR},{titulo:"conta_retencao_iss",valor:e.state.ISS},{titulo:"conta_retencao_pis",valor:e.state.PIS},{titulo:"conta_retencao_cofins",valor:e.state.COFINS},{titulo:"conta_retencao_csll",valor:e.state.CSLL},{titulo:"bank_charges",valor:e.state.bank_charges}],loading:!0});case 3:if(!a){t.next=6;break}return t.next=6,ae.a.post("updateParametros.php",{token:!0,Empresa:e.state.usuarioLogado.empresa,conta_desconto:e.state.desconto,conta_retencao_inss:e.state.INSS,conta_retencao_ir:e.state.IR,conta_retencao_iss:e.state.ISS,conta_retencao_pis:e.state.PIS,conta_retencao_cofins:e.state.COFINS,conta_retencao_csll:e.state.CSLL,bank_charges:e.state.bank_charges}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!0!==a.data){t.next=8;break}return t.next=4,le.a.salvaLogs("parametros",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave);case 4:return t.next=6,e.setState({loading:!1,bloqueado:!1});case 6:t.next=10;break;case 8:return t.next=10,alert("Erro ".concat(JSON.stringify(a)));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.desconto),t.push(this.state.INSS),t.push(this.state.IR),t.push(this.state.ISS),t.push(this.state.PIS),t.push(this.state.COFINS),t.push(this.state.CSLL),t.push(this.state.bank_charges);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,titulo:"Parametros"}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.alterarParametros(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Desconto")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.desconto}))[0],search:!0,onChange:function(t){e.setState({desconto:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"INSS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.INSS}))[0],search:!0,onChange:function(t){e.setState({INSS:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"IR")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.IR}))[0],search:!0,onChange:function(t){e.setState({IR:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"ISS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.ISS}))[0],search:!0,onChange:function(t){e.setState({ISS:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"PIS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.PIS}))[0],search:!0,onChange:function(t){e.setState({PIS:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"COFINS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.COFINS}))[0],search:!0,onChange:function(t){e.setState({COFINS:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"CSLL")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.CSLL}))[0],search:!0,onChange:function(t){e.setState({CSLL:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Bank Charges")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.bank_charges,onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({bank_charges:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({bank_charges:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar"))))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),Za=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Qa),eo=(a(689),{name:"",eventos:[],pesquisa:"",pesquisaCliente:"",pesquisaNavio:"",tipoPesquisa:3,chaveFocus:"",deleteEvento:!1,loading:!0,redirect:!1,tipos:["Pagar","Receber","Adiantamento","Desconto"],modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],acessosPermissoes:[],load:100,offset:0}),to=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},eo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteEvento||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteEvento:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEventosTemplates();case 2:return t.t0=e,t.next=5,le.a.getBase("getPessoas.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getPessoas.php");case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getTiposAcessos.php");case 11:return t.t3=t.sent,t.next=14,le.a.getBase("getPermissoes.php");case 14:return t.t4=t.sent,t.t5={pessoas:t.t1,os:t.t2,acessos:t.t3,permissoes:t.t4},t.next=18,t.t0.setState.call(t.t0,t.t5);case 18:if(!e.props.location.state||!e.props.location.state.chave){t.next=21;break}return t.next=21,e.setState({chaveFocus:e.props.location.state.chave});case 21:return t.t6=e,t.next=24,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 24:return t.t7=t.sent,t.t8={acessosPermissoes:t.t7,loading:!1},t.next=28,t.t6.setState.call(t.t6,t.t8);case 28:case"end":return t.stop()}}),t)}))),e.getEventosTemplates=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getEventosTemplates.php",{token:!0,offset:e.state.offset,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(O.a)(a.data),t.next=3,e.setState({eventos:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteEventoTemplate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteEvento:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja cancelar esta solicita\xe7\xe3o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteEventoTemplate.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,null,"Exclus\xe3o de template",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){var a=t;return!e.state.pesquisa||(a.descricao&&1==e.state.tipoPesquisa?a.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0)},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,titulo:"Templates de Eventos"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes,evento:!0,itemFinanceiro:this.state.itemFinanceiro}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Descri\xe7\xe3o")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addeventotemplate/0"}},m.a.createElement("button",{className:"btn btn-success"},"Adicionar Template"))))),m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/utilitarios/addeventotemplate/0",state:{evento:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.eventos[0]&&this.state.eventos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.chave)),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 text-left"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2 text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addeventotemplate/0",state:{evento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addeventotemplate/".concat(t.chave),state:{evento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteServicoItem(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.eventos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({offset:e.state.load,load:e.state.load+100}),e.getEventosTemplates()}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),ao=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(to),oo=(a(690),{name:"",grupos:[],pesquisa:"",tipoPesquisa:1,chaveFocus:"",loading:!0,redirect:!1,status:1,deleteGrupo:!1,direcaoTabela:ne.n,acessos:[],permissoes:[],acessosPermissoes:[]}),no=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},oo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"GRUPOS_TEMPLATES"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteGrupo||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteGrupo:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getGruposTemplates.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={grupos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(ce.x),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)}))),e.deleteGrupoTemplate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteGrupo:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja excluir este grupo de templates? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteGrupoTemplate.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("grupos_templates",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.grupos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({grupos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return!e.state.pesquisa||(1==e.state.tipoPesquisa?t.nome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()))},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarUtilitarios:!0,grupos:!0,titulo:"Grupos de Templates"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Nome"),m.a.createElement("option",{value:2},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addgrupotemplate/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"})),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-2 col-lg-4 col-xl-4"}),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/utilitarios/addgrupotemplate/0",state:{grupo:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("span",{className:"subtituloships"},"Nome")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.grupos[0]&&this.state.grupos.filter(this.filtrarPesquisa).map((function(t,a){return m.a.createElement("div",{key:t.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,t.chave)),m.a.createElement("div",{className:"col-8 text-left"},m.a.createElement("p",null,t.nome)),m.a.createElement("div",{className:"col-2 text-left mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addgrupotemplate/0",state:{grupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/utilitarios/addgrupotemplate/".concat(t.chave),state:{grupo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("GRUPOS_TEMPLATES"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteGrupoTemplate(t.chave,t.nome)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ro=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(no),so=(a(691),s={porto:0,thumb:[],imagem:"",taxa:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,dadosIniciais:[],dadosFinais:[],nomeRepetido:!1,bloqueado:!1,acessos:[],permissoes:[],acessosPermissoes:[],nome:"",trocarSenha:!0,senha:"",senhaRepetida:""},Object(Pt.a)(s,"bloqueado",!1),Object(Pt.a)(s,"notAllowed",!1),s),co=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},so),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({codigo:a});case 6:if(0==e.state.usuarioLogado.empresa){t.next=9;break}return t.next=9,e.setState({empresa:e.state.usuarioLogado.empresa});case 9:if(0==parseInt(a)){t.next=22;break}if(!(null===(o=e.props)||void 0===o||null===(n=o.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.operador)){t.next=15;break}return t.next=13,e.setState({operador:e.props.location.state.operador});case 13:t.next=20;break;case 15:return t.next=17,le.a.getBody("getOperador.php",{codigo:e.state.codigo});case 17:return s=t.sent,t.next=20,e.setState({operador:s[0]});case 20:return t.next=22,e.setState({nome:e.state.operador.Nome,codigo:e.state.operador.Codigo,trocarSenha:!1});case 22:return t.next=24,e.carregaTiposAcessos();case 24:return t.next=26,e.carregaPermissoes();case 26:return t.next=28,e.testaAcesso();case 28:if(0==e.state.chave){t.next=31;break}return t.next=31,e.setState({dadosIniciais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)}]});case 31:e.state.acessosPermissoes.map((function(t){("OPERADORES"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"OPERADORES"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.codigo)&&(e.state.codigo!=e.state.usuarioLogado.codigo?e.setState({bloqueado:!0}):e.setState({notAllowed:!0}))}));case 32:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.testaNome=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("testaNome.php",{token:!0,Nome:e.state.nome}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!a.data[0]||e.state.codigo==a.data[0].Codigo){t.next=4;break}return t.next=4,e.setState({bloqueado:!0,nomeRepetido:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarOperador=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({loading:!0}),o=K.a.encrypt(e.state.senha),t.next=5,e.setState({dadosFinais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)}],loading:!0});case 5:return t.next=7,e.testaNome();case 7:if(!e.state.bloqueado&&a){t.next=10;break}return e.setState({loading:!1}),t.abrupt("return");case 10:if(0!=parseInt(e.state.codigo)){t.next=15;break}return t.next=13,ae.a.post("insertOperador.php",{token:!0,values:"'".concat(e.state.nome,"', '").concat(o,"', ").concat(e.state.empresa)}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!a.data[0].Codigo){t.next=10;break}return t.next=4,e.setState({codigo:a.data[0].Codigo});case 4:return t.next=6,le.a.salvaLogs("operadores",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Codigo);case 6:return t.next=8,e.setState({loading:!1,bloqueado:!1});case 8:t.next=10;break;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:t.next=17;break;case 15:return t.next=17,ae.a.post("updateOperador.php",{token:!0,Codigo:e.state.codigo,Nome:e.state.nome,Senha:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("operadores",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.codigo);case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.pessoasOptionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("operadores",e.state.codigo);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.nome),t.push(!this.state.trocarSenha||this.state.senha&&this.state.senha.trim().length>=3&&this.state.senha==this.state.senhaRepetida),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarOperadores:!this.state.notAllowed,voltarUtilitarios:this.state.notAllowed,titulo:"Operadores",chave:0!=this.state.codigo?this.state.codigo:""})),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),0!=this.state.codigo&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.nome,chave:this.state.codigo,modalAberto:this.state.modalLog}),this.state.loading&&m.a.createElement(na.a,null),!this.state.loading&&m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarOperador(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.codigo&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Codigo")),0!=this.state.codigo&&m.a.createElement("div",{className:"col-1"}),0!=this.state.codigo&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.codigo})),0!=this.state.codigo&&m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:0==this.state.codigo?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.nome&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.nome,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({nome:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),0!=this.state.codigo&&m.a.createElement("div",{className:"col-4"}),0!=this.state.codigo&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Trocar Senha?")),0!=this.state.codigo&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",checked:this.state.trocarSenha,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({trocarSenha:a.target.checked});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),0!=this.state.codigo&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}),this.state.trocarSenha&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Senha")),this.state.trocarSenha&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.senha&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),this.state.trocarSenha&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"password",value:this.state.senha,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({senha:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),this.state.trocarSenha&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Confirmar Senha")),this.state.trocarSenha&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.senhaRepetida&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y}),this.state.senhaRepetida&&this.state.senhaRepetida!=this.state.senha&&m.a.createElement(ee.a,{title:"Senhas n\xe3o coincidem",icon:ne.y})),this.state.trocarSenha&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"password",value:this.state.senhaRepetida,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({senhaRepetida:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-1 errorMessage"},this.state.nomeRepetido&&m.a.createElement(ee.a,{title:"Nome em uso!",icon:ne.y})),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),lo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(co),io=(a(692),a(370),c={evento:"",os:"",chave:"",chave_os:"",navio_os:"",viagem_os:"",data:N()().format("YYYY-MM-DD"),fornecedor:"",fornecedorInicial:"",fornecedorCusteio:"",fornecedorEmail:"",taxa:"",repasse:!1,moeda:6,valor:"0,00",vlrc:"0,00",descricao:"",tipo:0,ordem:"",remarks:"",contatos:[],qntd:1,campos:[],eventoComplementar:[],camposCopiar:[],eventosIrmaos:[],moedas:[],logs:[],modalLog:!1,corpo:"",assunto:"",anexos:[],anexosNomes:[],formats:[],exts:[],dadosIniciais:"",dadosFinais:""},Object(Pt.a)(c,"fornecedorEmail",""),Object(Pt.a)(c,"emails",[]),Object(Pt.a)(c,"recarregaPagina",""),Object(Pt.a)(c,"redirectOS",!1),Object(Pt.a)(c,"pessoas",[]),Object(Pt.a)(c,"pessoasOptions",[]),Object(Pt.a)(c,"pessoasOptionsTexto",""),Object(Pt.a)(c,"taxas",[]),Object(Pt.a)(c,"taxasOptions",[]),Object(Pt.a)(c,"taxasOptionsTexto",""),Object(Pt.a)(c,"todasOs",[]),Object(Pt.a)(c,"osOptions",[]),Object(Pt.a)(c,"osOptionsTexto",""),Object(Pt.a)(c,"descricoesPadrao",[]),Object(Pt.a)(c,"descricoesPadraoOptions",[]),Object(Pt.a)(c,"descricoesPadraoOptionsTexto",""),Object(Pt.a)(c,"tiposSubOptions",[{value:0,label:"Pagar"},{value:1,label:"Receber"},{value:2,label:"Recebimento de Remessa"},{value:3,label:"Desconto"}]),Object(Pt.a)(c,"acessos",[]),Object(Pt.a)(c,"permissoes",[]),Object(Pt.a)(c,"acessosPermissoes",[]),Object(Pt.a)(c,"bloqueado",!1),Object(Pt.a)(c,"emailBloqueado",!1),Object(Pt.a)(c,"ordemBloqueado",!0),Object(Pt.a)(c,"modal",""),Object(Pt.a)(c,"modalAberto",!1),Object(Pt.a)(c,"modalLista",[]),Object(Pt.a)(c,"modalPesquisa",""),Object(Pt.a)(c,"fornecedorCusteioAtivo",!1),Object(Pt.a)(c,"financeiro",!1),Object(Pt.a)(c,"irParaFinanceiro",!1),Object(Pt.a)(c,"email",!1),Object(Pt.a)(c,"emails",[]),Object(Pt.a)(c,"hasEmail",!1),Object(Pt.a)(c,"failures",[]),Object(Pt.a)(c,"successes",[]),Object(Pt.a)(c,"documentos",[]),Object(Pt.a)(c,"documentoModal",!1),Object(Pt.a)(c,"tiposDocumento",[]),Object(Pt.a)(c,"tiposDocumentoOptions",[]),Object(Pt.a)(c,"tiposDocumentoOptionsTexto",""),Object(Pt.a)(c,"documento",[]),Object(Pt.a)(c,"documentoDescricao",""),Object(Pt.a)(c,"documentoNome",""),Object(Pt.a)(c,"documentoTipo",""),Object(Pt.a)(c,"documentoChave",""),Object(Pt.a)(c,"documentoCaminho",""),Object(Pt.a)(c,"documentoTrocar",!0),Object(Pt.a)(c,"documentoEditar",!1),Object(Pt.a)(c,"loading",!0),Object(Pt.a)(c,"emailEnviado",[]),Object(Pt.a)(c,"dataEmail",""),Object(Pt.a)(c,"emailsIniciais",[]),Object(Pt.a)(c,"emailsFinais",[]),Object(Pt.a)(c,"alert",{type:"",msg:""}),Object(Pt.a)(c,"anexosForn",[]),Object(Pt.a)(c,"optionsTexto",""),Object(Pt.a)(c,"gruposOptions",[]),Object(Pt.a)(c,"gruposIniciais",[]),Object(Pt.a)(c,"gruposEscolhidos",[]),Object(Pt.a)(c,"anexosValidadosOptions",[{label:"Aguardando...",value:0},{label:"Invalidado",value:1},{label:"Aprovado",value:2},{label:"Validado",value:3,nonSelectable:!0}]),c),uo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},io),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0==parseInt(a)){t.next=15;break}return t.next=9,le.a.getBody("getEventoTemplate.php",{chave:e.state.chave});case 9:return r=t.sent,t.next=12,e.setState({evento:r[0]});case 12:return t.next=14,e.setState({data:e.state.evento.data,fornecedor:e.state.evento.fornecedor,moeda:e.state.evento.Moeda,fornecedorInicial:e.state.evento.fornecedor,taxa:e.state.evento.taxa,descricao:e.state.evento.descricao,tipo:e.state.evento.tipo_sub,remarks:e.state.evento.remarks,qntd:e.state.evento.qntd,valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor),vlrc:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor1),repasse:1==e.state.evento.repasse,fornecedorCusteio:e.state.evento.Fornecedor_Custeio,gruposIniciais:null!=e.state.evento.gruposChaves?null===(o=e.state.evento.gruposChaves)||void 0===o?void 0:o.split("@.@"):[],gruposEscolhidos:null!=e.state.evento.gruposChaves?null===(n=e.state.evento.gruposChaves)||void 0===n?void 0:n.split("@.@"):[]});case 14:e.state.repasse&&e.setState({valor:e.state.vlrc});case 15:return t.next=17,e.carregaTiposAcessos();case 17:return t.next=19,e.carregaPermissoes();case 19:return t.next=21,e.testaAcesso();case 21:return t.next=23,e.getTaxas();case 23:return t.next=25,e.getMoedas();case 25:return t.next=27,e.getPessoas();case 27:return t.next=29,e.getDescricaoPadrao();case 29:return t.next=31,e.getGruposTemplates();case 31:if(0==e.state.chave){t.next=34;break}return t.next=34,e.setState({dadosIniciais:[{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.pessoasOptions)},{titulo:"Taxa",valor:K.a.formatForLogs(e.state.taxa,"options","","",e.state.taxasOptions)},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money","0,00")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money","0,00")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposSubOptions)},{titulo:"Ordem",valor:K.a.formatForLogs(e.state.ordem)},{titulo:"Remarks",valor:K.a.formatForLogs(e.state.remarks)},{titulo:"Quantidade",valor:K.a.formatForLogs(e.state.qntd)},{titulo:"Fornecedor Custeio",valor:K.a.formatForLogs(e.state.fornecedorCusteio,"options","","",e.state.fornecedoresOptions)}]});case 34:return e.state.acessosPermissoes.map((function(t){("SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})})),t.next=37,e.setState({loading:!1});case 37:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.getTaxas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTaxas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({taxas:a.data});case 2:return t.next=4,e.getTaxasOptions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getTaxasOptions=Object(G.a)(z.a.mark((function t(){var a,o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.state.tipo){t.next=6;break}return a=e.state.taxas.filter((function(e){return"P"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=4,e.setState({taxasOptions:a});case 4:t.next=15;break;case 6:if(1!=e.state.tipo){t.next=12;break}return o=e.state.taxas.filter((function(e){return"R"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=10,e.setState({taxasOptions:o});case 10:t.next=15;break;case 12:return n=e.state.taxas.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=15,e.setState({taxasOptions:n});case 15:case"end":return t.stop()}}),t)}))),e.getMoedas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getMoedas.php");case 3:return t.t1=t.sent,t.t2={moedas:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getFornecedores.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return(o=e.state.pessoas.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(K.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}}))).unshift({label:"Nenhum",value:""}),t.next=6,e.setState({pessoasOptions:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getOrdem=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOrdem.php",{token:!0,chave_os:e.state.chave_os}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({ordem:a.data[0]?(Math.floor(a.data[0].ordem)+1).toFixed(2).replaceAll(".",","):"1,0",ordemBloqueado:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getGruposTemplates=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.a.getBaseOptions("getGruposTemplates.php","nome","chave",{token:!0,offset:0});case 2:a=t.sent,e.setState({gruposOptions:a});case 4:case"end":return t.stop()}}),t)}))),e.getDescricaoPadrao=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getDescricaoPadrao.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricoesPadrao:a.data});case 2:return o=e.state.descricoesPadrao.map((function(e){return{label:e.descricao,value:e.chave}})),t.next=5,e.setState({descricoesPadraoOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getTiposDocumento=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposDocumento.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tiposDocumento:a.data});case 2:return o=e.state.tiposDocumento.map((function(e){return{label:e.Descricao,value:e.Chave}})),t.next=5,e.setState({tiposDocumentoOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraCliente=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1"!=o.split("")[1]||e.state.fornecedorCusteioAtivo){t.next=5;break}return t.next=3,e.setState({fornecedor:a});case 3:t.next=8;break;case 5:if("1"!=o.split("")[1]){t.next=8;break}return t.next=8,e.setState({fornecedorCusteio:a});case 8:return t.next=10,e.setState({modalAberto:!1});case 10:return t.next=12,e.getPessoas();case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraTaxa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTaxas();case 2:if("P"!=o||1==e.state.tipo){t.next=11;break}return t.next=5,e.setState({taxa:a});case 5:if(!(n=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=9;break}return t.next=9,e.setState({valor:n.money});case 9:t.next=27;break;case 11:if("R"!=o||0==e.state.tipo){t.next=20;break}return t.next=14,e.setState({taxa:a});case 14:if(!(r=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=18;break}return t.next=18,e.setState({valor:r.money});case 18:t.next=27;break;case 20:if("P"==o||"R"==o){t.next=27;break}return t.next=23,e.setState({taxa:a});case 23:if(!(s=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=27;break}return t.next=27,e.setState({valor:s.money});case 27:return t.next=29,e.setState({modalAberto:!1});case 29:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraDescricaoPadrao=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricao:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.next=6,e.getDescricaoPadrao();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarEventoTemplate=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.pessoasOptions)},{titulo:"Taxa",valor:K.a.formatForLogs(e.state.taxa,"options","","",e.state.taxasOptions)},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money","0,00")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money","0,00")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposSubOptions)},{titulo:"Ordem",valor:K.a.formatForLogs(e.state.ordem)},{titulo:"Remarks",valor:K.a.formatForLogs(e.state.remarks)},{titulo:"Quantidade",valor:K.a.formatForLogs(e.state.qntd)},{titulo:"Fornecedor Custeio",valor:K.a.formatForLogs(e.state.fornecedorCusteio,"options","","",e.state.fornecedoresOptions)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertEventoTemplate.php",{token:!0,values:"'".concat(e.state.data,"', '").concat(e.state.fornecedor,"', '").concat(e.state.taxa,"', '").concat(e.state.descricao,"', '").concat(e.state.tipo,"', '").concat(e.state.fornecedorCusteio,"', '").concat(e.state.remarks,"', '").concat(e.state.qntd,"', '").concat(e.state.moeda,"', '").concat(parseFloat(""==e.state.valor?0:e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(""==e.state.vlrc?0:e.state.vlrc.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.repasse?1:0,"', 1"),grupos:e.state.gruposEscolhidos}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({evento:a.data[0],chave:e.state.evento.chave,loading:!1});case 2:return t.next=4,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,null,"Inclus\xe3o (template)",a.data[0].chave);case 4:return t.next=6,e.setState({redirectVoltar:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=14;break;case 9:if(!a){t.next=14;break}return o=e.state.gruposEscolhidos.map((function(t){if(!e.state.gruposIniciais.includes(t))return t})).filter((function(e){return e})),n=e.state.gruposIniciais.map((function(t){if(!e.state.gruposEscolhidos.includes(t))return t})).filter((function(e){return e})),t.next=14,ae.a.post("updateEventoTemplate.php",{token:!0,chave:e.state.chave,data:e.state.data,Moeda:e.state.moeda,valor:parseFloat(""==e.state.valor?0:e.state.valor.replaceAll(".","").replaceAll(",",".")),valor1:parseFloat(e.state.vlrc.replaceAll(".","").replaceAll(",",".")),repasse:e.state.repasse?1:0,fornecedor:e.state.fornecedor,taxa:e.state.taxa,descricao:e.state.descricao,ordem:e.state.ordem.replaceAll(",","."),tipo_sub:e.state.tipo,Fornecedor_Custeio:e.state.fornecedorCusteio,gruposNovos:o,gruposDeletados:n}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=6;break}return t.next=3,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"TEMPLATE DE EVENTO: ".concat(e.state.descricao));case 3:e.setState({loading:!1,redirectVoltar:!0}),t.next=8;break;case 6:return t.next=8,alert("Erro ".concat(JSON.stringify(a)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_servicos_itens",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.finalizaSalvamento=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var a=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Template salva!"),m.a.createElement("p",null,"Deseja criar mais?"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({redirectVoltar:!0}),a();case 2:case"end":return t.stop()}}),t)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({recarregaPagina:!0});case 2:a();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e,t=this,a=[];a.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),a.push(!this.state.repasse&&!this.state.vlrc||this.state.vlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.vlrc.replaceAll(".","").replaceAll(",","."))&&(!this.state.repasse||this.state.vlrc==this.state.valor)),a.push(this.state.descricao),a.push(!this.state.bloqueado);var o=a.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.recarregaPagina&&m.a.createElement(m.a.Fragment,null,m.a.createElement(V.a,{to:{pathname:"/ordensservico/addeventotemplate/0",state:Object(b.a)(Object(b.a)({},this.props.location.state),{},{evento:{}})}}),window.location.reload()),this.state.redirectVoltar&&m.a.createElement(V.a,{to:{pathname:"/utilitarios/eventostemplates/"}}),this.state.irParaFinanceiro&&this.props.location.state&&this.props.location.state.os&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addeventotemplatefinanceiro/".concat(this.state.evento.chave),state:{evento:Object(b.a)({},this.state.evento)}}}),this.state.irParaFinanceiro&&(!this.props.location.state||!this.props.location.state.os)&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addeventotemplatefinanceiro/".concat(this.state.evento.chave),state:{evento:Object(b.a)({},this.state.evento)}}}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarEventosTemplates:!0,titulo:"Template de Eventos",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return t.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){t.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Ea.a,{alert:this.state.alert,setAlert:function(e){return t.setState({alert:e})}}),m.a.createElement(Qt.a,{pesquisa:this.state.modalPesquisa,alteraModal:this.alteraModal,alteraCliente:this.alteraCliente,alteraTaxa:this.alteraTaxa,alteraDescricaoPadrao:this.alteraDescricaoPadrao,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){t.setState({modalAberto:!1})}}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarEventoTemplate(o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0==this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.data,onChange:function(e){t.setState({data:e.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.tipo,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({tipo:a.currentTarget.value});case 2:if(1!=t.state.tipo){e.next=7;break}return e.next=5,t.setState({fornecedor:""});case 5:e.next=10;break;case 7:if(""!=t.state.fornecedor||0==t.state.chave){e.next=10;break}return e.next=10,t.setState({fornecedor:t.state.fornecedorInicial});case 10:return e.next=12,t.getTaxasOptions();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},this.state.tiposSubOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),0==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Repasse (reembolso)")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.repasse,onChange:function(e){t.setState({repasse:e.target.checked,pessoa:"",tipo:"",contaDesconto:"",fornecedorCusteio:"",vlrc:e.target.checked?t.state.valor:"0,00"})},type:"checkbox"})),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Taxa")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.taxa&&2!=this.state.tipo&&3!=this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.taxasOptions.filter((function(e){return t.filterSearch(e,t.state.taxasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({taxasOptionsTexto:e})},value:this.state.taxasOptions.filter((function(e){return e.value==t.state.taxa}))[0],search:!0,onChange:function(e){t.state.valor&&0!=parseFloat(t.state.valor.replaceAll(".","").replaceAll(",","."))?t.setState({taxa:e.value}):t.setState({taxa:e.value,valor:e.money.replaceAll(",","").replaceAll(".",",")})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){t.setState({modalAberto:!0,modal:"listarTaxas",modalPesquisa:t.state.taxa,modalLista:0==t.state.tipo?t.state.taxas.filter((function(e){return"P"==e.Tipo})):1==t.state.tipo?t.state.taxas.filter((function(e){return"R"==e.Tipo})):t.state.taxas})}},"...")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.fornecedor&&1!=this.state.tipo&&2!=this.state.tipo&&3!=this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:1==this.state.tipo,options:this.state.pessoasOptions.filter((function(e){return t.filterSearch(e,t.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({pessoasOptionsTexto:e})},value:this.state.pessoasOptions.filter((function(e){return e.value==t.state.fornecedor}))[0],search:!0,onChange:function(e){1!=t.state.tipo&&t.setState({fornecedor:e.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&1!=this.state.tipo&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){t.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:t.state.fornecedor,modalLista:t.state.pessoas,fornecedorCusteioAtivo:!1})}},"...")),!this.state.repasse&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor Custeio")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.fornecedorCusteio&&1==this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(e){return t.filterSearch(e,t.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({pessoasOptionsTexto:e})},value:this.state.pessoasOptions.filter((function(e){return e.value==t.state.fornecedorCusteio}))[0],search:!0,onChange:function(e){t.setState({fornecedorCusteio:e.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){t.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:t.state.fornecedorCusteio,modalLista:t.state.pessoas,fornecedorCusteioAtivo:!0})}},"...")),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o Padr\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.descricoesPadraoOptions.filter((function(e){return t.filterSearch(e,t.state.descricoesPadraoOptionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({descricoesPadraoOptionsTexto:e})},value:this.state.descricoesPadraoOptions.filter((function(e){return e.label==t.state.descricao}))[0],search:!0,onChange:function(e){t.setState({descricao:e.label})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){t.setState({modalAberto:!0,modal:"listarDescricoesPadrao",modalLista:t.state.descricoesPadrao})}},"...")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control textareaFix",as:"textarea",value:this.state.descricao,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({descricao:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.valor||!this.state.moeda&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"fieldDividido col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{disabled:this.state.repasse,className:"form-control nextToInput fieldDividido_1",value:this.state.moeda,onChange:function(e){t.state.repasse||t.setState({moeda:e.target.value})}},this.state.moedas.map((function(e){return m.a.createElement("option",{value:e.Chave},e.Sigla)}))),m.a.createElement($.a,{disabled:this.state.repasse,className:"form-control fieldDividido_2 text-right ",type:"text",onClick:function(e){return e.target.select()},value:this.state.valor,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state.repasse||t.setState({valor:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({valor:a.currentTarget.value.replaceAll(".","").replaceAll(",",".")?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Quantidade")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.qntd,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({qntd:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"VCP")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.vlrc,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({vlrc:a.currentTarget.value}),t.state.repasse&&t.setState({valor:a.currentTarget.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({vlrc:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"}),t.state.repasse&&t.setState({valor:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Remarks")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control textareaFix",as:"textarea",value:this.state.remarks,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({remarks:a.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),1==this.state.acessosPermissoes.filter((function(e){if("GRUPOS_TEMPLATES"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Grupos de Templates")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.gruposOptions.filter((function(e){return t.filterSearch(e,t.state.optionsTexto)})).slice(0,20),onInputChange:function(e){t.setState({optionsTexto:e})},search:!0,onChange:function(e){t.state.gruposEscolhidos.find((function(t){return t==e.value}))||t.setState({gruposEscolhidos:[].concat(Object(O.a)(t.state.gruposEscolhidos),[e.value])})}}),m.a.createElement("div",{style:{marginBottom:20,color:"white",fontSize:13}},null===(e=this.state.gruposEscolhidos)||void 0===e?void 0:e.map((function(e,a){var o;return m.a.createElement("span",{class:"click_to_erase",onClick:function(){return t.setState({gruposEscolhidos:t.state.gruposEscolhidos.filter((function(t){return t!=e}))})}},"".concat(null===(o=t.state.gruposOptions.find((function(t){return t.value==e})))||void 0===o?void 0:o.label).concat(a!=t.state.gruposEscolhidos.length-1?", ":" "))}))))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!o,type:"submit",style:o?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}}),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),mo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(uo),po=(a(695),{grupo:{},chave:"",nome:"",logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",recarregaPagina:"",templates:[],templatesIniciais:[],templatesEscolhidas:[],tiposServicosItens:["Pagar","Receber","Adiantamento","Desconto"],acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,loading:!0,alert:{type:"",msg:""}}),vo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},po),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0==parseInt(a)){t.next=14;break}return t.next=9,le.a.getBody("getGrupoTemplate.php",{chave:e.state.chave,token:!0});case 9:return n=t.sent,t.next=12,e.setState({grupo:n[0]});case 12:return t.next=14,e.setState({nome:e.state.grupo.nome,templatesIniciais:null!=e.state.grupo.templatesChaves?e.state.grupo.templatesChaves.split("@.@"):[],templatesEscolhidas:null!=e.state.grupo.templatesChaves?null===(o=e.state.grupo.templatesChaves)||void 0===o?void 0:o.split("@.@"):[]});case 14:return t.next=16,e.carregaTiposAcessos();case 16:return t.next=18,e.carregaPermissoes();case 18:return t.next=20,e.testaAcesso();case 20:return t.next=22,e.getEventosTemplates();case 22:if(0==e.state.chave){t.next=25;break}return t.next=25,e.setState({dadosIniciais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)}]});case 25:return e.state.acessosPermissoes.map((function(t){("GRUPOS_TEMPLATES"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"GRUPOS_TEMPLATES"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})})),t.next=28,e.setState({loading:!1});case 28:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.getEventosTemplates=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getEventosTemplates.php");case 3:t.t1=t.sent,t.t2={templates:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)}))),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvarGrupoTemplate=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Nome",valor:K.a.formatForLogs(e.state.nome)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertGrupoTemplate.php",{token:!0,values:"'".concat(e.state.nome,"'"),templates:e.state.templatesEscolhidas}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({grupo:a.data[0],chave:e.state.grupo.chave,loading:!1});case 2:return t.next=4,le.a.salvaLogs("templates_grupos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 4:e.setState({redirectVoltar:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=14;break;case 9:if(!a){t.next=14;break}return o=e.state.templatesEscolhidas.map((function(t){var a;if(!(null===(a=e.state.templatesIniciais)||void 0===a?void 0:a.includes(t)))return t})).filter((function(e){return e})),n=e.state.templatesIniciais.map((function(t){if(!e.state.templatesEscolhidas.includes(t))return t})).filter((function(e){return e})),t.next=14,ae.a.post("updateGrupoTemplate.php",{token:!0,chave:e.state.chave,nome:e.state.nome,templatesNovas:o,templatesDeletadas:n}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=6;break}return t.next=3,le.a.salvaLogs("templates_grupos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"GRUPOS DE TEMPLATES: ".concat(e.state.nome));case 3:e.setState({loading:!1,redirectVoltar:!0}),t.next=8;break;case 6:return t.next=8,alert("Erro ".concat(JSON.stringify(a)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("templates_grupos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e,t=this,a=[];a.push(this.state.nome),a.push(!this.state.bloqueado);var o=a.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.redirectVoltar&&m.a.createElement(V.a,{to:{pathname:"/utilitarios/grupostemplates/"}}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarGruposTemplates:!0,titulo:"Grupos de Templates",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return t.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){t.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.selectModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({selectModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({selectModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"modalForm",style:{width:"95%"}},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,t.setState({selectModal:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-12"},m.a.createElement("h4",{className:"text-center white"},"Templates:")),m.a.createElement("h3",{className:"text-center white"},"Selecionados"),(null===(e=this.state)||void 0===e?void 0:e.templatesEscolhidas[0])&&m.a.createElement("div",{className:"agrupador_eventos_selecionados"},m.a.createElement("table",{className:"agrupador_lista"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Chave")),window.innerWidth>=500&&m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Tipo")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Descri\xe7\xe3o")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Valor ")),m.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.templates[0]&&this.state.templates.filter((function(e){return t.state.templatesEscolhidas.includes(e.chave)})).map((function(e,a){return m.a.createElement(m.a.Fragment,null,window.innerWidth<500&&m.a.createElement("tr",{onClick:function(){t.setState({templatesEscolhidas:t.state.templatesEscolhidas.filter((function(t){return t!=e.chave}))})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"BRL":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),m.a.createElement("td",null,m.a.createElement("input",{type:"checkbox",checked:!0}))),window.innerWidth>=500&&m.a.createElement("tr",{onClick:function(){t.setState({templatesEscolhidas:t.state.templatesEscolhidas.filter((function(t){return t!=e.chave}))})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,t.state.tiposServicosItens[e.tipo_sub])),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"BRL":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),m.a.createElement("td",null,m.a.createElement("input",{type:"checkbox",checked:!0}))))})))),!this.state.templatesEscolhidas[0]&&m.a.createElement("h4",{className:"text-center"},"Nenhum"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h3",{className:"text-center white"},"Eventos"),this.state.templates.find((function(e){return!t.state.templatesEscolhidas.includes(e.chave)}))&&m.a.createElement("div",{className:"agrupador_eventos"},m.a.createElement("table",{className:"agrupador_lista"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Chave")),window.innerWidth>=500&&m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Tipo")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Descri\xe7\xe3o")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Valor")),m.a.createElement("th",{className:"text-center",style:{width:20,height:20,padding:5}})),void 0!=this.state.templates[0]&&this.state.templates.filter((function(e){return!t.state.templatesEscolhidas.includes(e.chave)})).map((function(e,a){return m.a.createElement(m.a.Fragment,null,window.innerWidth<500&&m.a.createElement("tr",{onClick:function(){t.setState({templatesEscolhidas:[].concat(Object(O.a)(t.state.templatesEscolhidas),[e.chave])})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"BRL":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),m.a.createElement("td",null,m.a.createElement("input",{type:"checkbox",checked:!1}))),window.innerWidth>=500&&m.a.createElement("tr",{onClick:function(){t.setState({templatesEscolhidas:[].concat(Object(O.a)(t.state.templatesEscolhidas),[e.chave])})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,t.state.tiposServicosItens[e.tipo_sub])),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"BRL":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor))),m.a.createElement("td",null,m.a.createElement("input",{type:"checkbox",checked:!1}))))})))),!this.state.templates.find((function(e){return!t.state.templatesEscolhidas.includes(e.chave)}))&&m.a.createElement("h4",{className:"text-center"},"Nenhum dispon\xedvel"))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",style:{width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement(Ea.a,{alert:this.state.alert,setAlert:function(e){return t.setState({alert:e})}}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:t.salvarGrupoTemplate(o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Nome")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",value:this.state.nome,onChange:function(e){t.setState({nome:e.currentTarget.value})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!o,type:"submit",style:o?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}}),m.a.createElement("div",{className:"col-2"})))))),1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"relatoriosSection"},m.a.createElement("div",{className:"relatorioButton"},m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return t.setState({selectModal:!0})}},"Selecionar Templates"))),m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h3",null,"Templates Selecionadas"))),m.a.createElement("br",null),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("table",{className:"addOsTable"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Chave")),window.innerWidth>=500&&m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Tipo")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Descri\xe7\xe3o")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Valor"))),void 0!=this.state.templates[0]&&this.state.templates.filter((function(e){return t.state.templatesEscolhidas.includes(e.chave)})).map((function(e,a){return m.a.createElement(m.a.Fragment,null,window.innerWidth<500&&m.a.createElement("tr",{className:a%2==0?"parTr":"imparTr"},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)))),window.innerWidth>=500&&m.a.createElement("tr",{className:a%2==0?"parTr":"imparTr"},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,t.state.tiposServicosItens[e.tipo_sub])),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,5==e.Moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)))))}))))))))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),fo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(vo),ho=(a(696),{name:"",os:[],osPesquisa:[],pesquisa:"",tipoPesquisa:1,situacao:2,pesquisaTimer:0,pesquisaDelayed:0,loading:!0,redirect:!1,chaveFocus:"",deleteOS:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],acessosPermissoes:[],load:200,offset:0}),go=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},ho),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"OS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteOS||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteOS:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOS();case 2:return t.t0=e,t.next=5,le.a.getBase("getMoedas.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getPortos.php");case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getTiposAcessos.php");case 11:return t.t3=t.sent,t.next=14,le.a.getBase("getPermissoes.php");case 14:return t.t4=t.sent,t.t5=N()().format("YYYY-MM-DD"),t.t6=N()().add(1,"day").format("YYYY-MM-DD"),t.t7={moedas:t.t1,portos:t.t2,acessos:t.t3,permissoes:t.t4,vencimentoInicial:t.t5,vencimentoFinal:t.t6},t.next=20,t.t0.setState.call(t.t0,t.t7);case 20:if(!e.props.location.state||!e.props.location.state.chave){t.next=23;break}return t.next=23,e.setState({chaveFocus:e.props.location.state.chave});case 23:return t.t8=e,t.next=26,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 26:return t.t9=t.sent,t.t10={acessosPermissoes:t.t9,loading:!1},t.next=30,t.t8.setState.call(t.t8,t.t10);case 30:case"end":return t.stop()}}),t)}))),e.getOS=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=[],t.t1=Object(O.a)(e.state.os),t.t2=O.a,t.next=5,le.a.getBase("getOS.php",e.state.usuarioLogado.empresa,201,e.state.offset);case 5:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),a=t.t0.concat.call(t.t0,t.t1,t.t4),t.next=10,e.setState({os:a});case 10:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteOS=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteOS:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Cancelar esta OS? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteOS.php",{token:!0,chave:a,canceladoPor:e.state.usuarioLogado.codigo}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os",e.state.usuarioLogado.codigo,null,"Cancelamento",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.pesquisa=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearTimeout(e.state.pesquisaTimer),o=setTimeout(Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getOSPesquisa(e.state.pesquisa,e.state.tipoPesquisa,e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.t2={osPesquisa:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),t)}))),500),t.next=4,e.setState({pesquisaTimer:o,pesquisa:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){var a=t;if(2==e.state.situacao?a=t.Data_Encerramento&&"Invalid date"!=N()(t.Data_Encerramento).format()||"0"!=t.cancelada?"":t:3==e.state.situacao?a="0"!=t.cancelada?t:"":4==e.state.situacao?a=!t.Data_Encerramento||"Invalid date"==N()(t.Data_Encerramento).format()||"0"!=t.cancelada||t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()?"":t:5==e.state.situacao?a=t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()&&"0"==t.cancelada?t:"":6==e.state.situacao&&(a=t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()||"0"!=t.cancelada?"":t),a)return a},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarMovimentacao:!0,titulo:"OS"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({tipoPesquisa:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement("option",{value:1},"Codigo"),m.a.createElement("option",{value:2},"Navio"),m.a.createElement("option",{value:3},"Servi\xe7o"),m.a.createElement("option",{value:4},"Porto"),m.a.createElement("option",{value:5},"Cliente")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pesquisa(a.currentTarget.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/ordensservico/relatorio"}},m.a.createElement("button",{className:"btn btn-success"},"Relatorio"))),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"})),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-2 col-lg-4 col-xl-4"}),m.a.createElement("div",{className:"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2"},m.a.createElement("label",{style:{fontSize:"1.1em",marginTop:3,fontWeight:"bold"}},"Situa\xe7\xe3o: ")),m.a.createElement("div",{className:"col-5 col-sm-5 col-md-4 col-lg-2 col-xl-2"},m.a.createElement("select",{className:"form-control",value:this.state.situacao,onChange:function(t){e.setState({situacao:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Todas"),m.a.createElement("option",{value:2},"Em aberto"),m.a.createElement("option",{value:3},"Canceladas"),m.a.createElement("option",{value:4},"Encerradas"),m.a.createElement("option",{value:5},"Faturadas"),m.a.createElement("option",{value:6},"N\xe3o Faturadas"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addlink:{pathname:"/ordensservico/addos/0"}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=690&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Porto")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Servi\xe7o")),m.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0"}},m.a.createElement(ee.a,{icon:ne.M}))))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Servi\xe7o")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},m.a.createElement("span",{className:"subtituloships"}))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Remarks")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-2 text-right"},m.a.createElement("span",{className:"subtituloships"}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},""==this.state.pesquisa&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.os[0]&&this.state.os.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){var o,n,r;return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.codigo==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.codigo==e.state.chaveFocus?"par focusLight":"par ":t.codigo==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=690&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.portoNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,(null===(o=t.clienteNome)||void 0===o?void 0:o.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,(null===(n=t.clienteNome)||void 0===n?void 0:n.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.codigo},{titulo:"Cliente",valor:t.clienteNome},{titulo:"Navio",valor:t.navioNome},{titulo:"Porto",valor:t.portoNome},{titulo:"Centro de Custo",valor:t.centroCustoNome},{titulo:"Tipo de Servi\xe7o",valor:t.tipoServicoNome},{titulo:"Data de Abertura",valor:N()(t.Data_Abertura).format("DD/MM/YYYY")}],itemPermissao:"OS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}},itemEdit:1!=t.cancelada?{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}:"",itemDelete:1!=t.cancelada?e.deleteOS:""})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-4 text-center",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-3 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,(null===(r=t.clienteNome)||void 0===r?void 0:r.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))}))),""!=this.state.pesquisa&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.osPesquisa[0]&&this.state.osPesquisa.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){var o,n;return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:1==t.cancelada?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags cancelada":a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=690&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.portoNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,(null===(o=t.clienteNome)||void 0===o?void 0:o.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.codigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,(null===(n=t.clienteNome)||void 0===n?void 0:n.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.codigo},{titulo:"Cliente",valor:t.clienteNome},{titulo:"Navio",valor:t.navioNome},{titulo:"Porto",valor:t.portoNome},{titulo:"Centro de Custo",valor:t.centroCustoNome},{titulo:"Tipo de Servi\xe7o",valor:t.tipoServicoNome},{titulo:"Data de Abertura",valor:N()(t.Data_Abertura).format("DD/MM/YYYY")}],itemPermissao:"OS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}},itemEdit:1!=t.cancelada?{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}:"",itemDelete:1!=t.cancelada?e.deleteOS:""})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))}))),""==this.state.pesquisa&&this.state.os.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({offset:e.state.load,load:e.state.load+50});case 2:return t.next=4,e.getOS();case 4:case"end":return t.stop()}}),t)})))},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),bo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(go),Eo=(a(697),{name:"",os:[],osPesquisa:[],pesquisa:"",tipoPesquisa:1,situacao:2,pesquisaTimer:0,pesquisaDelayed:0,loading:!0,redirect:!1,chaveFocus:"",deleteOS:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],acessosPermissoes:[],load:200,offset:0}),xo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Eo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"OS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteOS||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteOS:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOS();case 2:return t.t0=e,t.next=5,le.a.getBase("getMoedas.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getPortos.php");case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getTiposAcessos.php");case 11:return t.t3=t.sent,t.next=14,le.a.getBase("getPermissoes.php");case 14:return t.t4=t.sent,t.t5=N()().format("YYYY-MM-DD"),t.t6=N()().add(1,"day").format("YYYY-MM-DD"),t.t7={moedas:t.t1,portos:t.t2,acessos:t.t3,permissoes:t.t4,vencimentoInicial:t.t5,vencimentoFinal:t.t6},t.next=20,t.t0.setState.call(t.t0,t.t7);case 20:if(!e.props.location.state||!e.props.location.state.chave){t.next=23;break}return t.next=23,e.setState({chaveFocus:e.props.location.state.chave});case 23:return t.t8=e,t.next=26,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 26:return t.t9=t.sent,t.t10={acessosPermissoes:t.t9,loading:!1},t.next=30,t.t8.setState.call(t.t8,t.t10);case 30:case"end":return t.stop()}}),t)}))),e.getOS=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=[],t.t1=Object(O.a)(e.state.os),t.t2=O.a,t.next=5,le.a.getBase("getOsOrcamento.php",e.state.usuarioLogado.empresa,201,e.state.offset);case 5:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),a=t.t0.concat.call(t.t0,t.t1,t.t4),t.next=10,e.setState({os:a});case 10:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteOS=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteOS:!0}),Object(oe.confirmAlert)({customUI:function(t){var o=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Cancelar este or\xe7amento? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteOS.php",{token:!0,chave:a,canceladoPor:e.state.usuarioLogado.codigo}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os",e.state.usuarioLogado.codigo,null,"Cancelamento",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:o();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.pesquisa=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearTimeout(e.state.pesquisaTimer),o=setTimeout(Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getOsOrcamentoPesquisa(e.state.pesquisa,e.state.tipoPesquisa,e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.t2={osPesquisa:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),t)}))),500),t.next=4,e.setState({pesquisaTimer:o,pesquisa:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){var a=t;if(2==e.state.situacao?a=t.Data_Encerramento&&"Invalid date"!=N()(t.Data_Encerramento).format()||"0"!=t.cancelada?"":t:3==e.state.situacao?a="0"!=t.cancelada?t:"":4==e.state.situacao?a=!t.Data_Encerramento||"Invalid date"==N()(t.Data_Encerramento).format()||"0"!=t.cancelada||t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()?"":t:5==e.state.situacao?a=t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()&&"0"==t.cancelada?t:"":6==e.state.situacao&&(a=t.Data_Faturamento&&"Invalid date"!=N()(t.Data_Faturamento).format()||"0"!=t.cancelada?"":t),a)return a},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarMovimentacao:!0,titulo:"OS - Or\xe7amento"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({tipoPesquisa:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement("option",{value:1},"Codigo"),m.a.createElement("option",{value:2},"Navio"),m.a.createElement("option",{value:3},"Servi\xe7o"),m.a.createElement("option",{value:4},"Porto"),m.a.createElement("option",{value:5},"Cliente"),m.a.createElement("option",{value:6},"Sequencial")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pesquisa(a.currentTarget.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"})),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-2 col-lg-4 col-xl-4"}),m.a.createElement("div",{className:"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2"},m.a.createElement("label",{style:{fontSize:"1.1em",marginTop:3,fontWeight:"bold"}},"Situa\xe7\xe3o: ")),m.a.createElement("div",{className:"col-5 col-sm-5 col-md-4 col-lg-2 col-xl-2"},m.a.createElement("select",{className:"form-control",value:this.state.situacao,onChange:function(t){e.setState({situacao:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Todas"),m.a.createElement("option",{value:2},"Em aberto"),m.a.createElement("option",{value:3},"Canceladas"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addlink:{pathname:"/ordensservico/addOsOrcamento/0"}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=690&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Porto")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Servi\xe7o")),m.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0"}},m.a.createElement(ee.a,{icon:ne.M}))))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Servi\xe7o")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-right"},m.a.createElement("span",{className:"subtituloships"}))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"C\xf3digo")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Remarks")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-2 text-right"},m.a.createElement("span",{className:"subtituloships"}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},""==this.state.pesquisa&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.os[0]&&this.state.os.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){var o,n,r;return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.codigo==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.codigo==e.state.chaveFocus?"par focusLight":"par ":t.codigo==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=690&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.centro_custo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.portoNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,(null===(o=t.clienteNome)||void 0===o?void 0:o.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.centro_custo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,(null===(n=t.clienteNome)||void 0===n?void 0:n.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.centro_custo},{titulo:"Cliente",valor:t.clienteNome},{titulo:"Navio",valor:t.navioNome},{titulo:"Porto",valor:t.portoNome},{titulo:"Centro de Custo",valor:t.centroCustoNome},{titulo:"Tipo de Servi\xe7o",valor:t.tipoServicoNome},{titulo:"Data de Abertura",valor:N()(t.Data_Abertura).format("DD/MM/YYYY")}],itemPermissao:"OS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}},itemEdit:1!=t.cancelada?{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}:"",itemDelete:1!=t.cancelada?e.deleteOS:""})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("p",null,t.centro_custo)),m.a.createElement("div",{className:"col-4 text-center",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.Descricao)),m.a.createElement("div",{className:"col-3 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,(null===(r=t.clienteNome)||void 0===r?void 0:r.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))}))),""!=this.state.pesquisa&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.osPesquisa[0]&&this.state.osPesquisa.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){var o,n;return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:1==t.cancelada?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags cancelada":a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=690&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.centro_custo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.portoNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,(null===(o=t.clienteNome)||void 0===o?void 0:o.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<690&&window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.centro_custo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,(null===(n=t.clienteNome)||void 0===n?void 0:n.length)>30?"".concat(t.clienteNome.substring(0,28),"..."):t.clienteNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,t.tipoServicoNome)),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Codigo",valor:t.centro_custo},{titulo:"Cliente",valor:t.clienteNome},{titulo:"Navio",valor:t.navioNome},{titulo:"Porto",valor:t.portoNome},{titulo:"Centro de Custo",valor:t.centroCustoNome},{titulo:"Tipo de Servi\xe7o",valor:t.tipoServicoNome},{titulo:"Data de Abertura",valor:N()(t.Data_Abertura).format("DD/MM/YYYY")}],itemPermissao:"OS",itemNome:t.Descricao,itemChave:t.Chave,itemAdd:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}},itemEdit:1!=t.cancelada?{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}:"",itemDelete:1!=t.cancelada?e.deleteOS:""})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/0",state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.M}))),1!=t.cancelada&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(t.Chave),state:{os:Object(b.a)({},t)}}},m.a.createElement(ee.a,{styles:{color:"red !important"},icon:ne.L}))),1!=t.cancelada&&1==e.state.acessosPermissoes.filter((function(e){if("OS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteOS(t.Chave,t.Descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))}))),""==this.state.pesquisa&&this.state.os.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({offset:e.state.load,load:e.state.load+50});case 2:return t.next=4,e.getOS();case 4:case"end":return t.stop()}}),t)})))},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),No=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(xo),Co=(a(698),{name:"",eventos:[],pesquisa:"",pesquisaCliente:"",pesquisaNavio:"",tipoPesquisa:3,chaveFocus:"",deleteEvento:!1,loading:!0,redirect:!1,tipos:["Pagar","Receber","Adiantamento","Desconto"],modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",acessos:[],permissoes:[],acessosPermissoes:[],load:100,offset:0}),wo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Co),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteEvento||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteEvento:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getServicosItens();case 2:return t.t0=e,t.next=5,le.a.getBase("getPessoas.php");case 5:return t.t1=t.sent,t.next=8,le.a.getBase("getPessoas.php");case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getTiposAcessos.php");case 11:return t.t3=t.sent,t.next=14,le.a.getBase("getPermissoes.php");case 14:return t.t4=t.sent,t.t5={pessoas:t.t1,os:t.t2,acessos:t.t3,permissoes:t.t4},t.next=18,t.t0.setState.call(t.t0,t.t5);case 18:if(!e.props.location.state||!e.props.location.state.chave){t.next=21;break}return t.next=21,e.setState({chaveFocus:e.props.location.state.chave});case 21:return t.t6=e,t.next=24,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 24:return t.t7=t.sent,t.t8={acessosPermissoes:t.t7,loading:!1},t.next=28,t.t6.setState.call(t.t6,t.t8);case 28:case"end":return t.stop()}}),t)}))),e.getServicosItens=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getServicosItens.php",{token:!0,offset:e.state.offset,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[].concat(Object(O.a)(e.state.eventos),Object(O.a)(a.data.filter((function(e){return 1!=e.cancelada})))),t.next=3,e.setState({eventos:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteServicoItem=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteEvento:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja cancelar esta solicita\xe7\xe3o? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteServicoItem.php",{token:!0,chave:a,canceladaPor:e.state.usuarioLogado.codigo}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,null,"Cancelamento",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){var a=t;return""!==e.state.pesquisaCliente&&(a=t.clienteNome&&t.clienteNome.toLowerCase().includes(e.state.pesquisaCliente.toLowerCase())?t:""),""!==e.state.pesquisaNavio&&(a=a.navioNome&&a.navioNome.toLowerCase().includes(e.state.pesquisaNavio.toLowerCase())?a:""),a.descricao&&1==e.state.tipoPesquisa?a.descricao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):a.fornecedorNome&&2==e.state.tipoPesquisa?a.fornecedorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):a.osCodigo&&3==e.state.tipoPesquisa?a.osCodigo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarMovimentacao:!0,titulo:"Eventos"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes,evento:!0,itemFinanceiro:this.state.itemFinanceiro}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:3},"OS"),m.a.createElement("option",{value:1},"Descri\xe7\xe3o"),m.a.createElement("option",{value:2},"Fornecedor")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addos/0"}},m.a.createElement("button",{className:"btn btn-success"},"Adicionar OS"))))),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-4"},m.a.createElement("input",{className:"form-control ",placeholder:"Pesquise por cliente...",value:this.state.pesquisaCliente,onChange:function(t){e.setState({pesquisaCliente:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-4"},m.a.createElement("input",{className:"form-control",placeholder:"Pesquise por navio...",value:this.state.pesquisaNavio,onChange:function(t){e.setState({pesquisaNavio:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/ordensservico/addevento/0",state:{evento:{}}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=960&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Porto")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Data de Abertura")),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement("span",{className:"subtituloships"},1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:{}}}},m.a.createElement(ee.a,{icon:ne.M})))))),window.innerWidth<960&&window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Data de Abertura")),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-center"},m.a.createElement("span",{className:"subtituloships"},1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:{}}}},m.a.createElement(ee.a,{icon:ne.M})))))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Data de Abertura")),m.a.createElement("div",{className:"col-1 text-center removePadding"},m.a.createElement("span",{className:"subtituloships"},1==this.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:{}}}},m.a.createElement(ee.a,{icon:ne.M})))))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.eventos[0]&&this.state.eventos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=960&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.osCodigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.fornecedorNome)),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,t.portoNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,N()(t.Data_Abertura).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:Object(b.a)({},t),os:{Chave:t.chave_os,chave_navio:t.chave_navio,viagem:t.viagem}}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/".concat(t.chave),state:{evento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteServicoItem(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<960&&window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.osCodigo)),m.a.createElement("div",{className:"col-xl-2 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.navioNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.fornecedorNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left",style:{overflowWrap:"anywhere "}},m.a.createElement("p",null,N()(t.Data_Abertura).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-lg-1 col-md-1 col-sm-1 col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:Object(b.a)({},t),os:{Chave:t.chave_os,chave_navio:t.chave_navio,viagem:t.viagem}}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/".concat(t.chave),state:{evento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteServicoItem(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.S})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"OS",valor:t.osCodigo},{titulo:"Navio",valor:t.navioNome},{titulo:"Porto",valor:t.portoNome},{titulo:"Tipo",valor:e.state.tipos[t.tipo_sub]},{titulo:"Ordem",valor:t.ordem.replaceAll(",",".")},{titulo:"Fornecedor",valor:t.fornecedorNome},{titulo:"Data de Abertura",valor:N()(t.Data_Abertura).format("DD/MM/YYYY")}],itemPermissao:"SERVICOS_ITENS",itemNome:t.descricao,itemChave:t.chave,itemAdd:{pathname:"/ordensservico/addevento/0",state:{evento:Object(b.a)({},t),os:Object(b.a)({},e.state.os)}},itemEdit:{pathname:"/ordensservico/addevento/".concat(t.chave),state:{evento:Object(b.a)({},t),os:Object(b.a)({},e.state.os)}},itemFinanceiro:{pathname:"/ordensservico/addeventofinanceiro/".concat(t.chave),state:{evento:Object(b.a)({},t),os:Object(b.a)({},e.state.os)}},itemDelete:e.deleteServicoItem})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-3 text-center"},m.a.createElement("p",null,t.osCodigo)),m.a.createElement("div",{className:"col-4 text-center"},m.a.createElement("p",null,t.descricao)),m.a.createElement("div",{className:"col-4 text-center",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,N()(t.Data_Abertura).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/0",state:{evento:Object(b.a)({},t),os:{Chave:t.chave_os,chave_navio:t.chave_navio,viagem:t.viagem}}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addevento/".concat(t.chave),state:{evento:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("SERVICOS_ITENS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteServicoItem(t.chave,t.descricao)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.eventos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({offset:e.state.load,load:e.state.load+100}),e.getServicosItens()}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),Oo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(wo),So=a(139),ko=(a(699),a(197)),yo=a.n(ko),jo=a(118),Fo={situacao:"A",porto:"",centroCusto:"",navio:"",cliente:"",periodoInicial:N()("2000-01-01").format("YYYY-MM-DD"),periodoFinal:N()().format("YYYY-MM-DD"),lancamentoInicial:N()("1900-1-1").format("YYYY-MM-DD"),lancamentoFinal:N()("2100-12-31").format("YYYY-MM-DD"),excluirTipos:!1,moeda:6,moedasOptions:[],moedasOptionsTexto:"",situacaoOptions:[{value:"T",label:"Todos"},{value:"A",label:"Em Aberto"},{value:"E",label:"Encerradas"},{value:"F",label:"Faturadas"},{value:"C",label:"Canceladas"}],naviosOptions:[],naviosOptionsTexto:"",clientesOptions:[],clientesOptionsTexto:"",centrosCustos:[],centrosCustosOptions:[],centrosCustosOptionsTexto:"",portosOptions:[],portosOptionsTexto:"",bloqueado:!1,relatorio:[],pdfgerado:[],pdfContent:[],pdfEmail:"",emails:[],failures:[],successes:[],emailModal:""},Ao=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},Fo),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==o.state.usuarioLogado.empresa){e.next=3;break}return e.next=3,o.setState({empresa:o.state.usuarioLogado.empresa});case 3:return e.next=5,o.loadAll();case 5:case"end":return e.stop()}}),e)}))),o.loadAll=Object(G.a)(z.a.mark((function e(){var t,a,n,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getBase("getTiposAcessos.php");case 3:return e.t1=e.sent,e.next=6,le.a.getBase("getPermissoes.php");case 6:return e.t2=e.sent,e.next=9,le.a.getBaseOptions("getNavios.php","nome","chave");case 9:return e.t3=e.sent,e.next=12,le.a.getBaseOptionsCustomLabel("getClientes.php","Nome","Cnpj_Cpf","Chave");case 12:return e.t4=e.sent,e.next=15,le.a.getBaseOptions("getPortos.php","Descricao","Chave");case 15:return e.t5=e.sent,e.next=18,le.a.getBaseOptions("getCentrosCustos.php","Descricao","Chave");case 18:return e.t6=e.sent,e.t7={acessos:e.t1,permissoes:e.t2,naviosOptions:e.t3,clientesOptions:e.t4,portosOptions:e.t5,centrosCustosOptions:e.t6},e.next=22,e.t0.setState.call(e.t0,e.t7);case 22:return t=o.state,a=t.naviosOptions,n=t.portosOptions,r=t.centrosCustosOptions,s=t.clientesOptions,a.unshift({value:"",label:"Todos"}),n.unshift({value:"",label:"Todos"}),r.unshift({value:"",label:"Todos"}),s.unshift({value:"",label:"Todos"}),e.t8=o,e.next=30,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 30:return e.t9=e.sent,e.t10=a,e.t11=n,e.t12=r,e.t13=s,e.t14={acessosPermissoes:e.t9,naviosOptions:e.t10,portosOptions:e.t11,centrosCustosOptions:e.t12,clientesOptions:e.t13,loading:!1},e.next=38,e.t8.setState.call(e.t8,e.t14);case 38:case"end":return e.stop()}}),e)}))),o.gerarRelatorio=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s,c,l,i,u,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setState({loading:!0}),t){e.next=3;break}return e.abrupt("return");case 3:return a="os.Empresa = ".concat(o.state.empresa),n="A"==o.state.situacao?'os.cancelada != 1 AND (os.Data_Encerramento = "" OR os.Data_Encerramento = "0000-00-00 00:00:00")':"E"==o.state.situacao?'os.cancelada != 1 AND (os.Data_Encerramento != "" AND os.Data_Encerramento != "0000-00-00 00:00:00" AND (os.Data_Faturamento = "" OR os.Data_Faturamento = "0000-00-00 00:00:00"))':"F"==o.state.situacao?'os.cancelada != 1 AND (os.Data_Faturamento != "" AND os.Data_Faturamento != "0000-00-00 00:00:00")':"C"==o.state.situacao?"os.cancelada = 1":"",r=o.state.navio?"os.chave_navio = '".concat(o.state.navio,"'"):"",s=o.state.cliente?"os.chave_cliente = '".concat(o.state.cliente,"'"):"",c=o.state.centroCusto?"os.centro_custo = '".concat(o.state.centroCusto,"'"):"",l=o.state.porto?"os.porto = '".concat(o.state.porto,"'"):"",i=o.state.periodoInicial?"os.".concat("F"==o.state.situacao?"Data_Faturamento":"Data_Abertura"," >= '").concat(N()(o.state.periodoInicial).format("YYYY-MM-DD"),"'"):"",u=o.state.periodoFinal?"os.".concat("F"==o.state.situacao?"Data_Faturamento":"Data_Abertura"," <= '").concat(N()(o.state.periodoFinal).format("YYYY-MM-DD"),"'"):"",m=(m=[a,n,r,c,l,i,u,s]).filter((function(e){return""!=e.trim()})),e.next=15,ae.a.post("gerarRelatorioOS.php",{token:!0,where:m.join(" AND ")}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({relatorio:t.data});case 2:o.relatorio();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:o.setState({loading:!1});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},o.relatorio=Object(G.a)(z.a.mark((function e(){var t,a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({loading:!0}),n=null===(t=Object(So.a)(o))||void 0===t||null===(a=t.state)||void 0===a?void 0:a.relatorio,console.log(n),r=m.a.createElement("div",{style:{zoom:1},key:546546554654},m.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},m.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/vmKJkx4/logo.png",alt:"logo-Strade",border:"0",style:{width:"30%",height:"230px",maxWidth:"100%"}}),m.a.createElement("h3",null,"Relat\xf3rio de OS")),m.a.createElement("hr",null),m.a.createElement("div",{className:"pdfContent"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tr",{style:{padding:"10px",fontSize:"1.2em"}},m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"C\xf3digo"),m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Navio"),m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Porto"),m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"ETA"),m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"ETB"),m.a.createElement("th",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"ETS"),m.a.createElement("th",{colSpan:2,style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Cliente"),m.a.createElement("th",{colSpan:2,style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Tipo de Servi\xe7o")),null===n||void 0===n?void 0:n.map((function(e){return m.a.createElement("tr",{style:{padding:"10px",fontSize:"0.8em"}},m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},e.codigo),m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},e.navioNome),m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},e.portoNome),m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Invalid date"==N()(e.ETA).format("DD/MM/YYYY")?"":N()(e.ETA).format("DD/MM/YYYY")),m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Invalid date"==N()(e.ETB).format("DD/MM/YYYY")?"":N()(e.ETB).format("DD/MM/YYYY")),m.a.createElement("td",{style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},"Invalid date"==N()(e.ETS).format("DD/MM/YYYY")?"":N()(e.ETS).format("DD/MM/YYYY")),m.a.createElement("td",{colSpan:2,style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},e.pessoaNomeFantasia?e.pessoaNomeFantasia:e.pessoaNome),m.a.createElement("td",{colSpan:2,style:{borderBottom:"2px solid black",paddingLeft:"15px",paddingRight:"15px"}},e.tipoServicoNome))}))))),e.next=6,o.setState({pdfgerado:r,pdfView:!0,loading:!1,pdfEmail:yo.a.renderToString(r)});case 6:o.handleExportWithComponent();case 7:case"end":return e.stop()}}),e)}))),o.handleExportWithComponent=function(e){o.pdfExportComponent.current.save(),o.setState({loading:!1})},o.getPessoaContatos=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getContatos.php",{token:!0,pessoa:t}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({contatos:t.data,fornecedorEmail:t.data.find((function(e){return"EM"==e.Tipo}))?t.data.find((function(e){return"EM"==e.Tipo})).Campo1:""});case 2:return e.next=4,o.setState({emails:o.state.fornecedorEmail.split("; ")});case 4:return e.next=6,o.setState({loading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(na.a,null),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{position:"absolute",left:"-900000px",top:0}},m.a.createElement(jo.a,{fileName:"relatorio_os",scale:.6,landscape:!0,className:"pdfExp",paperSize:"A4",margin:"0.5cm",forcePageBreak:".page-break",ref:this.pdfExportComponent},this.state.pdfgerado)),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarOS:!0,relatorio:!0,titulo:"OS"})),m.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"-20px",marginBottom:"2%"}},m.a.createElement("h6",{style:{color:"red"}},this.state.erro)),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.gerarRelatorio(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Situa\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.situacaoOptions,value:this.state.situacaoOptions.find((function(t){return t.value==e.state.situacao})),search:!0,onChange:function(t){e.setState({situacao:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Centro de Custo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.centrosCustosOptions.filter((function(t){return e.filterSearch(t,e.state.centrosCustosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({centrosCustosOptionsTexto:t})},value:this.state.centrosCustosOptions.filter((function(t){return t.value==e.state.centroCusto}))[0],search:!0,onChange:function(t){e.setState({centroCusto:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Navio")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.naviosOptions.filter((function(t){return e.filterSearch(t,e.state.naviosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({naviosOptionsTexto:t})},value:this.state.naviosOptions.find((function(t){return t.value==e.state.navio})),search:!0,onChange:function(t){e.setState({navio:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cliente")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.clientesOptions.filter((function(t){return e.filterSearch(t,e.state.clientesOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({clientesOptionsTexto:t})},value:this.state.clientesOptions.find((function(t){return t.value==e.state.cliente})),search:!0,onChange:function(t){e.setState({cliente:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Porto")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(t){return e.filterSearch(t,e.state.portosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({portosOptionsTexto:t})},value:this.state.portosOptions.find((function(t){return t.value==e.state.porto})),search:!0,onChange:function(t){e.setState({porto:t.value})}})),m.a.createElement("div",{className:"col-12"},m.a.createElement("label",{className:"center relatorioLabelTitulo"},"F"==this.state.situacao?"Data faturamento":"Abertura")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data Inicial")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.periodoInicial,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({periodoInicial:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data Final")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.periodoFinal,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({periodoFinal:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Gerar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),To=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Ao),Po=(a(702),{name:"",historicos:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteTarifa:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",pesquisaPorto:"",pesquisaServico:"",acessos:[],permissoes:[],direcaoTabela:ne.n,acessosPermissoes:[]}),Do=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Po),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:4});case 10:e.state.acessosPermissoes.map((function(t){"TARIFAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})})),e.setState({tarifas:e.state.tarifas.sort((function(e,t){return new Date(t.vencimento)-new Date(e.vencimento)}))});case 12:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteTarifa||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteTarifa:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTarifas.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={tarifas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave,tipoPesquisa:4});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteTarifa=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n,r){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteTarifa:!0}),Object(oe.confirmAlert)({customUI:function(t){var s=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a tarifa de (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteTarifa.php",{token:!0,chave:a,anexo1:n,anexo2:r}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("tarifas",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:s();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a,o,n){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.tarifas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({tarifas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){if(""==e.state.pesquisa&&""==e.state.pesquisaPorto&&""==e.state.pesquisaServico)return!0;if(1==e.state.tipoPesquisa){if(!t.fornecedorNome||!t.fornecedorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()))return!1}else if(!t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()))return!1;return!!(!e.state.pesquisaPorto||t.portoNome&&t.portoNome.toLowerCase().includes(e.state.pesquisaPorto.toLowerCase()))&&!(e.state.pesquisaServico&&!t.servico.toLowerCase().includes(e.state.pesquisaServico.toLowerCase()))},e}return Object(H.a)(a,[{key:"render",value:function(){var e,t=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarMovimentacao:!0,titulo:"Tarifas de Fornecedores"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){t.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/ordensservico/addtarifa/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-2"}),m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(e){t.setState({tipoPesquisa:e.currentTarget.value})}},m.a.createElement("option",{value:1},"Fornecedor"),m.a.createElement("option",{value:4},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(e){t.setState({pesquisa:e.currentTarget.value})}}),m.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-left"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/0"}},m.a.createElement("button",{className:"btn btn-success"},"+")))),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-4"},m.a.createElement("input",{className:"form-control ",placeholder:"Pesquise por porto...",value:this.state.pesquisaPorto,onChange:function(e){t.setState({pesquisaPorto:e.currentTarget.value})}})),m.a.createElement("div",{className:"col-4"},m.a.createElement("input",{className:"form-control",placeholder:"Pesquise por servico...",value:this.state.pesquisaServico,onChange:function(e){t.setState({pesquisaServico:e.currentTarget.value})}})))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Porto")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Servico")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Preferencial")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Vencimento")),m.a.createElement("div",{className:"col-1 text-right revertItem",onClick:function(){return t.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Porto")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Preferencial")),m.a.createElement("div",{className:"col-1 text-right revertItem",onClick:function(){return t.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=(null===(e=this.state)||void 0===e?void 0:e.tarifas[0])&&this.state.tarifas.filter(this.filtrarPesquisa).map((function(e,a){var o;return m.a.createElement("div",{key:e.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:e.chave==t.state.chaveFocus?"focusMe":"",tabindex:-1,key:e.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?e.chave==t.state.chaveFocus?"par focusLight":"par ":e.chave==t.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},e.fornecedorNome))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},null===e||void 0===e||null===(o=e.portoNome)||void 0===o?void 0:o.split("@").join(", ")))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},e.servico))),m.a.createElement("div",{className:"col-2 text-center",style:{justifyContent:"center"}},m.a.createElement("p",{className:"mobileajuster5"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},"0"!=e.preferencial?"Sim":"N\xe3o")))),m.a.createElement("div",{className:"col-2 text-center",style:{justifyContent:"center"}},m.a.createElement("p",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},K.a.formataDataBr(e.vencimento)))),m.a.createElement("div",{className:"col-1 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/0",state:{tarifa:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==t.state.acessosPermissoes.filter((function(e){if("TARIFAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteTarifa(e.chave,e.fornecedor,e.anexo,e.anexo2)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){t.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:e.chave},{titulo:"Fornecedor",valor:e.fornecedor}],itemPermissao:"ANEXO",itemNome:e.fornecedorNome,itemChave:e.chave,itemAdd:{pathname:"/ordensservico/addtarifa/0",state:{tarifa:Object(b.a)({},e)}},itemEdit:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},itemDelete:t.deleteTarifa})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},e.fornecedorNome))),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},e.portoNome.split("@").join(", ")))),m.a.createElement("div",{className:"col-3 text-center",style:{justifyContent:"center"}},m.a.createElement("h6",{className:"mobileajuster5 text-center"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}},className:"nonLink"},"0"!=e.preferencial?"Sim":"N\xe3o"))),m.a.createElement("div",{className:"col-1 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/0",state:{tarifa:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addtarifa/".concat(e.chave),state:{tarifa:Object(b.a)({},e)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==t.state.acessosPermissoes.filter((function(e){if("HISTORICOS_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return t.deleteTarifa(e.chave,e.fornecedor,e.anexo,e.anexo2)}},m.a.createElement(ee.a,{icon:ne.T}))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),_o=Object(Q.b)((function(e){return{user:e.user}}),null)(Do),Lo=(a(703),{name:"",historicos:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,chaveFocus:"",deleteAnexo:!1,modalItemAberto:!1,itemPermissao:"",itemInfo:[],itemNome:"",itemChave:"",itemAdd:{},itemEdit:{},itemFinanceiro:{},itemDelete:"",pesquisaStatus:-1,statusOptions:[{value:-1,label:"Todos"},{value:0,label:"Aguardando valida\xe7\xe3o..."},{value:1,label:"Invalidado"},{value:2,label:"Aprovado"},{value:3,label:"Validado"}],acessos:[],permissoes:[],direcaoTabela:ne.n,acessosPermissoes:[]}),Io=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Lo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=10;break}if(!e.refs.focusMe){t.next=8;break}return t.next=6,e.refs.focusMe.focus();case 6:t.next=10;break;case 8:return t.next=10,e.setState({pesquisa:e.state.chaveFocus,tipoPesquisa:4});case 10:e.state.acessosPermissoes.map((function(t){"ANEXOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteAnexo||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteAnexo:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getAnexos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={anexos:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave,tipoPesquisa:4});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteAnexo:!0}),Object(oe.confirmAlert)({customUI:function(t){var r=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a anexo de (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteAnexo.php",{token:!0,chave:a,anexo:n}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("anexos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:r();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a,o){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.anexos.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({anexos:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){if(""==e.state.pesquisa&&-1==e.state.pesquisaStatus)return!0;if(1==e.state.tipoPesquisa){if(!t.osCodigo||!t.osCodigo.toLowerCase().includes(e.state.pesquisa.toLowerCase()))return!1}else if(2==e.state.tipoPesquisa){if(!t.fornecedorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()))return!1}else if(!t.chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()))return!1;return!!(-1==e.state.pesquisaStatus||t.validado&&!t.validado==e.state.pesquisaStatus)},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarMovimentacao:!0,titulo:"Valida\xe7\xf5es"}),m.a.createElement("br",null)),m.a.createElement(_e,{closeModal:function(){e.setState({modalItemAberto:!1})},itens:this.state.itemInfo,nome:this.state.itemNome,chave:this.state.itemChave,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,itemAdd:this.state.itemAdd,itemEdit:this.state.itemEdit,itemDelete:this.state.itemDelete,acessosPermissoes:this.state.acessosPermissoes}),m.a.createElement(Ae,{addLink:{pathname:"/ordensservico/addanexo/0"}}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"OS"),m.a.createElement("option",{value:2},"Fornecedor"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-4"},m.a.createElement("select",{className:"form-control",placeholder:"Pesquise por status...",value:this.state.pesquisaStatus,onChange:function(t){e.setState({pesquisaStatus:t.currentTarget.value})}},this.state.statusOptions.map((function(e){return m.a.createElement("options",{value:e.value},e.label)})))))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},window.innerWidth>=500&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Navio")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Vencimento")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Status")),m.a.createElement("div",{className:"col-1 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))),window.innerWidth<500&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Status")),m.a.createElement("div",{className:"col-2 text-right revertItem",onClick:function(){return e.reverterItens()}},m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela}))))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.anexos[0]&&this.state.anexos.filter(this.filtrarPesquisa).map((function(t,a){var o,n;return m.a.createElement("div",{key:t.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,key:t.id,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.chave==e.state.chaveFocus?"par focusLight":"par ":t.chave==e.state.chaveFocus?"impar focusDark":"impar")},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},t.osCodigo))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},t.navioNome))),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},t.fornecedorNome))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},N()(t.vencimento).format("DD/MM/YYYY")))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},null===(o=e.state.statusOptions.find((function(e){return e.value==(t.validado?t.validado:0)})))||void 0===o?void 0:o.label))),m.a.createElement("div",{className:"col-1 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addanexo/".concat(t.chave),state:{anexo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("ANEXOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteAnexo(t.chave,t.fornecedor,t.anexo)}},m.a.createElement(ee.a,{icon:ne.T})))),window.innerWidth<500&&m.a.createElement("div",{onClick:function(){e.setState({modalItemAberto:!0,itemInfo:[{titulo:"Chave",valor:t.chave},{titulo:"OS",valor:t.osCodigo},{titulo:"Fornecedor",valor:t.fornecedorNome},{titulo:"Navio",valor:t.navioNome},{titulo:"Validado Por",valor:t.operadorNome}],itemPermissao:"ANEXO",itemNome:t.osCodigo,itemChave:t.chave,itemAdd:!1,itemEdit:{pathname:"/ordensservico/addanexo/".concat(t.chave),state:{anexo:Object(b.a)({},t)}},itemDelete:e.deleteAnexo})},className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},t.osCodigo))),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("h6",{className:"mobileajuster5"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},t.fornecedorNome))),m.a.createElement("div",{className:"col-3 text-center",style:{justifyContent:"center"}},m.a.createElement("h6",{className:"mobileajuster5 text-center"},m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("fornDocs/".concat(t.anexo))),className:"nonLink"},null===(n=e.state.statusOptions.find((function(e){return e.value==(t.validado?t.validado:0)})))||void 0===n?void 0:n.label))),m.a.createElement("div",{className:"col-2 text-left icones mobileajuster4 "},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/ordensservico/addanexo/".concat(t.chave),state:{anexo:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("ANEXOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteAnexo(t.chave,t.fornecedor,t.anexo)}},m.a.createElement(ee.a,{icon:ne.T}))))))}))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Mo=Object(Q.b)((function(e){return{user:e.user}}),null)(Io),Ro=a(509),Bo=a(510),qo=(a(709),l={evento:"",os:"",chave:"",chave_os:"",navio_os:"",viagem_os:"",data:N()().format("YYYY-MM-DD"),fornecedor:"",fornecedorInicial:"",fornecedorCusteio:"",fornecedorEmail:"",taxa:"",repasse:!1,moeda:6,valor:"",vlrc:"",descricao:"",tipo:0,ordem:"",remarks:"",qntd:1,contatos:[],editavel:"",habilitado:!0,campos:[],eventoComplementar:[],camposCopiar:[],eventosIrmaos:[],moedas:[],logs:[],modalLog:!1,corpo:"",assunto:"",anexos:[],anexosNomes:[],formats:[],exts:[],dadosIniciais:"",dadosFinais:""},Object(Pt.a)(l,"fornecedorEmail",""),Object(Pt.a)(l,"emails",[]),Object(Pt.a)(l,"recarregaPagina",""),Object(Pt.a)(l,"redirectOS",!1),Object(Pt.a)(l,"redirectOsOrcamento",!1),Object(Pt.a)(l,"pessoas",[]),Object(Pt.a)(l,"pessoasOptions",[]),Object(Pt.a)(l,"pessoasOptionsTexto",""),Object(Pt.a)(l,"taxas",[]),Object(Pt.a)(l,"taxasOptions",[]),Object(Pt.a)(l,"taxasOptionsTexto",""),Object(Pt.a)(l,"todasOs",[]),Object(Pt.a)(l,"osOptions",[]),Object(Pt.a)(l,"osOptionsTexto",""),Object(Pt.a)(l,"descricoesPadrao",[]),Object(Pt.a)(l,"descricoesPadraoOptions",[]),Object(Pt.a)(l,"descricoesPadraoOptionsTexto",""),Object(Pt.a)(l,"tiposSubOptions",[{value:0,label:"Pagar"},{value:1,label:"Receber"},{value:2,label:"Recebimento de Remessa"},{value:3,label:"Desconto"}]),Object(Pt.a)(l,"acessos",[]),Object(Pt.a)(l,"permissoes",[]),Object(Pt.a)(l,"acessosPermissoes",[]),Object(Pt.a)(l,"bloqueado",!1),Object(Pt.a)(l,"emailBloqueado",!1),Object(Pt.a)(l,"ordemBloqueado",!0),Object(Pt.a)(l,"modal",""),Object(Pt.a)(l,"modalAberto",!1),Object(Pt.a)(l,"modalLista",[]),Object(Pt.a)(l,"modalPesquisa",""),Object(Pt.a)(l,"fornecedorCusteioAtivo",!1),Object(Pt.a)(l,"financeiro",!1),Object(Pt.a)(l,"irParaFinanceiro",!1),Object(Pt.a)(l,"email",!1),Object(Pt.a)(l,"emails",[]),Object(Pt.a)(l,"hasEmail",!1),Object(Pt.a)(l,"failures",[]),Object(Pt.a)(l,"successes",[]),Object(Pt.a)(l,"documentos",[]),Object(Pt.a)(l,"documentoModal",!1),Object(Pt.a)(l,"tiposDocumento",[]),Object(Pt.a)(l,"tiposDocumentoOptions",[]),Object(Pt.a)(l,"tiposDocumentoOptionsTexto",""),Object(Pt.a)(l,"documento",[]),Object(Pt.a)(l,"documentoDescricao",""),Object(Pt.a)(l,"documentoNome",""),Object(Pt.a)(l,"documentoTipo",""),Object(Pt.a)(l,"documentoChave",""),Object(Pt.a)(l,"documentoCaminho",""),Object(Pt.a)(l,"documentoTrocar",!0),Object(Pt.a)(l,"documentoEditar",!1),Object(Pt.a)(l,"loading",!0),Object(Pt.a)(l,"emailEnviado",[]),Object(Pt.a)(l,"dataEmail",""),Object(Pt.a)(l,"emailsIniciais",[]),Object(Pt.a)(l,"emailsFinais",[]),Object(Pt.a)(l,"alert",{type:"",msg:""}),Object(Pt.a)(l,"templatesModal",!1),Object(Pt.a)(l,"templates",[]),Object(Pt.a)(l,"anexosForn",[]),Object(Pt.a)(l,"anexosValidadosOptions",[{label:"Aguardando...",value:0},{label:"Invalidado",value:1},{label:"Aprovado",value:2},{label:"Validado",value:3,nonSelectable:!0}]),l),Yo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},qo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r,s,c,l,i,u,m,p,d,v;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return l=t.sent,t.next=6,e.setState({chave:l});case 6:if(!(null===(a=e.props.location)||void 0===a||null===(o=a.state)||void 0===o?void 0:o.os)){t.next=15;break}return i={value:e.props.location.state.os.Chave,navio:e.props.location.state.os.chave_navio,viagem:e.props.location.state.os.viagem},t.next=10,e.changeOS(i);case 10:return t.next=12,e.getOrdem();case 12:if(e.props.location.state.liberar_os){t.next=15;break}return t.next=15,e.setState({os:e.props.location.state.os});case 15:if(1!=(null===(n=e.props.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.editavel)&&0!=(null===(s=e.props.location)||void 0===s||null===(c=s.state)||void 0===c?void 0:c.editavel)||e.setState({editavel:e.props.location.state.editavel}),0==parseInt(l)){t.next=36;break}if(e.props.location&&e.props.location.state&&e.props.location.state.evento){t.next=25;break}return t.next=20,le.a.getBody("getSolicitacao.php",{chave:e.state.chave});case 20:return m=t.sent,t.next=23,e.setState({evento:m[0]});case 23:t.next=27;break;case 25:return t.next=27,e.setState({evento:e.props.location.state.evento});case 27:return t.next=29,e.getOSUma();case 29:return t.next=31,e.getOrdem();case 31:return t.next=33,e.setState((u={data:e.state.evento.data,fornecedor:e.state.evento.fornecedor,moeda:e.state.evento.Moeda,fornecedorInicial:e.state.evento.fornecedor,taxa:e.state.evento.taxa,descricao:e.state.evento.descricao,tipo:e.state.evento.tipo_sub,ordem:e.state.evento.ordem,remarks:e.state.evento.remarks,qntd:e.state.evento.qntd,valor:e.state.evento.valor},Object(Pt.a)(u,"valor",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor)),Object(Pt.a)(u,"vlrc",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor1)),Object(Pt.a)(u,"repasse",1==e.state.evento.repasse),Object(Pt.a)(u,"fornecedorCusteio",e.state.evento.Fornecedor_Custeio),Object(Pt.a)(u,"ordemBloqueado",!1),Object(Pt.a)(u,"emailEnviado",e.state.evento.email_enviado?e.state.evento.email_enviado.split(";"):[]),Object(Pt.a)(u,"dataEmail",e.state.evento.data_email),u));case 33:e.state.repasse&&e.setState({valor:e.state.vlrc}),e.changeTaxa(e.state.taxa),e.getdadosComplementares();case 36:return t.next=38,e.carregaTiposAcessos();case 38:return t.next=40,e.carregaPermissoes();case 40:return t.next=42,e.testaAcesso();case 42:if(console.log(e.props.location.state.os.orcamento),0!=e.props.location.state.os.orcamento){t.next=48;break}return t.next=46,e.getOS();case 46:t.next=50;break;case 48:return t.next=50,e.getOsOrcamento();case 50:return t.next=52,e.getTaxas();case 52:return t.next=54,e.getMoedas();case 54:return t.next=56,e.getPessoas();case 56:return t.next=58,e.getDescricaoPadrao();case 58:return t.next=60,e.getDocumentos();case 60:return t.next=62,e.getTiposDocumento();case 62:return t.next=64,e.getTemplates();case 64:if(0==e.state.chave){t.next=73;break}return t.next=67,le.a.getBody("getAnexos.php",{evento:e.state.chave,token:!0});case 67:return p=t.sent,console.log(p),t.next=71,e.setState({anexosForn:null===p||void 0===p?void 0:p.filter((function(e){return 0==p.validado||!p.validado}))});case 71:return t.next=73,e.setState({dadosIniciais:[{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.pessoasOptions)},{titulo:"Taxa",valor:K.a.formatForLogs(e.state.taxa,"options","","",e.state.taxasOptions)},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money","0,00")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money","0,00")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposSubOptions)},{titulo:"Ordem",valor:K.a.formatForLogs(e.state.ordem)},{titulo:"Remarks",valor:K.a.formatForLogs(e.state.remarks)},{titulo:"Fornecedor Custeio",valor:K.a.formatForLogs(e.state.fornecedorCusteio,"options","","",e.state.fornecedoresOptions)},{titulo:"Quantidade",valor:K.a.formatForLogs(e.state.qntd)}]});case 73:return e.state.acessosPermissoes.map((function(t){("SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})})),t.next=76,e.setState({loading:!1});case 76:0==e.state.chave&&0==(null===(d=e.props.location)||void 0===d||null===(v=d.state)||void 0===v?void 0:v.editavel)&&(0==e.state.tipo||1==e.state.tipo?e.setState({habilitado:!1}):e.setState({habilitado:!0})),console.log(e.state.habilitado),console.log(e.props.location.state.editavel),console.log(e.props.location.state.os);case 80:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(t,a){a.tipo!=e.state.tipo&&(console.log("."),0==e.state.chave&&(e.props.editavel?e.setState({habilitado:!0}):0==e.state.tipo||1==e.state.tipo?e.setState({habilitado:!1}):e.setState({habilitado:!0})),setTimeout((function(){1==e.state.habilitado&&console.log("habilitado"),0==e.state.habilitado&&console.log("desabilitado")}),1e3))},e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:case"end":return t.stop()}}),t)}))),e.getTemplates=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getEventosTemplates.php",{token:!0,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({templates:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.setTemplates=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState((o={data:a.data||e.state.data,fornecedor:a.fornecedor||e.state.fornecedor,moeda:a.Moeda||e.state.moeda,taxa:a.taxa||e.state.taxa,descricao:a.descricao||e.state.descricao,tipo:a.tipo_sub||e.state.tipo,remarks:a.remarks||e.state.remarks,qntd:a.qntd||e.state.qntd,valor:a.valor||e.state.valor},Object(Pt.a)(o,"valor",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.valor||e.state.valor)),Object(Pt.a)(o,"vlrc",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.valor1||e.state.vlrc)),Object(Pt.a)(o,"repasse",1==a.repasse),Object(Pt.a)(o,"fornecedorCusteio",a.Fornecedor_Custeio||e.state.fornecedorCusteio),o));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getOSUma=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOSUma.php",{token:!0,chave_os:e.state.evento.chave_os}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({os:a.data[0]});case 2:return o={value:e.state.os.Chave,navio:e.state.os.chave_navio,viagem:e.state.os.viagem},t.next=5,e.changeOS(o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getOsOrcamento=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOsOrcamento.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({todasOs:a.data});case 2:return n=null===(o=e.state.todasOs)||void 0===o?void 0:o.map((function(e){return{label:e.codigo,value:e.Chave,navio:e.chave_navio,navioNome:e.navioNome,porto:e.porto,portoNome:e.portoNome,viagem:e.viagem}})),t.next=5,e.setState({osOptions:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getOS=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOS.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({todasOs:a.data});case 2:return n=null===(o=e.state.todasOs)||void 0===o?void 0:o.map((function(e){return{label:e.codigo,value:e.Chave,navio:e.chave_navio,navioNome:e.navioNome,porto:e.porto,portoNome:e.portoNome,viagem:e.viagem}})),t.next=5,e.setState({osOptions:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getTaxas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTaxas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({taxas:a.data});case 2:return t.next=4,e.getTaxasOptions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getdadosComplementares=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getEventoComplementar.php",{token:!0,chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=4;break}return t.next=3,e.setState({eventoComplementar:a.data});case 3:a.data.forEach((function(t){var a=e.state.campos.findIndex((function(e){return t.subgrupo_campo==e.chave}));-1!==a&&e.setState({campos:e.state.campos.map((function(e,o){return o===a?Object(b.a)(Object(b.a)({},e),{},{valor:t.valor}):Object(b.a)({},e)}))})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getTaxasOptions=Object(G.a)(z.a.mark((function t(){var a,o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.state.tipo){t.next=6;break}return a=e.state.taxas.filter((function(e){return"P"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=4,e.setState({taxasOptions:a});case 4:t.next=15;break;case 6:if(1!=e.state.tipo){t.next=12;break}return o=e.state.taxas.filter((function(e){return"R"==e.Tipo})).map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=10,e.setState({taxasOptions:o});case 10:t.next=15;break;case 12:return n=e.state.taxas.map((function(e){return{label:e.descricao,value:e.chave,money:e.valor}})),t.next=15,e.setState({taxasOptions:n});case 15:case"end":return t.stop()}}),t)}))),e.getMoedas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getMoedas.php");case 3:return t.t1=t.sent,t.t2={moedas:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getFornecedores.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return(o=e.state.pessoas.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(K.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}}))).unshift({label:"Nenhum",value:""}),t.next=6,e.setState({pessoasOptions:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getOrdem=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOrdem.php",{token:!0,chave_os:e.state.chave_os}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({ordem:a.data[0]?(Math.floor(a.data[0].ordem)+1).toFixed(2).replaceAll(".",","):"1,0",ordemBloqueado:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.getDescricaoPadrao=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getDescricaoPadrao.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricoesPadrao:a.data});case 2:return o=e.state.descricoesPadrao.map((function(e){return{label:e.descricao,value:e.chave}})),t.next=5,e.setState({descricoesPadraoOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.changeOS=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==a.viagem&&(a.viagem=""),e.setState({chave_os:a.value,viagem_os:a.viagem}),t.next=4,ae.a.post("getNavio.php",{token:!0,chave:a.navio}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.data[0]?e.setState({navio_os:a.data[0].nome}):e.setState({navio_os:""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDocumentos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getDocumentosOSI.php",{token:!0,chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({documentos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){alert(e)}));case 2:case"end":return t.stop()}}),t)}))),e.setCamposCopiar=Object(G.a)(z.a.mark((function t(){var a,o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({camposCopiar:e.state.campos.map((function(t,a){return Object(b.a)(Object(b.a)({},t),{},{checked:!1,onChange:function(t){return e.setState({camposCopiar:e.state.camposCopiar.map((function(e,a){return a===t?Object(b.a)(Object(b.a)({},e),{},{checked:!e.checked}):Object(b.a)({},e)}))})}})}))}),t.next=3,le.a.getBody("getEventosIrmaos.php",{os:null===(a=e.state.osOptions.find((function(t){return t.value==e.state.chave_os})))||void 0===a?void 0:a.label});case 3:r=t.sent,s=null===(o=e.state.campos)||void 0===o||null===(n=o.map((function(e){return e.nome})))||void 0===n?void 0:n.toSorted(),console.log(e.state.campos),e.setState({eventosIrmaos:r.filter((function(t){var a,o;if(t.chave==e.state.chave)return!1;var n=null===(a=t.campos)||void 0===a||null===(o=a.split("@.@"))||void 0===o?void 0:o.toSorted(),r=!0;return!!n&&(n.forEach((function(e,t){e!=s[t]&&(r=!1)})),r)}))});case 7:case"end":return t.stop()}}),t)}))),e.copiarCampos=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("insertEventosCamposCopiados.php",{valores:e.state.campos.filter((function(t){return e.state.camposCopiar.find((function(e){return e.checked&&t.chave==e.chave}))})).map((function(e){return{valor:null===e||void 0===e?void 0:e.valor,subgrupo_campo:e.chave}})),eventos:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTiposDocumento=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposDocumento.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tiposDocumento:a.data});case 2:return o=e.state.tiposDocumento.map((function(e){return{label:e.Descricao,value:e.Chave}})),t.next=5,e.setState({tiposDocumentoOptions:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraCliente=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1"!=o.split("")[1]||e.state.fornecedorCusteioAtivo){t.next=5;break}return t.next=3,e.setState({fornecedor:a});case 3:t.next=8;break;case 5:if("1"!=o.split("")[1]){t.next=8;break}return t.next=8,e.setState({fornecedorCusteio:a});case 8:return t.next=10,e.setState({modalAberto:!1});case 10:return t.next=12,e.getPessoas();case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraTaxa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTaxas();case 2:if("P"!=o||1==e.state.tipo){t.next=11;break}return t.next=5,e.setState({taxa:a});case 5:if(!(n=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=9;break}return t.next=9,e.setState({valor:n.money});case 9:t.next=27;break;case 11:if("R"!=o||0==e.state.tipo){t.next=20;break}return t.next=14,e.setState({taxa:a});case 14:if(!(r=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=18;break}return t.next=18,e.setState({valor:r.money});case 18:t.next=27;break;case 20:if("P"==o||"R"==o){t.next=27;break}return t.next=23,e.setState({taxa:a});case 23:if(!(s=e.state.taxasOptions.find((function(e){return e.value=a})))){t.next=27;break}return t.next=27,e.setState({valor:s.money});case 27:return t.next=29,e.setState({modalAberto:!1});case 29:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraDescricaoPadrao=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({descricao:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.next=6,e.getDescricaoPadrao();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.enviaDocumento=Object(G.a)(z.a.mark((function t(){var a,o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="",o="",n="",!e.state.documento[0]){t.next=9;break}return t.next=6,K.a.getBase64(e.state.documento[0]);case 6:a=t.sent,o=e.state.documento[0].type,n=e.state.documentoNome.split(".")[e.state.documentoNome.split(".").length-1];case 9:if(e.state.documentoEditar){t.next=14;break}return t.next=12,ae.a.post("enviaDocumento.php",{documento:a,format:o,ext:n,chave_os:e.state.chave_os,chave_osi:e.state.chave,descricao:e.state.documentoDescricao,tipo:e.state.documentoTipo}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:t.next=21;break;case 14:if(!e.state.documentoTrocar){t.next=19;break}return t.next=17,ae.a.post("trocaDocumento.php",{documento:a,format:o,ext:n,chave:e.state.documentoChave,descricao:e.state.documentoDescricao,tipo:e.state.documentoTipo,caminho:e.state.documentoCaminho}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:t.next=21;break;case 19:return t.next=21,ae.a.post("updateDocumento.php",{chave:e.state.documentoChave,descricao:e.state.documentoDescricao,tipo:e.state.documentoTipo}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:case"end":return t.stop()}}),t)}))),e.removeEmail=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.failures,n=o.filter((function(e){return e!=a})),t.next=4,e.setState({failures:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.enviarEmail=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({successes:[]});case 2:if(a){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.setState({emailBloqueado:!0,loading:!0});case 6:return t.next=8,ae.a.post("enviaEmail.php",{token:!0,emails:e.state.emails,remarks:e.state.remarks,os:e.state.osOptions.find((function(t){return t.value==e.state.chave_os})).label,fornecedor:""!=e.state.fornecedorCusteio&&"0"!=e.state.fornecedorCusteio?e.state.fornecedorCusteio:e.state.fornecedor,navio:e.state.osOptions.find((function(t){return t.value==e.state.chave_os})).navioNome,porto:e.state.osOptions.find((function(t){return t.value==e.state.chave_os})).portoNome,evento:e.state.chave,operador:e.state.usuarioLogado.nome,corpo:e.state.corpo,assunto:e.state.assunto,anexos:e.state.anexos,anexosNomes:e.state.anexosNomes}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.data,n=o.failures,r=o.successes,t.t0=e,t.next=4,le.a.getOne("getSolicitacao.php",e.state.chave);case 4:return t.t1=t.sent,t.t2={evento:t.t1},t.next=8,t.t0.setState.call(t.t0,t.t2);case 8:return t.next=10,e.setState({data:e.state.evento.data,fornecedor:e.state.evento.fornecedor,taxa:e.state.evento.taxa,descricao:e.state.evento.descricao,tipo:e.state.evento.tipo_sub,ordem:e.state.evento.ordem,remarks:e.state.evento.remarks,qntd:e.state.evento.qntd,fornecedorCusteio:e.state.evento.Fornecedor_Custeio,ordemBloqueado:!1,emailEnviado:e.state.evento.email_enviado?e.state.evento.email_enviado.split(";"):[],dataEmail:e.state.evento.data_email});case 10:if(!a.data.successes[0]){t.next=13;break}return t.next=13,e.registraEmails(a.data.successes);case 13:return t.next=15,e.setState({successes:r,failures:n,emails:[]});case 15:if(n[0]){t.next=18;break}return t.next=18,e.setState({email:!1});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(JSON.stringify(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return t.next=10,e.setState({emailBloqueado:!1,loading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPessoaContatos=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContatos.php",{token:!0,pessoa:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contatos:a.data,fornecedorEmail:a.data.find((function(e){return"EM"==e.Tipo}))?a.data.find((function(e){return"EM"==e.Tipo})).Campo1:""});case 2:return o=e.state.emails[0]?e.state.emails:[],n=e.state.fornecedorEmail?e.state.fornecedorEmail.split("; "):[],console.log({emails:o,emailsFornecedores:n}),t.next=7,e.setState({emails:[].concat(Object(O.a)(o),Object(O.a)(n)),hasEmail:!![].concat(Object(O.a)(o),Object(O.a)(n))[0]});case 7:return t.next=9,e.setState({loading:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c,l;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.anexos,n=e.state.anexosNomes,r=e.state.formats,s=e.state.exts,c=a.files[0].name,t.next=7,K.a.getBase64(a.files[0]);case 7:l=t.sent,o.push(l),r.push(a.type),s.push(c.split(".")[c.split(".").length-1]),n.push(c),e.setState({anexos:o,anexosNomes:n,formats:r,exts:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.state.anexos.filter((function(e,t){return t!=a})),n=e.state.anexosNomes.filter((function(e,t){return t!=a})),r=e.state.formats.filter((function(e,t){return t!=a})),s=e.state.exts.filter((function(e,t){return t!=a})),e.setState({anexos:o,anexosNomes:n,formats:r,exts:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.registraEmails=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({emailsIniciais:[{titulo:"email_enviado",valor:e.state.emailEnviado},{titulo:"data_email",valor:e.state.dataEmail}]});case 2:return o=a.join(";"),t.next=5,e.setState({emailsFinais:[{titulo:"email_enviado",valor:o},{titulo:"data_email",valor:N()().format("YYYY-MM-DD")}]});case 5:return t.next=7,ae.a.post("registraEmails.php",{token:!0,email_enviado:o,data_email:N()().format("YYYY-MM-DD"),chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:1==a.data?le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,e.state.emailsIniciais,e.state.emailsFinais,e.state.chave):console.log(a.data);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteDocumento=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var r=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover este Documento? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteDocumento.php",{token:!0,chave:a,nome:n}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:r();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)})));return function(e,a,o){return t.apply(this,arguments)}}(),e.salvarAnexos=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0,anexosModal:!1}),a=N()().format("YYYY-MM-DD HH:mm:ss"),t.next=4,ae.a.post("updateAnexos.php",{token:!0,anexos:e.state.anexosForn.filter((function(e){return!e.validadoPor})),validadoPor:e.state.usuarioLogado.codigo,validadoData:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({anexosForn:e.state.anexosForn.map((function(t){return t.validadoPor?Object(b.a)({},t):Object(b.a)(Object(b.a)({},t),{},{validadoData:a,validadoPor:e.state.usuarioLogado.codigo})})),bloqueado:!1,loading:!1});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)}))),e.salvarEvento=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Data",valor:K.a.formatForLogs(e.state.data,"date")},{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.pessoasOptions)},{titulo:"Taxa",valor:K.a.formatForLogs(e.state.taxa,"options","","",e.state.taxasOptions)},{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money","0,00")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money","0,00")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Descri\xe7\xe3o",valor:K.a.formatForLogs(e.state.descricao)},{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposSubOptions)},{titulo:"Ordem",valor:K.a.formatForLogs(e.state.ordem)},{titulo:"Remarks",valor:K.a.formatForLogs(e.state.remarks)},{titulo:"Fornecedor Custeio",valor:K.a.formatForLogs(e.state.fornecedorCusteio,"options","","",e.state.fornecedoresOptions)},{titulo:"Quantidade",valor:K.a.formatForLogs(e.state.qntd)}],loading:!0});case 4:if(console.log(e.state.chave_os),r=null===(o=e.state)||void 0===o||null===(n=o.osOptions)||void 0===n?void 0:n.find((function(t){var a;return(null===t||void 0===t?void 0:t.value)==(null===(a=e.state)||void 0===a?void 0:a.chave_os)})).label,s=e.state.osOptions.find((function(t){return t.value==e.state.chave_os})).navioNome,c=e.state.osOptions.find((function(t){return t.value==e.state.chave_os})).portoNome,e.setState({assunto:"PO: ".concat(r," - Nome do Navio: ").concat(s," - Porto: ").concat(c,"\n")}),console.log("Sending data:",{token:!0,values:"'".concat(e.state.chave_os,"', '").concat(e.state.data,"', '").concat(e.state.fornecedor,"', '").concat(e.state.taxa,"', '").concat(e.state.descricao,"', '").concat(e.state.tipo,"', '").concat(e.state.fornecedorCusteio,"', '").concat(e.state.remarks,"', '").concat(e.state.moeda,"', '").concat(parseFloat(""==e.state.valor?0:e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(""==e.state.vlrc?0:e.state.vlrc.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.repasse?1:0,"', '").concat(e.state.qntd,"'"),chave_os:e.state.chave_os,ordem:e.state.ordem.replaceAll(",",".")}),0!==parseInt(e.state.chave)||!a){t.next=18;break}return t.next=13,ae.a.post("insertServicoItemBasico.php",{token:!0,values:"'".concat(e.state.chave_os,"', '").concat(e.state.data,"', '").concat(e.state.fornecedor,"', '").concat(e.state.taxa,"', '").concat(e.state.descricao,"', '").concat(e.state.tipo,"', '").concat(e.state.fornecedorCusteio,"', '").concat(e.state.remarks,"', '").concat(e.state.moeda,"', '").concat(parseFloat(""==e.state.valor?0:e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(""==e.state.vlrc?0:e.state.vlrc.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.repasse?1:0,"', '").concat(e.state.qntd,"'"),chave_os:e.state.chave_os,ordem:e.state.ordem.replaceAll(",",".")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({evento:a.data[0]});case 2:return t.next=4,e.setState({chave:e.state.evento.chave});case 4:return t.next=6,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 6:if(e.state.email){t.next=17;break}if(!e.state.financeiro){t.next=12;break}return t.next=10,e.setState({irParaFinanceiro:!0});case 10:t.next=15;break;case 12:return t.next=14,e.setState({loading:!1,bloqueado:!1});case 14:e.finalizaSalvamento();case 15:t.next=24;break;case 17:return t.next=19,e.getPessoaContatos(e.state.fornecedor);case 19:return t.next=21,e.getPessoaContatos(e.state.fornecedorCusteio);case 21:return t.next=23,e.setState({bloqueado:!1,emailModal:!0});case 23:e.finalizaSalvamento();case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:if(!e.state.campos[0]){t.next=16;break}return t.next=16,ae.a.post("insertEventoCampos.php",{token:!0,values:e.state.campos,evento:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getdadosComplementares();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:t.next=27;break;case 18:if(!a){t.next=27;break}return t.next=21,ae.a.post("updateServicoItem.php",{token:!0,chave:e.state.chave,chave_os:e.state.chave_os,data:e.state.data,Moeda:e.state.moeda,valor:parseFloat(""==e.state.valor?0:e.state.valor.replaceAll(".","").replaceAll(",",".")),valor1:parseFloat(e.state.vlrc.replaceAll(".","").replaceAll(",",".")),repasse:e.state.repasse?1:0,fornecedor:e.state.fornecedor,taxa:e.state.taxa,descricao:e.state.descricao,ordem:e.state.ordem.replaceAll(",","."),tipo_sub:e.state.tipo,Fornecedor_Custeio:e.state.fornecedorCusteio,remarks:e.state.remarks,qntd:e.state.qntd}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=23;break}return t.next=3,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"SOLICITA\xc7\xc3O DE SERVI\xc7O: ".concat(e.state.descricao));case 3:if(e.state.email){t.next=14;break}if(!e.state.financeiro){t.next=9;break}return t.next=7,e.setState({irParaFinanceiro:!0});case 7:t.next=12;break;case 9:return t.next=11,e.setState({loading:!1,bloqueado:!1});case 11:e.finalizaSalvamento();case 12:t.next=21;break;case 14:return e.setState({emails:""}),t.next=17,e.getPessoaContatos(e.state.fornecedor);case 17:return t.next=19,e.getPessoaContatos(e.state.fornecedorCusteio);case 19:return t.next=21,e.setState({bloqueado:!1,emailModal:!0,loading:!1});case 21:t.next=25;break;case 23:return t.next=25,alert("Erro ".concat(JSON.stringify(a)));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:if(!e.state.eventoComplementar[0]){t.next=24;break}return t.next=24,ae.a.post("updateEventoCampos.php",{token:!0,values:e.state.eventoComplementar.map((function(t){var a;return Object(b.a)(Object(b.a)({},t),{},{valor:null===(a=e.state.campos.find((function(e){return t.subgrupo_campo==e.chave})))||void 0===a?void 0:a.valor})})),evento:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getdadosComplementares();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 24:if(!e.state.campos.find((function(t){return!e.state.eventoComplementar.find((function(e){return e.subgrupo_campo==t.chave}))}))){t.next=27;break}return t.next=27,ae.a.post("insertEventoCampos.php",{token:!0,values:e.state.campos,evento:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getdadosComplementares();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validarAnexo=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0,anexosModal:!1}),a=e.state.anexosForn.find((function(e){return 2==e.validado})),o=N()().format("YYYY-MM-DD HH:mm:ss"),!a){t.next=6;break}return t.next=6,ae.a.post("updateAnexo.php",{token:!0,chave:a.chave,operador:e.state.usuarioLogado.codigo,evento:e.state.chave,validadoData:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({anexosForn:e.state.anexosForn.map((function(t){return t.chave==a.chave?Object(b.a)(Object(b.a)({},t),{},{validado:3,validadoData:o,validadoPor:e.state.usuarioLogado.codigo}):Object(b.a)({},t)}))});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.setState({loading:!1,bloqueado:!1});case 7:case"end":return t.stop()}}),t)}))),e.saveEmail=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({alert:{type:"",msg:""}}),t.next=3,ae.a.post("insertContato.php",{token:!0,values:"'EM', '".concat(e.state.emails.join(";"),"', '', ").concat(e.state.fornecedor)}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=7;break}return t.next=3,le.a.salvaLogs("pessoas_contatos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 3:return t.next=5,e.setState({hasEmail:!0,loading:!1,bloqueado:!1,savedRedirect:!0});case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)}))),e.changeTaxa=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getCamposFromTaxa.php",{token:!0,taxa:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=5;break}return t.next=3,e.setState({campos:a.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{valor:""})}))});case 3:t.next=7;break;case 5:return t.next=7,e.setState({campos:[]});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("os_servicos_itens",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.finalizaSalvamento=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var a=t.onClose;return console.log("FINALIZA SALVAMENTO e o orcamento \xe9:",e.props.location.state.os.orcamento),m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Solicita\xe7\xe3o salva!"),m.a.createElement("p",null,"Deseja criar mais?"),0==e.props.location.state.os.orcamento?m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({redirectOS:!0}),a();case 2:case"end":return t.stop()}}),t)})))},"N\xe3o"):m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-50",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({redirectOsOrcamento:!0}),a();case 2:case"end":return t.stop()}}),t)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-50",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({recarregaPagina:!0});case 2:a();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e,t,a,o,n,r,s,c,l,i,u,p,d,v,f=this,h=[];h.push(this.state.chave_os),h.push(this.state.data),h.push(this.state.taxa||2==this.state.tipo||3==this.state.tipo),h.push(this.state.fornecedor||1==this.state.tipo||2==this.state.tipo||3==this.state.tipo),h.push(this.state.fornecedorCusteio||1!=this.state.tipo),h.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),h.push(!this.state.repasse&&!this.state.vlrc||this.state.vlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.vlrc.replaceAll(".","").replaceAll(",","."))&&(!this.state.repasse||this.state.vlrc==this.state.valor)),h.push(this.state.descricao),h.push(!this.state.campos[0]||!this.state.campos.find((function(e){return""==e.valor&&1==e.obrigatorio}))),h.push(this.state.ordem&&this.state.ordem.replaceAll(",",".")==parseFloat(this.state.ordem.replaceAll(",","."))),h.push(!this.state.bloqueado);var g=h.reduce((function(e,t){return e&&t})),E=[];E.push(this.state.emails[0]||this.state.failures[0]),E.push(!this.state.emailBloqueado);var x=E.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.recarregaPagina&&m.a.createElement(m.a.Fragment,null,m.a.createElement(V.a,{to:{pathname:"/ordensservico/addevento/0",state:Object(b.a)(Object(b.a)({},this.props.location.state),{},{evento:{}})}}),window.location.reload()),this.state.redirectOS&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addos/".concat(null===(e=this.props.location)||void 0===e||null===(t=e.state)||void 0===t||null===(a=t.os)||void 0===a?void 0:a.Chave),state:{os:null===(o=this.props)||void 0===o||null===(n=o.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.os}}}),this.state.redirectOsOrcamento&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addOsOrcamento/".concat(null===(s=this.props.location)||void 0===s||null===(c=s.state)||void 0===c||null===(l=c.os)||void 0===l?void 0:l.Chave),state:{os:null===(i=this.props)||void 0===i||null===(u=i.location)||void 0===u||null===(p=u.state)||void 0===p?void 0:p.os}}}),this.state.irParaFinanceiro&&this.props.location.state&&this.props.location.state.os&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(this.state.evento.chave),state:{evento:Object(b.a)({},this.state.evento),os:Object(b.a)({},this.state.os)}}}),this.state.irParaFinanceiro&&(!this.props.location.state||!this.props.location.state.os)&&m.a.createElement(V.a,{to:{pathname:"/ordensservico/addeventofinanceiro/".concat(this.state.evento.chave),state:{evento:Object(b.a)({},this.state.evento)}}}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,this.props.location.state&&this.props.location.state.os&&this.props.location.state.os.codigo&&1==this.props.location.state.os.orcamento&&m.a.createElement(se.a,{voltarAddOsOrcamento:!0,os:this.props.location.state.os,titulo:"Eventos"}),this.props.location.state&&this.props.location.state.os&&this.props.location.state.os.codigo&&0==this.props.location.state.os.orcamento&&m.a.createElement(se.a,{voltarAddOS:!0,os:this.props.location.state.os,titulo:"Eventos"}),(!this.props.location.state||!this.props.location.state.os||!this.props.location.state.os.codigo)&&m.a.createElement(se.a,{voltarEventos:!0,titulo:"Eventos",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return f.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){f.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.documentoModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({documentoModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({documentoModal:!1,documentoTrocar:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Enviar documento:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,f.enviaDocumento();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Descri\xe7\xe3o:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.documentoDescricao,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({documentoDescricao:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.tiposDocumentoOptions.filter((function(e){return f.filterSearch(e,f.state.tiposDocumentoOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({tiposDocumentoOptionsTexto:e})},value:this.state.tiposDocumentoOptions.filter((function(e){return e.value==f.state.documentoTipo}))[0],search:!0,onChange:function(e){f.setState({documentoTipo:e.value})}})),this.state.documentoEditar&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Trocar documento?")),this.state.documentoEditar&&m.a.createElement("div",{className:"col-1"}),this.state.documentoEditar&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.documentoTrocar,onChange:function(e){f.setState({documentoTrocar:e.target.checked})},type:"checkbox"})),this.state.documentoTrocar&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Arquivo:")),this.state.documentoTrocar&&m.a.createElement("div",{className:"col-1 errorMessage"}),this.state.documentoTrocar&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"file",value:this.state.documentoNome,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({documento:t.currentTarget.files,documentoNome:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.documentoTrocar&&m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",style:{width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.anexosModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({anexosModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({anexosModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Anexos de Fornecedores:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tr",{className:"anexoListTitle"},m.a.createElement("th",null,"Anexo"),m.a.createElement("th",{style:{width:250,textAlign:"center"}},"Validado")),this.state.anexosForn.map((function(e){return m.a.createElement("tr",{className:"anexoList"},m.a.createElement("td",null,m.a.createElement("a",{className:"nonLink",href:"".concat(K.a.completarDocuments("fornDocs/".concat(e.anexo))),target:"_blank"},e.anexo)),m.a.createElement("td",{style:{width:250,display:"flex",justifyContent:"center"}},m.a.createElement(pe.a,{style:{width:250},isDisabled:!!e.validadoPor,options:e.validadoPor||3==e.validado?f.state.anexosValidadosOptions.filter((function(e){return e.nonSelectable})):f.state.anexosValidadosOptions.filter((function(e){return!e.nonSelectable})),value:f.state.anexosValidadosOptions.find((function(t){return t.value==e.validado})),onChange:function(t){return e.validadoPor?{}:f.setState({anexosForn:f.state.anexosForn.map((function(a){return e.chave==a.chave?Object(b.a)(Object(b.a)({},a),{},{validado:t.value}):Object(b.a)({},a)}))})}})))}))),m.a.createElement("div",{className:"centerDiv"},m.a.createElement("button",{onClick:function(){return f.salvarAnexos()},style:{width:250,border:"1px solid black",borderRadius:50,padding:10}},"Salvar"))))))),m.a.createElement(Ea.a,{alert:this.state.alert,setAlert:function(e){return f.setState({alert:e})},alertFunction:function(){return f.saveEmail()}}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.emailModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({emailModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({email:!1,emailModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Enviar email:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:f.enviarEmail(x);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},this.state.successes[0]&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emails enviados:")),this.state.successes[0]&&m.a.createElement("div",{className:"col-1 errorMessage"}),this.state.successes[0]&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("label",null,this.state.successes.map((function(e,t){return m.a.createElement("span",{className:"listaEmail successEmail"},e,f.state.successes[t+1]?", ":"")})))),this.state.successes[0]&&m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Destinat\xe1rio(s)")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.emails.join(";"),onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({emails:t.currentTarget.value.split(";")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(e){return""==e.currentTarget.value||f.state.hasEmail?{}:f.setState({alert:{type:"confirm",msg:"Deseja salvar esse email como padr\xe3o?"}})}})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Assunto")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",rows:"2",component:"textarea",value:this.state.assunto,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({assunto:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Corpo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",rows:"4",component:"textarea",value:this.state.corpo,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({corpo:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Anexo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"file",value:"",onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.addAnexo(t.currentTarget);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m.a.createElement("div",null,this.state.anexosNomes.map((function(e,t){return m.a.createElement("span",{className:"emailLinks",onClick:function(){return f.removeAnexo(t)}},e,"; ")})))),this.state.failures[0]&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emails inv\xe1lidos:")),this.state.failures[0]&&m.a.createElement("div",{className:"col-1 errorMessage"}),this.state.failures[0]&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("label",null,this.state.failures.map((function(e,t){return m.a.createElement("span",{className:"listaEmail failureEmail",title:"Email inv\xe1lido",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.removeEmail(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},e,f.state.failures[t+1]||f.state.emails[0]?", ":"")})))),this.state.failures[0]&&m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!x,type:"submit",style:x?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.templatesModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({templatesModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"modalForm",style:{width:"95%"}},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,f.setState({templatesModal:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-12"},m.a.createElement("h4",{className:"text-center white"},"Templates:")),this.state.templates[0]&&m.a.createElement("div",{className:"agrupador_eventos_selecionados"},m.a.createElement("table",{className:"agrupador_lista"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Chave")),window.innerWidth>=500&&m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Tipo")),window.innerWidth>=500&&m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Descri\xe7\xe3o")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Valor (R$)")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Valor (USD)"))),void 0!=this.state.templates[0]&&(null===(d=this.state.templates)||void 0===d?void 0:d.filter((function(e){return!0})).map((function(e,t){var a;return m.a.createElement(m.a.Fragment,null,window.innerWidth<500&&m.a.createElement("tr",{onClick:function(){f.setTemplates(e),f.setState({templatesModal:!1})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,"USD ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(f.state.os.ROE)?parseFloat(f.state.os.ROE):5)))),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(f.state.os.ROE)?parseFloat(f.state.os.ROE):5))))),window.innerWidth>=500&&m.a.createElement("tr",{onClick:function(){f.setTemplates(e),f.setState({templatesModal:!1})}},m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.chave)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,null===(a=f.state.tiposSubOptions.find((function(t){return t.value==e.tipo_sub})))||void 0===a?void 0:a.label)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,e.descricao)),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,"USD ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(6==e.Moeda?e.valor:e.valor/(0!=parseFloat(f.state.os.ROE)?parseFloat(f.state.os.ROE):5)))),m.a.createElement("td",{className:"text-center"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(5==e.Moeda?e.valor:e.valor*(0!=parseFloat(f.state.os.ROE)?parseFloat(f.state.os.ROE):5))))))}))))),!this.state.templates[0]&&m.a.createElement("h4",{className:"text-center"},"Nenhum"))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}))))))))),m.a.createElement(Gt,{modalAberto:this.state.duplicarModal,closeModal:function(){f.setState({duplicarModal:!1})},campos:this.state.camposCopiar,subgruposOptions:this.state.eventosIrmaos.map((function(e){return{value:e.chave,label:e.descricao}})),nome:this.state.descricao,onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.copiarCampos(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m.a.createElement(Qt.a,{pesquisa:this.state.modalPesquisa,alteraModal:this.alteraModal,alteraCliente:this.alteraCliente,alteraTaxa:this.alteraTaxa,alteraDescricaoPadrao:this.alteraDescricaoPadrao,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){f.setState({modalAberto:!1})}}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"relatoriosSection"},m.a.createElement("div",{className:"relatorioButton"},m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return f.setState({templatesModal:!0})}},"Carregar template"))),m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:f.salvarEvento(g);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),this.state.anexosForn[0]&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-12 col-sm-12 col-12 labelForm"},m.a.createElement("div",{className:"centerDiv"},m.a.createElement("button",{disabled:!g,type:"button",style:g?{width:150,height:50,padding:5,color:"white",border:"1px solid #efefef",marginBottom:25}:{backgroundColor:"#999",opacity:.3,width:150,height:50,padding:5,color:"#ccc",border:"1px solid #ccc",marginBottom:25},onClick:function(){f.setState({anexosModal:!0})}},"Anexos")))),1==this.props.location.state.os.orcamento?null:m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Ordem de Servi\xe7o")),1==this.props.location.state.os.orcamento?null:m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.chave_os&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),1==this.props.location.state.os.orcamento?null:m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:!0,options:this.state.osOptions.filter((function(e){return f.filterSearch(e,f.state.osOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({osOptionsTexto:e})},value:this.state.osOptions.filter((function(e){return e.value==f.state.chave_os}))[0],search:!0})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Navio")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{disabled:!0,className:"form-control",value:this.state.navio_os})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.data&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.data,onChange:function(e){f.setState({data:e.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Ordem")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.ordem&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",disabled:this.state.ordemBloqueado,value:null===(v=this.state.ordem)||void 0===v?void 0:v.replaceAll(",","."),onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({ordem:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.tipo,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({tipo:t.currentTarget.value});case 2:if(1!=f.state.tipo){e.next=7;break}return e.next=5,f.setState({fornecedor:""});case 5:e.next=10;break;case 7:if(""!=f.state.fornecedor||0==f.state.chave){e.next=10;break}return e.next=10,f.setState({fornecedor:f.state.fornecedorInicial});case 10:return e.next=12,f.getTaxasOptions();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},this.state.tiposSubOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),0==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Repasse (reembolso)")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.repasse,onChange:function(e){f.setState({repasse:e.target.checked,pessoa:"",tipo:"",contaDesconto:"",fornecedorCusteio:"",vlrc:e.target.checked?f.state.valor:f.state.vlrc})},type:"checkbox"})),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Taxa")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.taxa&&2!=this.state.tipo&&3!=this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.taxasOptions.filter((function(e){return f.filterSearch(e,f.state.taxasOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({taxasOptionsTexto:e})},value:this.state.taxasOptions.filter((function(e){return e.value==f.state.taxa}))[0],search:!0,onChange:function(e){f.changeTaxa(e.value),f.state.valor&&0!=parseFloat(f.state.valor.replaceAll(".","").replaceAll(",","."))?f.setState({taxa:e.value}):f.setState({taxa:e.value,valor:e.money.replaceAll(",","").replaceAll(".",",")})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("TAXAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){f.setState({modalAberto:!0,modal:"listarTaxas",modalPesquisa:f.state.taxa,modalLista:0==f.state.tipo?f.state.taxas.filter((function(e){return"P"==e.Tipo})):1==f.state.tipo?f.state.taxas.filter((function(e){return"R"==e.Tipo})):f.state.taxas})}},"...")),this.state.campos.map((function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{height:70},className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,e.nome)),m.a.createElement("div",{style:{height:70},className:"col-1 errorMessage"},1==e.obrigatorio&&!e.valor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{style:{height:70},className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",rows:"2",component:"textarea",value:e.valor,onChange:function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({campos:f.state.campos.map((function(e,o){return o===t?Object(b.a)(Object(b.a)({},e),{},{valor:a.currentTarget.value}):Object(b.a)({},e)}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{style:{height:70},className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"}))})),this.state.campos[0]&&m.a.createElement("div",{style:{marginBottom:20},className:"col-12 text-center"},m.a.createElement("span",{onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setCamposCopiar();case 2:f.setState({duplicarModal:!0});case 3:case"end":return e.stop()}}),e)}))),style:{color:"#00CCFF",textDecoration:"underline",cursor:"pointer"}},"Duplicar valores")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.fornecedor&&1!=this.state.tipo&&2!=this.state.tipo&&3!=this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:1==this.state.tipo,options:this.state.pessoasOptions.filter((function(e){return f.filterSearch(e,f.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({pessoasOptionsTexto:e})},value:this.state.pessoasOptions.filter((function(e){return e.value==f.state.fornecedor}))[0],search:!0,onChange:function(e){1!=f.state.tipo&&f.setState({fornecedor:e.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&1!=this.state.tipo&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){f.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:f.state.fornecedor,modalLista:f.state.pessoas,fornecedorCusteioAtivo:!1})}},"...")),!this.state.repasse&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor Custeio")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.fornecedorCusteio&&1==this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(e){return f.filterSearch(e,f.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({pessoasOptionsTexto:e})},value:this.state.pessoasOptions.filter((function(e){return e.value==f.state.fornecedorCusteio}))[0],search:!0,onChange:function(e){f.setState({fornecedorCusteio:e.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){f.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:f.state.fornecedorCusteio,modalLista:f.state.pessoas,fornecedorCusteioAtivo:!0})}},"...")),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o Padr\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.descricoesPadraoOptions.filter((function(e){return f.filterSearch(e,f.state.descricoesPadraoOptionsTexto)})).slice(0,20),onInputChange:function(e){f.setState({descricoesPadraoOptionsTexto:e})},value:this.state.descricoesPadraoOptions.filter((function(e){return e.label==f.state.descricao}))[0],search:!0,onChange:function(e){f.setState({descricao:e.label})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("DESCRICOES_PADRAO"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){f.setState({modalAberto:!0,modal:"listarDescricoesPadrao",modalLista:f.state.descricoesPadrao})}},"...")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descri\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.descricao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control textareaFix",as:"textarea",value:this.state.descricao,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({descricao:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.valor||!this.state.moeda&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"fieldDividido col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control nextToInput fieldDividido_1",value:this.state.moeda,onChange:function(e){f.setState({moeda:e.target.value})}},this.state.moedas.map((function(e){return m.a.createElement("option",{value:e.Chave},e.Sigla)}))),m.a.createElement($.a,{className:"form-control fieldDividido_2 text-right ",type:"text",onClick:function(e){return e.target.select()},value:this.state.valor,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({valor:t.currentTarget.valur}),f.state.repasse&&f.setState({vlrc:t.currentTarget.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({valor:t.currentTarget.value.replaceAll(".","").replaceAll(",",".")?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"}),f.state.repasse&&f.setState({vlrc:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Quantidade")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",step:"0.1",value:this.state.qntd,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({qntd:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),!this.state.repasse&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"VCP")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{disabled:this.state.repasse,className:"form-control text-right",type:"text",step:"0.1",value:this.state.vlrc,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({vlrc:t.currentTarget.value}),f.state.repasse&&f.setState({valor:t.currentTarget.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({vlrc:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"}),f.state.repasse&&f.setState({valor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1 errorMessage"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Remarks")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control textareaFix",as:"textarea",value:this.state.remarks,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.setState({remarks:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),0==this.state.chave?this.state.editavel||this.state.habilitado?null:m.a.createElement("p",{style:{maxWidth:600,margin:"auto",fontWeight:"bold",color:"red",marginBottom:15}},"Os encerrada, somente eventos do tipo: Desconto ou Recebimento de Remessas"):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}},0!=this.state.chave||this.state.editavel?m.a.createElement("button",{type:"submit",disabled:!g,style:g?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar"):m.a.createElement("button",{type:"submit",disabled:!g||!this.state.habilitado,style:g&&this.state.habilitado?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center",alignItems:"center"}},g&&1==this.state.acessosPermissoes.filter((function(e){if("EVENTOS_FINANCEIRO"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&1==this.state.acessosPermissoes.filter((function(e){if("EVENTOS_FINANCEIRO"==e.acessoAcao)return e})).map((function(e){return e.permissaoEdita}))[0]&&m.a.createElement("button",{title:"Financeiro",style:{borderRadius:15,margin:3},onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setState({financeiro:!0});case 2:return e.next=4,f.salvarEvento(g);case 4:case"end":return e.stop()}}),e)})))},m.a.createElement(ee.a,{icon:ne.w})),(g||this.state.failures[0])&&m.a.createElement("button",{title:"Enviar Email",style:{borderRadius:15,margin:3},onClick:function(){f.setState({email:!0}),f.salvarEvento(g)}},m.a.createElement(ee.a,{icon:ne.x})),g&&this.state.anexosForn[0]&&this.state.anexosForn.find((function(e){return 2==e.validado}))&&m.a.createElement("button",{title:"Validar",style:{borderRadius:15,margin:3},onClick:function(){f.salvarEvento(),f.validarAnexo()}},m.a.createElement(ee.a,{icon:ne.K}))),m.a.createElement("div",{className:"col-2"}))))),0!=this.props.match.params.id&&1==this.state.acessosPermissoes.filter((function(e){if("DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h3",null,"Documentos"))),m.a.createElement("br",null),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("table",{className:"addOsTable"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Chave")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Descri\xe7\xe3o")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,"Nome")),m.a.createElement("th",{className:"text-center"},m.a.createElement("span",null,!this.state.documentos[0]&&m.a.createElement("div",null,m.a.createElement(ee.a,{icon:ne.M,onClick:function(){return f.setState({documentoModal:!0})}}))))),void 0!=this.state.documentos[0]&&this.state.documentos.map((function(e,t){return m.a.createElement("tr",{className:t%2==0?"parTr":"imparTr"},m.a.createElement("td",{className:"text-center"},m.a.createElement("a",{href:"".concat(ce.s).concat(e.caminho),className:"nonlink",target:"_blank"},m.a.createElement("p",null,e.chave))),m.a.createElement("td",{className:"text-center"},m.a.createElement("a",{href:"".concat(ce.s).concat(e.caminho),className:"nonlink",target:"_blank"},m.a.createElement("p",null,e.descricao))),m.a.createElement("td",{className:"text-center"},m.a.createElement("a",{href:"".concat(ce.s).concat(e.caminho),className:"nonlink",target:"_blank"},m.a.createElement("p",null,e.caminho))),m.a.createElement("td",null,m.a.createElement("span",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(ee.a,{icon:ne.M,onClick:function(){return f.setState({documentoModal:!0,documentoDescricao:"",documentoTipo:"",documentoNome:"",documentoEditar:!1})}})),m.a.createElement("span",{className:"iconelixo giveMargin"},m.a.createElement(ee.a,{icon:ne.L,onClick:function(){return f.setState({documentoModal:!0,documentoDescricao:e.descricao,documentoTipo:e.tipo_docto,documentoNome:"",documentoTrocar:!1,documentoEditar:!0,documentoChave:e.chave,documentoCaminho:e.caminho})}})),1==f.state.acessosPermissoes.filter((function(e){if("DOCUMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("span",{type:"button",className:"iconelixo",onClick:function(t){return f.deleteDocumento(e.chave,e.descricao,e.caminho)}},m.a.createElement(ee.a,{icon:ne.T}))))}))))))))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),Vo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Yo),Uo=(a(710),i={evento:"",os:"",chave:"",moeda:6,valor:"",vlrc:"",repasse:!1,emissao:"",vencimento:"",desconto:"",descontoComplemento:"",descontoConta:"",retencaoInss:"",retencaoInssCheck:!1,retencaoInssComplemento:"",retencaoInssConta:"",retencaoIr:"",retencaoIrCheck:!1,retencaoIrComplemento:"",retencaoIrConta:"",retencaoIss:"",retencaoIssCheck:!1,retencaoIssComplemento:"",retencaoIssConta:"",retencaoPis:"",retencaoPisCheck:!1,retencaoPisComplemento:"",retencaoPisConta:"",retencaoCofins:"",retencaoCofinsCheck:!1,retencaoCofinsComplemento:"",retencaoCofinsConta:"",retencaoCsll:"",retencaoCsllCheck:!1,retencaoCsllComplemento:"",retencaoCsllConta:"",complemento:"",historico:"",historicoPadrao:"",contabiliza:!1,moedas:[],planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",historicos:[],historicosOptions:[],historicosOptionsTexto:"",centrosCustos:[],centrosCustosOptions:[],centrosCustosOptionsTexto:"",tiposDocumentos:[],tiposDocumentosOptions:[],tiposDocumentosOptionsTexto:"",meiosPagamentos:[],meiosPagamentosOptions:[],meiosPagamentosOptionsTexto:"",tipo:"",contaContabil:"",contaDesconto:"",contaCredito:"",provisaoCheck:!1,contaProvisao:"",centroCusto:""},Object(Pt.a)(i,"historico",""),Object(Pt.a)(i,"tipoDocumento",""),Object(Pt.a)(i,"parcelaInicial",1),Object(Pt.a)(i,"parcelaFinal",1),Object(Pt.a)(i,"numBoleto",""),Object(Pt.a)(i,"codBarras",""),Object(Pt.a)(i,"meioPagamento",""),Object(Pt.a)(i,"meioPagamentoNome",""),Object(Pt.a)(i,"codigoReceita",""),Object(Pt.a)(i,"contribuinte",""),Object(Pt.a)(i,"codigoIdentificadorTributo",""),Object(Pt.a)(i,"mesCompetNumRef",""),Object(Pt.a)(i,"dataApuracao",""),Object(Pt.a)(i,"darfValor",""),Object(Pt.a)(i,"darfMulta",""),Object(Pt.a)(i,"darfJuros",""),Object(Pt.a)(i,"darfPagamento",""),Object(Pt.a)(i,"darfOutros",""),Object(Pt.a)(i,"chavePr",0),Object(Pt.a)(i,"acessos",[]),Object(Pt.a)(i,"permissoes",[]),Object(Pt.a)(i,"acessosPermissoes",[]),Object(Pt.a)(i,"bloqueado",!1),Object(Pt.a)(i,"bloqueadoContabiliza",!1),Object(Pt.a)(i,"loading",!0),Object(Pt.a)(i,"modalPesquisa",""),i),zo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Uo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:if(a=t.sent,0==e.state.usuarioLogado.empresa){t.next=7;break}return t.next=7,e.setState({empresa:e.state.usuarioLogado.empresa});case 7:return t.next=9,e.setState({chave:a});case 9:if(0==parseInt(a)){t.next=24;break}return t.next=12,e.loadAll();case 12:return t.next=14,e.setState({tipo:0==e.state.evento.tipo_sub?1:0,moeda:e.state.evento.Moeda,valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor),vlrc:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.valor1),documento:e.state.evento.documento,tipoDocumento:e.state.evento.tipo_documento,repasse:1==e.state.evento.repasse,emissao:N()(e.state.evento.emissao).format("YYYY-MM-DD"),vencimento:N()(e.state.evento.vencimento).format("YYYY-MM-DD"),desconto:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.desconto_valor),descontoComplemento:e.state.evento.desconto_cpl,descontoConta:e.state.evento.desconto_conta,retencaoInss:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_inss_valor),retencaoInssComplemento:e.state.evento.retencao_inss_cpl,retencaoInssConta:e.state.evento.retencao_inss_conta,retencaoIr:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_ir_valor),retencaoIrComplemento:e.state.evento.retencao_ir_cpl,retencaoIrConta:e.state.evento.retencao_ir_conta,retencaoIss:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_iss_valor),retencaoIssComplemento:e.state.evento.retencao_iss_cpl,retencaoIssConta:e.state.evento.retencao_iss_conta,retencaoPis:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_pis_valor),retencaoPisComplemento:e.state.evento.retencao_pis_cpl,retencaoPisConta:e.state.evento.retencao_pis_conta,retencaoCofins:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_cofins_valor),retencaoCofinsComplemento:e.state.evento.retencao_cofins_cpl,retencaoCofinsConta:e.state.evento.retencao_cofins_conta,retencaoCsll:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.evento.retencao_csll_valor),retencaoCsllComplemento:e.state.evento.retencao_csll_cpl,retencaoCsllConta:e.state.evento.retencao_csll_conta,complemento:e.state.evento.complemento,contaTaxa:e.state.evento.contaTaxa,contaCliente:e.state.evento.contaCliente,contaFornecedor:e.state.evento.contaFornecedor,contaFornecedorCusteio:e.state.evento.contaFornecedorCusteio,navio:e.state.evento.navioNome,fornecedorNome:e.state.evento.fornecedorNome});case 14:if(e.setState({historico:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)}),e.state.descontoConta&&"0"!=e.state.descontoConta){t.next=18;break}return t.next=18,e.setState({descontoConta:e.state.parametros[0].conta_desconto});case 18:return t.next=20,e.setState({retencaoInssCheck:e.state.evento.retencao_inss_conta&&"0"!=e.state.evento.retencao_inss_conta,retencaoIrCheck:e.state.evento.retencao_ir_conta&&"0"!=e.state.evento.retencao_ir_conta,retencaoIssCheck:e.state.evento.retencao_iss_conta&&"0"!=e.state.evento.retencao_iss_conta,retencaoPisCheck:e.state.evento.retencao_pis_conta&&"0"!=e.state.evento.retencao_pis_conta,retencaoCofinsCheck:e.state.evento.retencao_cofins_conta&&"0"!=e.state.evento.retencao_cofins_conta,retencaoCsllCheck:e.state.evento.retencao_csll_conta&&"0"!=e.state.evento.retencao_csll_conta});case 20:return t.next=22,e.setState({dadosIniciais:[{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Emissao",valor:K.a.formatForLogs(e.state.emissao,"date")},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Valor de Desconto",valor:K.a.formatForLogs(e.state.desconto)},{titulo:"Complemento de Desconto",valor:K.a.formatForLogs(e.state.descontoComplemento)},{titulo:"Conta de Desconto",valor:K.a.formatForLogs(e.state.descontoConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de INSS",valor:K.a.formatForLogs(e.state.retencaoInss,"money")},{titulo:"Complemento de INSS",valor:K.a.formatForLogs(e.state.retencaoInssComplemento)},{titulo:"Conta de INSS",valor:K.a.formatForLogs(e.state.retencaoInssConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de IR",valor:K.a.formatForLogs(e.state.retencaoIr,"money")},{titulo:"Complemento de IR",valor:K.a.formatForLogs(e.state.retencaoIrComplemento)},{titulo:"Conta de IR",valor:K.a.formatForLogs(e.state.retencaoIrConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de ISS",valor:K.a.formatForLogs(e.state.retencaoIss,"money")},{titulo:"Complemento de ISS",valor:K.a.formatForLogs(e.state.retencaoIssComplemento)},{titulo:"Conta de ISS",valor:K.a.formatForLogs(e.state.retencaoIssConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de PIS",valor:K.a.formatForLogs(e.state.retencaoPis,"money")},{titulo:"Complemento de PIS",valor:K.a.formatForLogs(e.state.retencaoPisComplemento)},{titulo:"Conta de PIS",valor:K.a.formatForLogs(e.state.retencaoPisConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofins,"money")},{titulo:"Complemento de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofinsComplemento)},{titulo:"Conta de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofinsConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsll,"money")},{titulo:"Complemento de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsllComplemento)},{titulo:"Conta de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsllConta,"options","","",e.state.planosContasOptions)},{titulo:"Complemento",valor:K.a.formatForLogs(e.state.complemento)},{titulo:"Conta Contabil",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)}],loading:!1});case 22:t.next=25;break;case 24:e.setState({loading:!1});case 25:e.state.acessosPermissoes.map((function(t){("SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"SERVICOS_ITENS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 26:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getOne("getSolicitacao.php",e.state.chave);case 3:return t.t1=t.sent,t.next=6,le.a.getContaSolicitacao(e.state.chave);case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getHistoricos.php");case 9:return t.t3=t.sent,t.next=12,le.a.getHistoricosOptions();case 12:return t.t4=t.sent,t.next=15,le.a.getBase("getPlanosContasAnaliticas.php");case 15:return t.t5=t.sent,t.next=18,le.a.getPlanosContasAnaliticasOptions();case 18:return t.t6=t.sent,t.next=21,le.a.getBase("getCentrosCustos.php");case 21:return t.t7=t.sent,t.next=24,le.a.getBaseOptions("getCentrosCustos.php","Descricao","Chave");case 24:return t.t8=t.sent,t.next=27,le.a.getBase("getTiposLancamento.php");case 27:return t.t9=t.sent,t.next=30,le.a.getTiposLancamentoOptions();case 30:return t.t10=t.sent,t.next=33,le.a.getBase("getMeiosPagamentos.php");case 33:return t.t11=t.sent,t.next=36,le.a.getMeiosPagamentosOptions();case 36:return t.t12=t.sent,t.next=39,le.a.getBase("getMoedas.php");case 39:return t.t13=t.sent,t.next=42,le.a.getBody("getParametros.php",{token:!0,empresa:e.state.usuarioLogado.empresa});case 42:return t.t14=t.sent,t.next=45,le.a.getBase("getTiposAcessos.php");case 45:return t.t15=t.sent,t.next=48,le.a.getBase("getPermissoes.php");case 48:return t.t16=t.sent,t.t17={evento:t.t1,conta:t.t2,historicos:t.t3,historicosOptions:t.t4,planosContas:t.t5,planosContasOptions:t.t6,centrosCustos:t.t7,centrosCustosOptions:t.t8,tiposDocumentos:t.t9,tiposDocumentosOptions:t.t10,meiosPagamentos:t.t11,meiosPagamentosOptions:t.t12,moedas:t.t13,parametros:t.t14,acessos:t.t15,permissoes:t.t16},t.next=52,t.t0.setState.call(t.t0,t.t17);case 52:return(a=e.state.planosContasOptions).unshift({label:"Select...",value:""}),t.t18=e,t.t19=a,t.t20=e.state.parametros[0].conta_retencao_inss,t.t21=e.state.parametros[0].conta_retencao_ir,t.t22=e.state.parametros[0].conta_retencao_iss,t.t23=e.state.parametros[0].conta_retencao_pis,t.t24=e.state.parametros[0].conta_retencao_cofins,t.t25=e.state.parametros[0].conta_retencao_csll,t.next=64,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 64:return t.t26=t.sent,t.t27={planosContasOptions:t.t19,parametroInss:t.t20,parametroIr:t.t21,parametroIss:t.t22,parametroPis:t.t23,parametroCofins:t.t24,parametroCsll:t.t25,acessosPermissoes:t.t26,loading:!1},t.next=68,t.t18.setState.call(t.t18,t.t27);case 68:return t.next=70,e.getOSUma();case 70:case"end":return t.stop()}}),t)}))),e.alteraComplementoRetencoes=function(){e.setState({historico:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio),descontoComplemento:e.state.desconto>0?"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio):"",retencaoCsllComplemento:e.state.retencaoCsllCheck?"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio):"",retencaoInssComplemento:e.state.retencaoInssCheck?"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio):"",retencaoIrComplemento:e.state.retencaoIrCheck?"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio):"",retencaoIssComplemento:e.state.retencaoIssCheck?"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio):""})},e.salvarServicoItem=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),e.setState({historico:"Valor referente Doc ".concat(e.state.documento?e.state.documento:""," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)}),t.next=5,e.setState({dadosFinais:[{titulo:"Moeda",valor:K.a.formatForLogs(e.state.moeda,"options","","",e.state.moedas,"Chave","Sigla")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"VCP",valor:K.a.formatForLogs(e.state.vlrc,"money")},{titulo:"Repasse",valor:K.a.formatForLogs(e.state.repasse,"bool")},{titulo:"Emissao",valor:K.a.formatForLogs(e.state.emissao,"date")},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Valor de Desconto",valor:K.a.formatForLogs(e.state.desconto)},{titulo:"Complemento de Desconto",valor:K.a.formatForLogs(e.state.descontoComplemento)},{titulo:"Conta de Desconto",valor:K.a.formatForLogs(e.state.descontoConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de INSS",valor:K.a.formatForLogs(e.state.retencaoInss,"money")},{titulo:"Complemento de INSS",valor:K.a.formatForLogs(e.state.retencaoInssComplemento)},{titulo:"Conta de INSS",valor:K.a.formatForLogs(e.state.retencaoInssConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de IR",valor:K.a.formatForLogs(e.state.retencaoIr,"money")},{titulo:"Complemento de IR",valor:K.a.formatForLogs(e.state.retencaoIrComplemento)},{titulo:"Conta de IR",valor:K.a.formatForLogs(e.state.retencaoIrConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de ISS",valor:K.a.formatForLogs(e.state.retencaoIss,"money")},{titulo:"Complemento de ISS",valor:K.a.formatForLogs(e.state.retencaoIssComplemento)},{titulo:"Conta de ISS",valor:K.a.formatForLogs(e.state.retencaoIssConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de PIS",valor:K.a.formatForLogs(e.state.retencaoPis,"money")},{titulo:"Complemento de PIS",valor:K.a.formatForLogs(e.state.retencaoPisComplemento)},{titulo:"Conta de PIS",valor:K.a.formatForLogs(e.state.retencaoPisConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofins,"money")},{titulo:"Complemento de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofinsComplemento)},{titulo:"Conta de COFINS",valor:K.a.formatForLogs(e.state.retencaoCofinsConta,"options","","",e.state.planosContasOptions)},{titulo:"Valor de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsll,"money")},{titulo:"Complemento de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsllComplemento)},{titulo:"Conta de CSLL",valor:K.a.formatForLogs(e.state.retencaoCsllConta,"options","","",e.state.planosContasOptions)},{titulo:"Complemento",valor:K.a.formatForLogs(e.state.complemento)},{titulo:"Conta Contabil",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)}],loading:!0});case 5:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.abrupt("return");case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateServicoItemFinanceiro.php",{token:!0,chave:e.state.chave,Moeda:e.state.moeda,valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),valor1:parseFloat(e.state.vlrc.replaceAll(".","").replaceAll(",",".")),repasse:e.state.repasse?1:0,emissao:N()(e.state.emissao).format("YYYY-MM-DD"),vencimento:N()(e.state.vencimento).format("YYYY-MM-DD"),documento:e.state.documento,tipo_documento:e.state.tipo_documento,desconto_valor:parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",",".")),desconto_cpl:e.state.descontoComplemento,desconto_conta:e.state.descontoConta,retencao_inss_valor:parseFloat(e.state.retencaoInss.replaceAll(".","").replaceAll(",",".")),retencao_inss_cpl:e.state.retencaoInssComplemento,retencao_inss_conta:e.state.retencaoInssConta,retencao_ir_valor:parseFloat(e.state.retencaoIr.replaceAll(".","").replaceAll(",",".")),retencao_ir_cpl:e.state.retencaoIrComplemento,retencao_ir_conta:e.state.retencaoIrConta,retencao_iss_valor:parseFloat(e.state.retencaoIss.replaceAll(".","").replaceAll(",",".")),retencao_iss_cpl:e.state.retencaoIssComplemento,retencao_iss_conta:e.state.retencaoIssConta,retencao_pis_valor:parseFloat(e.state.retencaoPis.replaceAll(".","").replaceAll(",",".")),retencao_pis_cpl:e.state.retencaoPisComplemento,retencao_pis_conta:e.state.retencaoPisConta,retencao_cofins_valor:parseFloat(e.state.retencaoCofins.replaceAll(".","").replaceAll(",",".")),retencao_cofins_cpl:e.state.retencaoCofinsComplemento,retencao_cofins_conta:e.state.retencaoCofinsConta,retencao_csll_valor:parseFloat(e.state.retencaoCsll.replaceAll(".","").replaceAll(",",".")),retencao_csll_cpl:e.state.retencaoCsllComplemento,retencao_csll_conta:e.state.retencaoCsllConta,complemento:e.state.complemento}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=10;break}return t.next=3,le.a.salvaLogs("os_servicos_itens",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave);case 3:return t.next=5,e.setState({loading:!1});case 5:if(e.state.contabiliza){t.next=8;break}return t.next=8,e.setState({loading:!1,bloqueado:!1});case 8:t.next=12;break;case 10:return t.next=12,alert("Erro ".concat(JSON.stringify(a)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.contabilizar=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({contaDebito:1==e.state.tipo?e.state.repasse?e.state.contaCliente:"":e.state.contaCliente,contaCredito:1==e.state.tipo?(e.state.repasse,e.state.evento.fornecedor?e.state.contaFornecedor:e.state.contaFornecedorCusteio):e.state.contaTaxa}),t.next=3,e.setState({contabiliza:!0});case 3:return t.next=5,e.salvarServicoItem(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.transformaRetencoes=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],e.state.desconto>0&&a.push("'".concat(e.state.descontoConta,"', ").concat(e.state.desconto.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.descontoComplemento,"', 'DESCONTO'")),e.state.retencaoCofinsCheck&&a.push("'".concat(e.state.retencaoCofinsConta,"', ").concat(e.state.retencaoCofins.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoCofinsComplemento,"', 'COFINS'")),e.state.retencaoCsllCheck&&a.push("'".concat(e.state.retencaoCsllConta,"', ").concat(e.state.retencaoCsll.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoCsllComplemento,"', 'CRF'")),e.state.retencaoInssCheck&&a.push("'".concat(e.state.retencaoInssConta,"', ").concat(e.state.retencaoInss.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoCofinsInss,"', 'INSS'")),e.state.retencaoIrCheck&&a.push("'".concat(e.state.retencaoIrConta,"', ").concat(e.state.retencaoIr.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoIrComplemento,"', 'IR'")),e.state.retencaoIssCheck&&a.push("'".concat(e.state.retencaoIssConta,"', ").concat(e.state.retencaoIss.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoIssComplemento,"', 'ISS'")),e.state.retencaoPisCheck&&a.push("'".concat(e.state.retencaoPisConta,"', ").concat(e.state.retencaoPis.replaceAll(".","").replaceAll(",","."),", '").concat(e.state.retencaoPisComplemento,"', 'PIS'")),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)}))),e.calculaValor=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=parseFloat(e.state.vlrc.replaceAll(".","").replaceAll(",",".")),e.state.desconto>0&&(a-=parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",","."))),e.state.retencaoCofinsCheck&&(a-=parseFloat(e.state.retencaoCofins.replaceAll(".","").replaceAll(",","."))),e.state.retencaoCsllCheck&&(a-=parseFloat(e.state.retencaoCsll.replaceAll(".","").replaceAll(",","."))),e.state.retencaoInssCheck&&(a-=parseFloat(e.state.retencaoInss.replaceAll(".","").replaceAll(",","."))),e.state.retencaoIrCheck&&(a-=parseFloat(e.state.retencaoIr.replaceAll(".","").replaceAll(",","."))),e.state.retencaoIssCheck&&(a-=parseFloat(e.state.retencaoIss.replaceAll(".","").replaceAll(",","."))),e.state.retencaoPisCheck&&(a-=parseFloat(e.state.retencaoPis.replaceAll(".","").replaceAll(",","."))),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)}))),e.salvarConta=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({bloqueadoContabiliza:!0,loading:!0}),t.next=3,e.transformaRetencoes();case 3:return o=t.sent,t.next=6,e.calculaValor();case 6:if(n=t.sent,!a){t.next=12;break}return t.next=10,ae.a.post("insertContaFornecedor.php",{token:!0,values:"'".concat(e.state.emissao,"', '").concat(e.state.tipo,"', '").concat(e.state.evento.fornecedor,"', '").concat(0==e.state.tipo?e.state.contaCredito:e.state.contaDesconto,"', '").concat(e.state.codBarras,"', '").concat(e.state.evento.centroCusto,"', '").concat(e.state.historico,"',  '").concat(0==e.state.tipo?e.state.contaDesconto:e.state.contaCredito,"','",1,"', '",1,"', '").concat(parseFloat(n),"', '").concat(e.state.vencimento,"', '").concat(e.state.vencimento,"', '").concat(e.state.contaProvisao,"', '").concat(n,"', '").concat(e.state.usuarioLogado.codigo,"', '").concat(e.state.empresa,"', '").concat(e.state.documento,"', '").concat(e.state.tipoDocumento,"', '").concat(e.state.meioPagamento,"', '").concat(e.state.chave,"'"),meioPagamento:e.state.meioPagamentoNome,valuesDarf:"'".concat(e.state.codigoReceita,"', '").concat(e.state.contribuinte,"', '").concat(e.state.codigoIdentificadorTributo,"', '").concat(e.state.mesCompetNumRef,"', '").concat(N()(e.state.dataApuracao).format("YYYY-MM-DD"),"', '").concat(parseFloat(e.state.darfValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfMulta.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfJuros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfOutros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfPagamento.replaceAll(".","").replaceAll(",",".")),"'"),valuesRet:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=7;break}return t.next=3,e.setState({chavePr:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("os_contas_aberto",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a.data)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return t.next=12,ae.a.post("contabilizaEvento.php",{token:!0,repasse:e.state.repasse,tipoEvento:e.state.evento.tipo_sub,tipo:e.state.tipo,values:"'".concat(N()().format("YYYY-MM-DD"),"', '").concat(e.state.tipoDocumento,"', '").concat(e.state.evento.centroCusto,"', '").concat(e.state.historicoPadrao,"', '").concat(e.state.os.Chave_Cliente,"', '").concat(e.state.chavePr,"', '").concat(e.state.usuarioLogado.codigo,"', '").concat(e.state.usuarioLogado.codigo,"', '").concat(N()().format("YYYY-MM-DD"),"', '").concat(N()().format("YYYY-MM-DD"),"'"),historico:"".concat(e.state.historico),chave_evento:e.state.chave,chave_taxa:e.state.evento.taxa,contaDebito:e.state.contaDebito}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return t.next=14,e.setState({loading:!1,bloqueado:!1});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.mudaRetencao=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("INSS"!=a){t.next=10;break}if(!e.state.retencaoInssCheck){t.next=6;break}return t.next=4,e.setState({retencaoInssCheck:!1,retencaoInssConta:0,retencaoInss:"",retencaoInssComplemento:""});case 4:t.next=8;break;case 6:return t.next=8,e.setState({retencaoInssCheck:!0,retencaoInssConta:e.state.parametroInss,retencaoInssComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 8:t.next=58;break;case 10:if("IR"!=a){t.next=20;break}if(!e.state.retencaoIrCheck){t.next=16;break}return t.next=14,e.setState({retencaoIrCheck:!1,retencaoIrConta:0,retencaoIr:"",retencaoIrComplemento:""});case 14:t.next=18;break;case 16:return t.next=18,e.setState({retencaoIrCheck:!0,retencaoIrConta:e.state.parametroIr,retencaoIrComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 18:t.next=58;break;case 20:if("ISS"!=a){t.next=30;break}if(!e.state.retencaoIssCheck){t.next=26;break}return t.next=24,e.setState({retencaoIssCheck:!1,retencaoIssConta:0,retencaoIss:"0",retencaoIssComplemento:""});case 24:t.next=28;break;case 26:return t.next=28,e.setState({retencaoIssCheck:!0,retencaoIssConta:e.state.parametroIss,retencaoIssComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 28:t.next=58;break;case 30:if("PIS"!=a){t.next=40;break}if(!e.state.retencaoPisCheck){t.next=36;break}return t.next=34,e.setState({retencaoPisCheck:!1,retencaoPisConta:0,retencaoPis:"",retencaoPisComplemento:""});case 34:t.next=38;break;case 36:return t.next=38,e.setState({retencaoPisCheck:!0,retencaoPisConta:e.state.parametroPis,retencaoPisComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 38:t.next=58;break;case 40:if("COFINS"!=a){t.next=50;break}if(!e.state.retencaoCofinsCheck){t.next=46;break}return t.next=44,e.setState({retencaoCofinsCheck:!1,retencaoCofinsConta:0,retencaoCofins:"",retencaoCofinsComplemento:""});case 44:t.next=48;break;case 46:return t.next=48,e.setState({retencaoCofinsCheck:!0,retencaoCofinsConta:e.state.parametroCofins,retencaoCofinsComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 48:t.next=58;break;case 50:if("CSLL"!=a){t.next=58;break}if(!e.state.retencaoCsllCheck){t.next=56;break}return t.next=54,e.setState({retencaoCsllCheck:!1,retencaoCsllConta:0,retencaoCsll:"",retencaoCsllComplemento:""});case 54:t.next=58;break;case 56:return t.next=58,e.setState({retencaoCsllCheck:!0,retencaoCsllConta:e.state.parametroCsll,retencaoCsllComplemento:"Valor referente Doc ".concat(e.state.documento," ").concat(e.state.fornecedorNome," ").concat(e.state.os.codigo," NAVIO ").concat(e.state.navio)});case 58:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraPlanoConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("A"!=o){t.next=14;break}if("desc"!=e.state.formAtivo){t.next=6;break}return t.next=4,e.setState({descontoConta:a});case 4:t.next=14;break;case 6:if("ret1"!=e.state.formAtivo){t.next=11;break}return t.next=9,e.setState({retencao1Conta:a});case 9:t.next=14;break;case 11:if("ret2"!=e.state.formAtivo){t.next=14;break}return t.next=14,e.setState({retencao2Conta:a});case 14:return t.t0=e,t.next=17,le.a.getBase("getPlanosContasAnaliticas.php");case 17:return t.t1=t.sent,n={modalAberto:!1,planosContas:t.t1},t.t2=Pt.a,t.t3=n,t.next=23,le.a.getBaseOptions("getPlanosContasAnaliticas.php","Descricao","Chave");case 23:return t.t4=t.sent,(0,t.t2)(t.t3,"planosContas",t.t4),t.t5=Pt.a,t.t6=n,t.next=29,le.a.getPlanosContasAnaliticasOptions();case 29:return t.t7=t.sent,(0,t.t5)(t.t6,"planosContasOptions",t.t7),t.t8=n,t.next=34,t.t0.setState.call(t.t0,t.t8);case 34:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getOSUma=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getOSUma.php",{token:!0,chave_os:e.state.evento.chave_os}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({os:a.data[0]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.trocarTipoContabilizar=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state.evento),t.next=3,e.setState({tipo:a,pessoa:"",contaDesconto:""});case 3:if(1!=e.state.evento.tipo_sub){t.next=23;break}if("0"!=e.state.tipo){t.next=14;break}return t.t0=e,t.next=8,le.a.getContaTaxa(e.state.evento.taxa);case 8:t.t1=t.sent,t.t2={contaDesconto:t.t1},t.t0.setState.call(t.t0,t.t2),console.log(e.state.contaDesconto),t.next=21;break;case 14:if(1!=e.state.tipo){t.next=21;break}return t.t3=e,t.next=18,le.a.getContaPessoa(e.state.os.Chave_Cliente);case 18:t.t4=t.sent,t.t5={contaDesconto:t.t4},t.t3.setState.call(t.t3,t.t5);case 21:t.next=85;break;case 23:if(0!=e.state.evento.tipo_sub){t.next=67;break}if(!e.state.repasse){t.next=49;break}if("0"!=e.state.tipo){t.next=37;break}return t.t6=e,t.next=29,le.a.getContaPessoa(e.state.evento.fornecedor&&"0"!==e.state.evento.fornecedor?e.state.evento.fornecedor:e.state.evento.Fornecedor_Custeio,"provisao");case 29:return t.t7=t.sent,t.next=32,le.a.getContaPessoa(e.state.os.Chave_Cliente);case 32:t.t8=t.sent,t.t9={contaDesconto:t.t7,contaCredito:t.t8},t.t6.setState.call(t.t6,t.t9),t.next=47;break;case 37:if(1!=e.state.tipo){t.next=47;break}return t.t10=e,t.next=41,le.a.getContaPessoa(e.state.os.Chave_Cliente);case 41:return t.t11=t.sent,t.next=44,le.a.getContaPessoa(e.state.evento.fornecedor&&"0"!==e.state.evento.fornecedor?e.state.evento.fornecedor:e.state.evento.Fornecedor_Custeio,"provisao");case 44:t.t12=t.sent,t.t13={contaDesconto:t.t11,contaCredito:t.t12},t.t10.setState.call(t.t10,t.t13);case 47:t.next=65;break;case 49:if("0"!=e.state.tipo){t.next=58;break}return t.t14=e,t.next=53,le.a.getContaPessoa(e.state.evento.fornecedor&&"0"!==e.state.evento.fornecedor?e.state.evento.fornecedor:e.state.evento.Fornecedor_Custeio,"provisao");case 53:t.t15=t.sent,t.t16={contaDesconto:t.t15},t.t14.setState.call(t.t14,t.t16),t.next=65;break;case 58:if("1"!=e.state.tipo){t.next=65;break}return t.t17=e,t.next=62,le.a.getContaPessoa(e.state.evento.fornecedor&&"0"!==e.state.evento.fornecedor?e.state.evento.fornecedor:e.state.evento.Fornecedor_Custeio,"provisao");case 62:t.t18=t.sent,t.t19={contaCredito:t.t18},t.t17.setState.call(t.t17,t.t19);case 65:t.next=85;break;case 67:if(2!=e.state.evento.tipo_sub){t.next=77;break}return t.t20=e,t.t21=ce.q,t.next=72,le.a.getContaPessoa(e.state.os.Chave_Cliente);case 72:t.t22=t.sent,t.t23={contaDesconto:t.t21,contaCredito:t.t22},t.t20.setState.call(t.t20,t.t23),t.next=85;break;case 77:if(3!=e.state.evento.tipo_sub){t.next=85;break}return t.t24=e,t.t25=ce.u,t.next=82,le.a.getContaPessoa(e.state.os.Chave_Cliente);case 82:t.t26=t.sent,t.t27={contaDesconto:t.t25,contaCredito:t.t26},t.t24.setState.call(t.t24,t.t27);case 85:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.testaValores=function(){return parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoPis.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoCofins.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoCsll.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoInss.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoIr.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoIss.replaceAll(".","").replaceAll(",","."))>parseFloat(e.state.vlrc.replaceAll(".","").replaceAll(",","."))},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),t.push(!this.state.repasse&&!this.state.vlrc||this.state.vlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.vlrc.replaceAll(".","").replaceAll(",","."))&&(!this.state.repasse||this.state.vlrc==this.state.valor)),t.push(!this.state.desconto||this.state.desconto.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))),t.push(this.state.moeda),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t})),o=[];o.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),o.push(!this.state.repasse&&!this.state.vlrc||this.state.vlrc.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.vlrc.replaceAll(".","").replaceAll(",","."))&&(!this.state.repasse||this.state.vlrc==this.state.valor)),o.push(!this.state.desconto||this.state.desconto.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))),o.push(this.state.vencimento),o.push(this.state.meioPagamento),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoReceita),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.contribuinte),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoIdentificadorTributo),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.mesCompetNumRef),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.dataApuracao),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfValor&&this.state.darfValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfValor.replaceAll(".","").replaceAll(",","."))),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfPagamento&&this.state.darfPagamento.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfPagamento.replaceAll(".","").replaceAll(",","."))),o.push(!this.state.bloqueadoContabiliza);var n=o.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,this.props.location.state.os&&m.a.createElement(se.a,{voltarAddEvento:!0,evento:this.state.evento,os:this.props.location.state.os,titulo:"Eventos"}),!this.props.location.state.os&&m.a.createElement(se.a,{voltarAddEvento:!0,evento:this.state.evento,titulo:"Eventos"}),m.a.createElement("div",{className:"col-2"}),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement(Qt.a,{alteraModal:this.alteraModal,alteraSubgrupo:this.alteraSubgrupo,alteraPlanoConta:this.alteraPlanoConta,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){e.setState({modalAberto:!1})},pesquisa:this.state.modalPesquisa}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.contabiliza,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contabiliza:!1,bloqueado:!1,bloqueadoContabiliza:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Informa\xe7\xf5es para contabiliza\xe7\xe3o:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarConta(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico Padr\xe3o")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.historicosOptions.filter((function(t){return e.filterSearch(t,e.state.historicosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({historicosOptionsTexto:t})},value:this.state.historicosOptions.filter((function(t){return t.chave==e.state.historicoPadrao}))[0],search:!0,onChange:function(t){e.setState({historico:t.label,historicoPadrao:t.chave})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.historico,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({historico:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3d. Barras")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codBarras,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({codBarras:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta D\xe9bito")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaDebito&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:!(2!=this.state.evento.tipo_sub&&!this.state.repasse&&1==this.state.tipo),options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.contaDebito}))[0],search:!0,onChange:function(t){0==e.state.tipo&&e.state.repasse||e.setState({contaDebito:t.value})}}))," ",m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Cr\xe9dito")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaCredito&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:!(2!=this.state.evento.tipo_sub&&!this.state.repasse&&"0"===this.state.tipo),options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.contaCredito}))[0],onChange:function(t){1==e.state.tipo&&e.state.repasse||e.setState({contaCredito:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Meio de Pagamento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.meioPagamento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.meiosPagamentosOptions.filter((function(t){return e.filterSearch(t,e.state.meiosPagamentosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({meiosPagamentosOptionsTexto:t})},value:this.state.meiosPagamentosOptions.filter((function(t){return t.value==e.state.meioPagamento}))[0],search:!0,onChange:function(t){e.setState({meioPagamento:t.value,meioPagamentoNome:t.label})}})),("DARF"==this.state.meioPagamentoNome||"GPS"==this.state.meioPagamentoNome)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo da receita")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoReceita&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codigoReceita,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({codigoReceita:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Contribuinte")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contribuinte&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.contribuinte,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({contribuinte:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo identicador do tributo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoIdentificadorTributo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codigoIdentificadorTributo,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({codigoIdentificadorTributo:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"N\xfamero de refer\xeancia")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.mesCompetNumRef&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.mesCompetNumRef,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({mesCompetNumRef:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data de Apura\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.dataApuracao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.dataApuracao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({dataApuracao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfValor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfValor,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfValor:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfValor:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Multa")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfMulta&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfMulta,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfMulta:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfMulta:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Juros")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfJuros&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfJuros,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfJuros:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfJuros:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor de Pagamento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfPagamento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfPagamento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfPagamento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfPagamento:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Outros Valores")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfOutros&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfOutros,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfOutros:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({darfOutros:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n,type:"submit",style:n?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h2",null,0===parseInt(this.state.chave)?"Adicionar nova Solicita\xe7\xe3o":"Editar Solicita\xe7\xe3o")),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarServicoItem(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emiss\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.emissao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({emissao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Documento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.documento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({documento:a.currentTarget.value}),e.alteraComplementoRetencoes();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo de Documento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.tiposDocumentosOptions.filter((function(t){return e.filterSearch(t,e.state.tiposDocumentosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({tiposDocumentosOptionsTexto:t})},value:this.state.tiposDocumentosOptions.filter((function(t){return t.label==e.state.tipoDocumento}))[0],search:!0,onChange:function(t){e.setState({tipoDocumento:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.vencimento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({vencimento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-12 labelForm text-center"},m.a.createElement("label",null,"Reten\xe7\xf5es")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-12 checkboxesDiv"},m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"INSS"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoInssCheck,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mudaRetencao("INSS");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"IR"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoIrCheck,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mudaRetencao("IR");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"ISS"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoIssCheck,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mudaRetencao("ISS");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"CRF"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoCsllCheck,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mudaRetencao("CSLL");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Desconto")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{isDisabled:!0,className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.descontoConta}))[0]})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.desconto,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({desconto:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({desconto:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.descontoComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({descontoComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),this.state.retencaoInssCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o INSS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoInssConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoInss,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoInss:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoInss:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoInssComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoInssComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.retencaoIrCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o IR")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoIrConta}))[0],search:!0,onChange:function(t){return e.setState({retencaoIrConta:t.value})}})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoIr,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIr:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIr:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoIrComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIrComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.retencaoIssCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o ISS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoIssConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoIss,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIss:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIss:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoIssComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoIssComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.retencaoPisCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o PIS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoPisConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoPis,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoPis:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoPis:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoPisComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoPisComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.retencaoCofinsCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o COFINS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoCofinsConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoCofins,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCofins:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCofins:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoCofinsComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCofinsComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.retencaoCsllCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xf5es CRF")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(t){return e.filterSearch(t,e.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planosContasOptionsTexto:t})},value:this.state.planosContasOptions.filter((function(t){return t.value==e.state.retencaoCsllConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoCsll,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCsll:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCsll:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoCsllComplemento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({retencaoCsllComplemento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},!this.state.conta&&"0"!=this.state.evento.centroCusto&&(1==this.state.tipo&&this.state.repasse&&this.state.contaCliente&&(this.state.contaFornecedor||this.state.contaFornecedorCusteio)||!this.state.repasse&&(this.state.contaFornecedor||this.state.contaFornecedorCusteio)||0==this.state.tipo&&this.state.contaCliente&&this.state.contaTaxa||2==this.state.tipo&&this.state.contaCliente||3==this.state.tipo&&this.state.contaCliente)&&!this.testaValores()&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!a,onClick:function(){e.contabilizar(a)},style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Contabilizar"))),!(!this.state.conta&&"0"!=this.state.evento.centroCusto&&(1==this.state.tipo&&this.state.repasse&&this.state.contaCliente&&(this.state.contaFornecedor||this.state.contaFornecedorCusteio)||!this.state.repasse&&(this.state.contaFornecedor||this.state.contaFornecedorCusteio)||0==this.state.tipo&&this.state.contaCliente&&this.state.contaTaxa||2==this.state.tipo&&this.state.contaCliente||3==this.state.tipo&&this.state.contaCliente)&&!this.testaValores())&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{title:this.state.conta?"Esta solicita\xe7\xe3o j\xe1 foi contabilizada":"0"==this.state.evento.centroCusto?"Nenhum centro de custo vinculado":this.testaValores()?"Valores de reten\xe7\xf5es ultrapassam o valor do evento":"Faltam contas (d\xe9bito e/ou cr\xe9dito)",disabled:!0,style:{backgroundColor:"#eee",opacity:.3,width:300}},"Contabilizar")))))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),Go=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(zo),Wo=(a(711),a(712),{pesquisa:"",tipoPesquisa:1,load:100,anexoModal:"",anexoNomeModal:""}),Ho=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)({},Wo),e.handleSubmit=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==e.state.anexoModal&&""!==e.state.anexoNomeModal&&e.props.salvaAnexoTarifa(e.state.anexoModal,e.state.anexoNomeModal);case 1:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.fecharModal=function(){e.props.closeModal()},e.deleteItem=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.closeModal();case 1:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({ModalInsertAnexo:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalItemContainer darkBack"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fecharModal();case 2:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent darkBack"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Insira um novo anexo"))),m.a.createElement("div",{className:"col-lg-12",style:{display:"flex",justifyContent:"center"}},m.a.createElement($.c,{initialValues:{valueAnexo:this.state.anexo,valueAnexoNome:this.state.anexoNome},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.handleSubmit();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form alignCenter",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 labelForm firstLabel",style:{display:"flex",justifyContent:"center"}},m.a.createElement("label",{style:{display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center",fontSize:20}},"Anexo"))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10 ",style:{display:"flex",justifyContent:"center"}},m.a.createElement($.a,{className:"form-control",type:"file",value:this.state.anexoNomeModal,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({anexoModal:a.currentTarget.files,anexoNomeModal:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",disabled:""==this.state.anexoModal,style:""==this.state.anexoModal?{width:300,backgroundColor:"gray",color:"gray"}:{width:300,backgroundColor:"white"}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))}}]),a}(u.Component),Xo={descricao:"",data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,modal:"",modalAberto:!1,modalLista:[],modalPesquisa:"",fornecedor:"",portos:[],portosDeletados:[],anexos:[],anexo:"",anexoNome:"",servico:"",vencimento:"",preferencial:!1,modalInsertAnexo:!1,observacao:"",email:{endereco:"",anexos:[],anexosNomes:[],formats:[],exts:[],aberto:!1,assunto:"",corpo:""},optionsTexto:"",fornecedoresOptions:[],portosOptions:[],dadosIniciais:"",dadosFinais:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,savedRedirect:!1},Jo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Xo),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a});case 6:if(0===parseInt(a)){t.next=17;break}return t.next=9,e.setState({fornecedor:e.props.location.state.tarifa.fornecedor,portos:e.props.location.state.tarifa.porto?e.props.location.state.tarifa.porto.split("@"):[],servico:e.props.location.state.tarifa.servico,observacao:e.props.location.state.tarifa.observacao,anexo:e.props.location.state.tarifa.anexo,vencimento:e.props.location.state.tarifa.vencimento,preferencial:0!=e.props.location.state.tarifa.preferencial});case 9:return t.next=11,ae.a.post("getAnexosTarifas.php",{token:!0,chave:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 11:return n=t.sent,e.setState({anexos:n}),t.next=15,ae.a.post("getContatos.php",{token:!0,pessoa:e.state.fornecedor}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 15:r=t.sent,e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{endereco:null===(o=r.find((function(e){return"EM"==e.Tipo})))||void 0===o?void 0:o.Campo1})});case 17:return t.next=19,e.loadAll();case 19:0!=e.state.chave&&e.setState({dadosIniciais:[{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.fornecedoresOptions)},{titulo:"Portos",valor:e.state.portos.map((function(t){return K.a.formatForLogs(t,"options","","",e.state.portosOptions)})).join(", ")},{titulo:"Servico",valor:K.a.formatForLogs(e.state.servico)},{titulo:"Anexo",valor:K.a.formatForLogs(e.state.anexo)},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Observacao",valor:K.a.formatForLogs(e.state.observacao)}]}),e.state.acessosPermissoes.map((function(t){("TARIFAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"TARIFAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 21:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposAcessos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPermissoes.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getFornecedores.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBaseOptions("getFornecedores.php","Nome","Chave");case 12:return t.t4=t.sent,t.next=15,le.a.getBaseOptions("getPortos.php","Descricao","Chave");case 15:return t.t5=t.sent,t.t6={acessos:t.t1,permissoes:t.t2,fornecedores:t.t3,fornecedoresOptions:t.t4,portosOptions:t.t5},t.next=19,t.t0.setState.call(t.t0,t.t6);case 19:return t.t7=e,t.next=22,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 22:return t.t8=t.sent,t.t9={acessosPermissoes:t.t8,loading:!1},t.next=26,t.t7.setState.call(t.t7,t.t9);case 26:console.log(e.state.anexos);case 27:case"end":return t.stop()}}),t)}))),e.salvaTarifaAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",r="",s="","string"==typeof a||!a[0]){t.next=9;break}return t.next=6,K.a.getBase64(a[0]);case 6:n=t.sent,r=a[0].type,s=o.split(".")[o.split(".").length-1];case 9:if(c="anexo_forn-".concat(e.state.fornecedor,"_port-").concat(e.state.portos[0]),0===parseInt(e.state.chave)){t.next=13;break}return t.next=13,ae.a.post("insertAnexoTarifa.php",{token:!0,nome:c,documento:n,format:r,ext:s,chave_tarifa:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=10;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("anexos_tarifas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 7:document.location.reload(),t.next=10;break;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.salvarTarifa=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.fornecedoresOptions)},{titulo:"Portos",valor:e.state.portos.map((function(t){return K.a.formatForLogs(t,"options","","",e.state.portosOptions)})).join(", ")},{titulo:"Servico",valor:K.a.formatForLogs(e.state.servico)},{titulo:"Anexo",valor:K.a.formatForLogs(e.state.anexo)},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Observacao",valor:K.a.formatForLogs(e.state.observacao)}],loading:!0});case 4:if(o="",n="",r="","string"==typeof e.state.anexo||!e.state.anexo[0]){t.next=13;break}return t.next=10,K.a.getBase64(e.state.anexo[0]);case 10:o=t.sent,n=e.state.anexo[0].type,r=e.state.anexoNome.split(".")[e.state.anexoNome.split(".").length-1];case 13:if(s="anexo_forn-".concat(e.state.fornecedor,"_port-").concat(e.state.portos[0]),0!==parseInt(e.state.chave)||!a){t.next=19;break}return t.next=17,ae.a.post("insertTarifa.php",{token:!0,values:"'".concat(e.state.fornecedor,"', '").concat(e.state.servico,"', '").concat(e.state.vencimento,"', '").concat(e.state.preferencial?1:0,"', '").concat(e.state.observacao,"'"),portos:e.state.portos,nome:s,documento:o,format:n,ext:r}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].chave});case 3:return t.next=5,le.a.salvaLogs("tarifas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:t.next=22;break;case 19:if(!a){t.next=22;break}return t.next=22,ae.a.post("updateTarifa.php",{token:!0,chave:e.state.chave,fornecedor:e.state.fornecedor,portos:e.state.portos,portosDeletados:e.state.portosDeletados,servico:e.state.servico,vencimento:e.state.vencimento,preferencial:e.state.preferencial?1:0,observacao:e.state.observacao}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!a.data){t.next=8;break}return t.next=4,le.a.salvaLogs("tarifas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"ANEXO: ".concat(e.state.fornecedor));case 4:return t.next=6,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 6:t.next=8;break;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c,l;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.email.anexos,n=e.state.email.anexosNomes,r=e.state.email.formats,s=e.state.email.exts,c=a.files[0].name,t.next=7,K.a.getBase64(a.files[0]);case 7:l=t.sent,o.push(l),r.push(a.type),s.push(c.split(".")[c.split(".").length-1]),n.push(c),e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{anexos:o,anexosNomes:n,formats:r,exts:s})});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.state.email.anexos.filter((function(e,t){return t!=a})),n=e.state.email.anexosNomes.filter((function(e,t){return t!=a})),r=e.state.email.formats.filter((function(e,t){return t!=a})),s=e.state.email.exts.filter((function(e,t){return t!=a})),e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{anexos:o,anexosNomes:n,formats:r,exts:s})});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraCliente=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1"!=o.split("")[1]){t.next=3;break}return t.next=3,e.setState({fornecedor:a});case 3:return t.t0=e,t.next=6,le.a.getBase("getFornecedores.php");case 6:return t.t1=t.sent,t.next=9,le.a.getBaseOptions("getFornecedores.php","Nome","Chave");case 9:return t.t2=t.sent,t.t3={modalAberto:!1,fornecedores:t.t1,fornecedoresOptions:t.t2},t.next=13,t.t0.setState.call(t.t0,t.t3);case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.enviaEmail=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.salvarTarifa(),e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{corpo:e.state.email.corpo.replaceAll("\\n","<br/>"),aberto:!1}),loading:!0}),t.next=6,le.a.getBody("tarifasCustomEmail.php",{token:!0,email:e.state.email.endereco,assunto:e.state.email.assunto,corpo:e.state.email.corpo,anexos:e.state.email.anexos,operador:e.state.usuarioLogado.nome,anexosNomes:e.state.email.anexosNomes});case 6:e.setState({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.optionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("tarifas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.deleteAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse anexo? (",o,") "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteAnexoTarifa.php",{token:!0,chave:a,anexo:o}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.fornecedor),t.push(this.state.portos[0]),t.push(this.state.servico),t.push(this.state.vencimento),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t})),o=[];o.push(this.state.email.endereco),o.push(this.state.email.assunto),o.push(this.state.email.corpo);var n=o.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.savedRedirect&&m.a.createElement(V.a,{to:"/ordensservico/tarifas"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarTarifas:!0,titulo:"Tarifas de Fornecedores",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement(Ho,{closeModal:function(){e.setState({modalInsertAnexo:!1})},chave:this.state.chave,modalAberto:this.state.modalInsertAnexo,salvaAnexoTarifa:this.salvaTarifaAnexo}),m.a.createElement(Qt.a,{pesquisa:this.state.modalPesquisa,alteraModal:this.alteraModal,alteraCliente:this.alteraCliente,acessosPermissoes:this.state.acessosPermissoes,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,closeModal:function(){e.setState({modalAberto:!1})}}),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.email.aberto,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{aberto:!1})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{aberto:!1})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Enviar email:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.enviaEmail(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Destinat\xe1rio")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.email.endereco&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.email.endereco,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{endereco:a.currentTarget.value})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Assunto")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.email.assunto&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.email.assunto,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{assunto:a.currentTarget.value})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Corpo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.email.corpo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",rows:"4",component:"textarea",value:this.state.email.corpo,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{corpo:a.currentTarget.value})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Anexo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"file",value:"",onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.addAnexo(a.currentTarget);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),m.a.createElement("div",null,this.state.email.anexosNomes.map((function(t,a){return m.a.createElement("span",{className:"emailLinks",onClick:function(){return e.removeAnexo(a)}},t,"; ")})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n,type:"submit",style:n?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarTarifa(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.fornecedor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.fornecedoresOptions.filter((function(t){return e.filterSearch(t,e.state.fornecedoresOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({optionsTexto:t})},value:this.state.fornecedoresOptions.find((function(t){return t.value==e.state.fornecedor})),search:!0,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({fornecedor:a.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:function(){e.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:e.state.fornecedor,modalLista:e.state.fornecedores})}},"...")),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Portos")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.portos[0]&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(t){return e.filterSearch(t,e.state.optionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({optionsTexto:t})},value:this.state.portosOptions.find((function(t){return t.value==e.state.porto})),search:!0,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.portos.find((function(e){return e==a.value}))){t.next=3;break}return t.next=3,e.setState({portos:[].concat(Object(O.a)(e.state.portos),[a.value]),portosDeletados:e.state.portosDeletados.filter((function(e){return e!=a.value}))});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),this.state.portos.map((function(t,a){var o,n=a<e.state.portos.length-1?", ":"";return m.a.createElement("span",{onClick:function(){return e.setState({portos:e.state.portos.filter((function(e){return e!=t})),portosDeletados:[].concat(Object(O.a)(e.state.portosDeletados),[t])})},className:"selectedList"},null===(o=e.state.portosOptions.find((function(e){return e.value==t})))||void 0===o?void 0:o.label,n)}))),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Servi\xe7o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.servico&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.servico,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({servico:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Observa\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.observacao&&m.a.createElement("div",null)),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",rows:"4",component:"textarea",type:"text",value:this.state.observacao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({observacao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.vencimento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.vencimento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({vencimento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),0==this.state.chave?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Anexo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",type:"file",value:this.state.anexoNome,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({anexo:a.currentTarget.files,anexoNome:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))," "):null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Preferencial")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.preferencial,onChange:function(t){e.setState({preferencial:t.currentTarget.checked})},type:"checkbox"})),m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a||0==this.state.chave,type:"button",onClick:function(){e.setState({email:Object(b.a)(Object(b.a)({},e.state.email),{},{aberto:!0})})},style:a&&0!=this.state.chave?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar Email")),m.a.createElement("div",{className:"col-2"}))))),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS_CONTATOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"page-breadcrumb2"},m.a.createElement("h3",null,"Anexos"))),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("div",{className:"row",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),m.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},window.innerWidth>=500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Anexo")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave Tarifa")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center",type:"button",onClick:function(){e.setState({modalInsertAnexo:!0})}},m.a.createElement(ee.a,{icon:ne.M}))),window.innerWidth<500&&m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5 text-center"},m.a.createElement("span",{className:"subtituloships"},"Anexo"))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.anexos[0]&&this.state.anexos.map((function(t,a){return m.a.createElement("div",{key:t.chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags par":"col-lg-12 col-md-12 col-sm-12 col-12 mix all dresses bags itemLista impar"},window.innerWidth>=500&&m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center alignCenter"},m.a.createElement("p",null,m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("pictures/".concat(null===t||void 0===t?void 0:t.anexo))),className:"nonLink"},null===t||void 0===t?void 0:t.chave))),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 text-center alignCenter"},m.a.createElement("p",null,m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("pictures/".concat(null===t||void 0===t?void 0:t.anexo))),className:"nonLink"},null===t||void 0===t?void 0:t.anexo))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-center alignCenter"},m.a.createElement("p",null,m.a.createElement("a",{target:"_blank",href:"".concat(K.a.completarDocuments("pictures/".concat(null===t||void 0===t?void 0:t.anexo))),className:"nonLink"},null===t||void 0===t?void 0:t.chave_tarifa))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},1==e.state.acessosPermissoes.filter((function(e){if("PESSOAS_ENDERECOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteAnexo(t.chave,t.anexo)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-0 col-sm-0 col-0"}))}))))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),$o=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Jo),Ko=(a(713),{descricao:"",data:"",porto:0,thumb:[],imagem:"",terminal:[],id:null,seaports:[],redirect:!1,spanerror1:"",spanerror2:"",spanerror3:"",spanerror4:"",maxTerminal:null,logs:[],modalLog:!1,modal:"",modalAberto:!1,modalLista:[],modalPesquisa:"",fornecedor:"",os:"",osCodigo:"",validado:"",vencimento:"",vencimentoData:"",validadoData:"",validadoPor:"",fornecedoresOptions:[],dadosIniciais:"",dadosFinais:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1,savedRedirect:!1,optionsTexto:"",statusOptions:[{value:0,label:"Aguardando valida\xe7\xe3o..."},{value:1,label:"Invalidado"},{value:2,label:"Aprovado"},{value:3,label:"Validado",nonSelectable:!0}]}),Qo=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Ko),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:return a=t.sent,t.next=6,e.setState({chave:a,loading:!0});case 6:if(0===parseInt(a)){t.next=11;break}return t.next=9,e.setState({fornecedor:e.props.location.state.anexo.fornecedor,os:e.props.location.state.anexo.os,osCodigo:e.props.location.state.anexo.osCodigo,vencimento:e.props.location.state.anexo.vencimento,validado:e.props.location.state.anexo.validado?e.props.location.state.anexo.validado:"0",validadoData:e.props.location.state.anexo.validadoData,validadoPor:e.props.location.state.anexo.validadoPor});case 9:t.next=12;break;case 11:e.setState({savedRedirect:!0});case 12:return t.next=14,e.loadAll();case 14:0!=e.state.chave&&e.setState({dadosIniciais:[{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.fornecedoresOptions)},{titulo:"OS",valor:K.a.formatForLogs(e.state.os)},{titulo:"Validado",valor:K.a.formatForLogs(e.state.validado,"bool")},{titulo:"Validado por",valor:K.a.formatForLogs(e.state.usuarioLogado,"options","","",e.state.operadores,"Codigo","Nome")},{titulo:"Data de Valida\xe7\xe3o",valor:K.a.formatForLogs(e.state.validadoData,"date")}]}),e.state.acessosPermissoes.map((function(t){("ANEXOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"ANEXOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 16:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getTiposAcessos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPermissoes.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getFornecedores.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBaseOptionsCustomLabel("getFornecedores.php","Nome","Cnpj_Cpf","Chave");case 12:return t.t4=t.sent,t.next=15,le.a.getBody("getOperadoresBase.php",{empresa:e.state.usuarioLogado.empresa});case 15:return t.t5=t.sent,t.t6={acessos:t.t1,permissoes:t.t2,fornecedores:t.t3,fornecedoresOptions:t.t4,operadores:t.t5},t.next=19,t.t0.setState.call(t.t0,t.t6);case 19:return t.t7=e,t.next=22,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 22:return t.t8=t.sent,t.t9={acessosPermissoes:t.t8,loading:!1},t.next=26,t.t7.setState.call(t.t7,t.t9);case 26:case"end":return t.stop()}}),t)}))),e.salvarAnexo=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Fornecedor",valor:K.a.formatForLogs(e.state.fornecedor,"options","","",e.state.fornecedoresOptions)},{titulo:"OS",valor:K.a.formatForLogs(e.state.os)},{titulo:"Validado",valor:K.a.formatForLogs(e.state.validado,"bool")},{titulo:"Validado por",valor:K.a.formatForLogs(e.state.usuarioLogado,"options","","",e.state.operadores,"Codigo","Nome")},{titulo:"Data de Valida\xe7\xe3o",valor:K.a.formatForLogs(e.state.validadoData,"date")}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return e.setState({loading:!1}),t.abrupt("return");case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateAnexo.php",{token:!0,chave:e.state.chave,operador:e.state.usuarioLogado.codigo,evento:e.state.evento,validado:e.state.validado,validadoData:N()().format("YYYY-MM-DD")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.data),!a.data){t.next=8;break}return t.next=4,le.a.salvaLogs("anexos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"ANEXO: ".concat(e.state.fornecedor));case 4:return t.next=6,e.setState({loading:!1,bloqueado:!1,savedRedirect:!0});case 6:t.next=8;break;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(t){if(""==t)return!0;var a=e.state.optionsTexto.toUpperCase();return t.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("tarifas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e,t,a=this,o=[];o.push(this.state.fornecedor);var n=o.reduce((function(e,t){return e&&t}));return this.state.loading?m.a.createElement(m.a.Fragment,null):m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.savedRedirect&&m.a.createElement(V.a,{to:"/ordensservico/anexos"}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarAnexos:!0,titulo:"Valida\xe7\xf5es",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return a.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){a.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.descricao,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:a.salvarAnexo(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Validado")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:!!this.state.validadoPor,options:3!=this.state.validado?this.state.statusOptions.filter((function(e){return!e.nonSelectable})):this.state.statusOptions.filter((function(e){return e.nonSelectable})),value:this.state.statusOptions.find((function(e){return e.value==a.state.validado})),onChange:function(e){return a.state.validadoPor?{}:a.setState({validado:e.value})}})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fornecedor")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",isDisabled:!0,options:this.state.fornecedoresOptions.filter((function(e){return a.filterSearch(e,a.state.fornecedoresOptionsTexto)})).slice(0,20),value:this.state.fornecedoresOptions.find((function(e){return e.value==a.state.fornecedor}))})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimentos")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{type:"date",disabled:!0,className:"SearchSelect",value:this.state.vencimento})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"OS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{disabled:!0,className:"SearchSelect",value:this.state.osCodigo}))),this.state.validadoPor&&m.a.createElement("div",{className:"centerDiv"},null===(e=this.state.statusOptions.find((function(e){return e.value==a.state.validado})))||void 0===e?void 0:e.label," em ",N()(this.state.validadoData).format("DD/MM/YYYY")," ",-1==this.state.validadoPor?"pelo sistema (tempo expirado)":"por ".concat(null===(t=this.state.operadores.find((function(e){return e.Codigo==a.state.validadoPor})))||void 0===t?void 0:t.Nome))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),!this.state.validadoPor&&m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n,type:"submit",style:n?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Zo=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Qo),en=(a(714),{name:"",contasBase:[],contas:[],bancos:[],transacoes:[],dadosPagamento:[],tokenBB:"",vencimentoInicial:"",vencimentoFinal:"",lancamentoInicial:"",lancamentoFinal:"",total:"",pessoa:"",banco:"",status:"-",codigoTransacao:"",lote:"",transacao:"",transacaoInicial:"",bancosOptions:[],bancosOptionsTexto:"",statuses:[{label:"-----",value:"-"},{label:"Aguardando Envio",value:"1"},{label:"Aguardando Liberacao",value:"2"},{label:"Aguardando Retorno",value:"3"},{label:"Pago",value:"4"}],meiosPagamentos:[],pesquisa:"",error:{msg:"",type:""},mostraFiltros:!0,loading:!0,requisicoesCarregando:[],redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],load:100,requisicoesBloqueado:!1,liberacoesBloqueado:!1,errors:[],pdfGerado:""}),tn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},en),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({requisicoesCarregando:[]}),e.next=3,o.loadAll();case 3:o.state.acessosPermissoes.map((function(e){"REQUISICOES_PAGAMENTOS"==e.acessoAcao&&0==e.permissaoInsere&&o.setState({requisicoesBloqueado:!0}),"LIBERACOES_PAGAMENTOS"==e.acessoAcao&&0==e.permissaoInsere&&o.setState({liberacoesBloqueado:!0})}));case 4:case"end":return e.stop()}}),e)}))),o.loadAll=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getUltimaTransacao();case 3:return e.t1=e.sent,e.next=6,le.a.getUltimaTransacao();case 6:return e.t2=e.sent,e.next=9,le.a.getLote();case 9:return e.t3=e.sent,e.next=12,le.a.getBase("getPessoas.php");case 12:return e.t4=e.sent,e.next=15,le.a.getBaseOptions("getPessoas.php","Nome","Chave");case 15:return e.t5=e.sent,e.next=18,le.a.getBase("getMeiosPagamentos.php");case 18:return e.t6=e.sent,e.next=21,le.a.getBase("getBancos.php");case 21:return e.t7=e.sent,e.next=24,le.a.getBaseOptions("getBancos.php","Titular","Chave");case 24:return e.t8=e.sent,e.next=27,le.a.getBase("getTiposAcessos.php");case 27:return e.t9=e.sent,e.next=30,le.a.getBase("getPermissoes.php");case 30:return e.t10=e.sent,e.next=33,le.a.getBase("getCodigosBB.php");case 33:return e.t11=e.sent,e.next=36,le.a.getBase("getHistoricos.php");case 36:return e.t12=e.sent,e.t13=N()().format("YYYY-MM-DD"),e.t14=N()().format("YYYY-MM-DD"),e.t15=N()("1900-01-01").format("YYYY-MM-DD"),e.t16=N()("2100-12-31").format("YYYY-MM-DD"),e.t17={transacao:e.t1,transacaoInicial:e.t2,lote:e.t3,pessoas:e.t4,pessoasOptions:e.t5,meiosPagamentos:e.t6,bancos:e.t7,bancosOptions:e.t8,acessos:e.t9,permissoes:e.t10,bbCodigos:e.t11,historicos:e.t12,vencimentoInicial:e.t13,vencimentoFinal:e.t14,lancamentoInicial:e.t15,lancamentoFinal:e.t16},e.next=44,e.t0.setState.call(e.t0,e.t17);case 44:return(t=o.state.bancosOptions).unshift({value:"",label:"TODOS"}),e.next=48,o.setState({bancosOptions:t});case 48:return e.next=50,o.getTransacoesPagas();case 50:return e.t18=o,e.next=53,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 53:return e.t19=e.sent,e.t20=o.state.bbCodigos.filter((function(e){return"get"==e.tipo})),e.t21=o.state.bbCodigos.filter((function(e){return"erro"==e.tipo})),e.t22=o.state.bbCodigos.filter((function(e){return"trc"==e.tipo})),e.t23={acessosPermissoes:e.t19,bbGet:e.t20,bbErr:e.t21,bbTrc:e.t22,loading:!1},e.next=60,e.t18.setState.call(e.t18,e.t23);case 60:return e.next=62,o.getContasAbertas();case 62:case"end":return e.stop()}}),e)}))),o.getTransacoesPagas=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.getBase("getTransacoesPagas.php",o.state.usuarioLogado.empresa);case 2:if(!(t=e.sent).find((function(e){return e.meio_pagamento}))){e.next=8;break}return e.next=6,o.setState({transacoes:t.filter((function(e){return e.meioPagamento}))});case 6:e.next=10;break;case 8:return e.next=10,o.setState({transacoes:[]});case 10:case"end":return e.stop()}}),e)}))),o.getContasAbertas=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getContasAbertas.php",{token:!0,empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s,c,l,i,u,m,p,d;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.data.filter((function(e){return"0"!=e.meio_pagamento&&e.meioPagamento&&1==e.Tipo})),o.setState({contasBase:a}),n=[],r=[],s=0;s<a.length;s++)if(c=a[s],n.includes(c.Chave)||(r[s]=Object(b.a)(Object(b.a)({},c),{},{combinacoes:[c.Chave]}),r[s].Valor||(r[s].Valor=0)),n.push(c.Chave),["TRC","PIX"].includes(c.meioPagamento)){for(442==c.Pessoa&&console.log(c.Valor),l=[],i=0;i<a.filter((function(e){return!n.includes(e.Chave)})).length;i++)u=a.filter((function(e){return!n.includes(e.Chave)}))[i],442==c.Pessoa&&442==u.Pessoa&&console.log(u.Valor),u.Chave!=c.Chave&&u.Pessoa==c.Pessoa&&u.Vencimento==c.Vencimento&&u.contaCorrente==c.contaCorrente&&(r[s].Valor=parseFloat(r[s].Valor)+parseFloat(u.Valor),r[s].combinacoes.push(u.Chave),l.push(u.Chave));l.forEach((function(e){return n.push(e)}))}for(m=[],p=function(e){var t=r[e];t&&m.push(Object(b.a)(Object(b.a)({},t),{},{check:!1,pos:e,error:o.state.errors.filter((function(e){return e.conta==t.Chave})).map((function(e){return e.mensagem})),status:t.status,statusId:t.statusId,transacao:t.transacao,liberado:t.liberado,operador:t.operador_envio,existe:!!t.transacao}))},d=0;d<r.length;d++)p(d);return e.next=10,o.setState({contas:m});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 2:case"end":return e.stop()}}),e)}))),o.checkConta=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],n=o.state.contas,"all"!=t){e.next=6;break}return r=a?n.filter(o.filtrarPesquisa).splice(0,o.state.load):n.filter(o.filtrarPesquisa).filter((function(e){return 2!=o.state.status||e.operador!=o.state.usuarioLogado.codigo||2==o.state.status&&0!=e.statusId})).splice(0,o.state.load),n=n.map((function(e){return r.find((function(t){return e.Chave==t.Chave}))?Object(b.a)(Object(b.a)({},e),{},{check:!0}):Object(b.a)(Object(b.a)({},e),{},{check:!1})})),e.abrupt("return",o.setState({contas:n}));case 6:n=n.map((function(e){return e.Chave==t?Object(b.a)(Object(b.a)({},e),{},{check:!e.check}):Object(b.a)(Object(b.a)({},e),{},{check:e.check})})),o.setState({contas:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.enviarLote=Object(G.a)(z.a.mark((function e(){var t,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({loading:!0});case 2:t=o.state.contas.filter((function(e){return o.filtrarPesquisa&&e.check})).splice(0,o.state.load),a=z.a.mark((function e(a){var n,r,s,c,l,i,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[a],e.next=3,le.a.getCodigo("TR");case 3:return r=e.sent,e.next=6,o.setState({codigoTransacao:r});case 6:return n.transacao=o.state.transacao,e.next=9,o.setState({transacao:parseInt(o.state.transacao)+1});case 9:if("TRC"!=n.meioPagamento){e.next=20;break}return e.next=12,le.a.getTransacoesTipo("TRC");case 12:return s=(s=e.sent).filter((function(e){return N()(e.Data).format("YYYY-MM-DD")==N()().format("YYYY-MM-DD")}))[0]?parseInt(s.filter((function(e){return N()(e.Data).format("YYYY-MM-DD")==N()().format("YYYY-MM-DD")}))[0].id_transacao)+1:0,e.next=16,o.setState({codigoTransacao:s});case 16:return e.next=18,ae.a.post("enviaTRC.php",{token:!0,url:"".concat(ce.a).concat(ce.n),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:e.next=60;break;case 20:if("PIX"!=n.meioPagamento){e.next=28;break}return e.next=23,ae.a.post("getContasComplementar.php",{token:!0,chave:n.Chave}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:return c=e.sent,e.next=26,ae.a.post("enviaPIX.php",{token:!0,url:"".concat(ce.a).concat(ce.l),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote,dadosComplementares:c}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.state.requisicoesCarregando,!t.data.erros){e.next=6;break}return a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,') - "Rejeitada"')),e.next=5,o.setState({requisicoesCarregando:a});case 5:return e.abrupt("return");case 6:return r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=10,o.setState({requisicoesCarregando:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 26:e.next=60;break;case 28:if("BOL"!=n.meioPagamento){e.next=33;break}return e.next=31,ae.a.post("enviaBOL.php",{token:!0,url:"".concat(ce.a).concat(ce.b),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 31:e.next=60;break;case 33:if("CON"!=n.meioPagamento){e.next=38;break}return e.next=36,ae.a.post("enviaCON.php",{token:!0,url:"".concat(ce.a).concat(ce.d),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.codigoEstado})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 36:e.next=60;break;case 38:if("GRU"!=n.meioPagamento){e.next=46;break}return e.next=41,ae.a.post("getContasComplementar.php",{token:!0,chave:n.Chave}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 41:return l=e.sent,e.next=44,ae.a.post("enviaGRU.php",{token:!0,url:"".concat(ce.a).concat(ce.j),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote,dadosComplementares:l}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 44:e.next=60;break;case 46:if("DARF"!=n.meioPagamento){e.next=54;break}return e.next=49,ae.a.post("getContasComplementar.php",{token:!0,chave:n.Chave}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 49:return i=e.sent,e.next=52,ae.a.post("enviaDARF.php",{token:!0,url:"".concat(ce.a).concat(ce.f),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote,dadosComplementares:i}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 52:e.next=60;break;case 54:if("GPS"!=n.meioPagamento){e.next=60;break}return e.next=57,ae.a.post("getContasComplementar.php",{token:!0,chave:n.Chave}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 57:return u=e.sent,e.next=60,ae.a.post("enviaGPS.php",{token:!0,url:"".concat(ce.a).concat(ce.h),pessoa:n.Pessoa,conta:n,codigo:r,empresa:o.state.usuarioLogado.empresa,operador:o.state.usuarioLogado.codigo,lote:o.state.lote,dadosComplementares:u}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.requisicoesCarregando,r=o.state.bbGet.find((function(e){return e.codigo==t.data.estadoRequisicao})).status,a.push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - ").concat(3==r?"Aceita":0==r?"Rejeitada":"Paga")),e.next=5,o.setState({requisicoesCarregando:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 60:case"end":return e.stop()}}),e)})),n=0;case 5:if(!(n<t.length)){e.next=10;break}return e.delegateYield(a(n),"t0",7);case 7:n++,e.next=5;break;case 10:return e.next=12,o.getContasAbertas();case 12:return e.next=14,o.setState({loading:!1,lote:parseInt(o.state.lote)+1,requisicoesCarregando:[]});case 14:case"end":return e.stop()}}),e)}))),o.liberarPagamentos=Object(G.a)(z.a.mark((function e(){var t,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.state.contas.filter((function(e){return o.filtrarPesquisa&&e.check})).splice(0,o.state.load),e.next=3,o.setState({loading:!0});case 3:a=z.a.mark((function e(a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[a],e.next=3,le.a.getBody("getUltimaTransacaoConta.php",{chave:n.Chave});case 3:return r=e.sent,e.next=6,ae.a.post("liberarPagamento.php",{url:"".concat(ce.a).concat(ce.p),indicadorFloat:"S",numeroRequisicao:n.transacao,chave_conta:r[0].chave,operador:o.state.usuarioLogado.codigo,empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=o.state.requisicoesCarregando).push("Conta ".concat(n.Historico," (chave ").concat(n.Chave,") - Liberada")),e.next=4,o.setState({requisicoesCarregando:a});case 4:return e.next=6,le.a.salvaLogs("transacoes",o.state.usuarioLogado.codigo,null,"transacao liberado por ".concat(o.state.usuarioLogado.nome),n.chave);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})),n=0;case 5:if(!(n<t.length)){e.next=10;break}return e.delegateYield(a(n),"t0",7);case 7:n++,e.next=5;break;case 10:return e.next=12,o.getContasAbertas();case 12:return e.next=14,o.setState({loading:!1,requisicoesCarregando:[]});case 14:case"end":return e.stop()}}),e)}))),o.consultarLote=Object(G.a)(z.a.mark((function e(){var t,a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({loading:!0});case 2:t=o.state.contas.filter((function(e){return o.filtrarPesquisa&&e.check})).splice(0,o.state.load),a=[],n=z.a.mark((function e(n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("TRC"!=(r=t[n]).meioPagamento){e.next=6;break}return e.next=4,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.Vencimento,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 4:e.next=34;break;case 6:if("PIX"!=r.meioPagamento){e.next=11;break}return e.next=9,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 9:e.next=34;break;case 11:if("BOL"!=r.meioPagamento){e.next=16;break}return e.next=14,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 14:e.next=34;break;case 16:if("CON"!=r.meioPagamento){e.next=21;break}return e.next=19,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 19:e.next=34;break;case 21:if("GRU"!=r.meioPagamento){e.next=26;break}return e.next=24,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 24:e.next=34;break;case 26:if("DARF"!=r.meioPagamento){e.next=31;break}return e.next=29,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 29:e.next=34;break;case 31:if("GPS"!=r.meioPagamento){e.next=34;break}return e.next=34,ae.a.post("getContatos.php",{token:!0,pessoa:r.Pessoa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push({dadosBase:{chave:r.Chave,chaves:r.combinacoes,data:r.data_hora_envio,liberado:r.liberado,historico:r.Historico,transacao_chave:r.transacao_chave,valor:r.Valor,saldo:r.Saldo,cpf:r.pessoaCPF,transacao:r.transacao,existe:r.existe,status:r.status,statusId:r.statusId,meio:r.meioPagamento},id:r.transacao});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 34:case"end":return e.stop()}}),e)})),r=0;case 6:if(!(r<t.length)){e.next=11;break}return e.delegateYield(n(r),"t0",8);case 8:r++,e.next=6;break;case 11:return e.next=13,o.setState({dadosPagamento:a});case 13:o.consultaApi(o.state.dadosPagamento);case 14:case"end":return e.stop()}}),e)}))),o.consultaApi=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=z.a.mark((function e(n){var r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t[n]).dadosBase.error){e.next=37;break}if("TRC"!=r.dadosBase.meio){e.next=7;break}return e.next=5,ae.a.post("consultaTRC.php",{token:!0,url:"".concat(ce.a).concat(ce.o).concat(r.dadosBase.cpf,"/transferencias"),url2:"&dataInicio=".concat(N()(r.dadosBase.data).format("DDMMYYYY"),"&dataFim=").concat(N()(r.dadosBase.data).format("DDMMYYYY"),"&indice=0&tipoBeneficiario=").concat(11==(null===(s=r.dadosBase.cpf)||void 0===s?void 0:s.length)?1:2),empresa:o.state.usuarioLogado.empresa,id:r.id}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.data||t.data.erros){e.next=22;break}if(n={},t.data.transferencias&&t.data.transferencias[0]&&(n=t.data.transferencias.filter((function(e){return e.valorTransferencia==r.dadosBase.valor&&parseFloat(e.cpfCnpjBeneficiario)==parseFloat(r.dadosBase.cpf)}))),n[0]&&(n=n.at(-1)),!n||!n.estadoPagamento){e.next=15;break}return s=0,s=["AGENDADO","AGUARDANDO SALDO","CONSISTENTE","PENDENTE"].includes(n.estadoPagamento)?2==r.dadosBase.statusId?2:3:["DEBITADO","PAGO"].includes(n.estadoPagamento)?4:1,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"".concat(n.estadoPagamento," ").concat(1==s?" - Tente novamente":""),statusId:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=13,o.setState({requisicoesCarregando:c});case 13:e.next=20;break;case 15:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"N\xe3o encontrado.",statusId:0,errors:""}),(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=20,o.setState({requisicoesCarregando:l});case 20:e.next=27;break;case 22:try{a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbErr.find((function(e){return e.codigo==t.data.lancamentos[0].erros[0]})).mensagem,statusId:0,errors:""})}catch(m){a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""})}return(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=27,o.setState({requisicoesCarregando:i});case 27:e.next=36;break;case 29:return e.prev=29,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no sistema, tente novamente mais tarde",statusId:0,errors:""}),(u=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro interno")),e.next=36,o.setState({requisicoesCarregando:u});case 36:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=35;break;case 7:if("PIX"!=r.dadosBase.meio){e.next=12;break}return e.next=10,ae.a.post("consultaPIX.php",{token:!0,url:"".concat(ce.a).concat(ce.m,"/").concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i,u,m,p;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.data){e.next=30;break}return e.next=4,K.a.constroiJsonBB(t.data);case 4:if(!(n=e.sent)){e.next=23;break}if(!n.estadoRequisicao){e.next=15;break}return s=o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).mensagem,statusId:3==s&&0==r.dadosBase.liberado?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=13,o.setState({requisicoesCarregando:c});case 13:e.next=21;break;case 15:return l=o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).mensagem,statusId:3==l&&2==r.dadosBase.statusId?2:l,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==l||2==l?"Aceita":0==l?"Rejeitada":"Paga")),e.next=21,o.setState({requisicoesCarregando:i});case 21:e.next=28;break;case 23:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""}),(u=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=28,o.setState({requisicoesCarregando:u});case 28:e.next=35;break;case 30:return m=o.state.requisicoesCarregando,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"N\xe3o encontrada!",statusId:0,errors:""}),m.push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - N\xe3o encontrada!")),e.next=35,o.setState({requisicoesCarregando:m});case 35:e.next=44;break;case 37:return e.prev=37,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(p=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=44,o.setState({requisicoesCarregando:p});case 44:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:e.next=35;break;case 12:if("BOL"!=r.dadosBase.meio){e.next=17;break}return e.next=15,ae.a.post("consultaBOL.php",{token:!0,url:"".concat(ce.a).concat(ce.c).concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.constroiJsonBB(t.data);case 3:if(!(n=e.sent)){e.next=13;break}return s=o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).mensagem,statusId:3==s&&2==r.dadosBase.statusId?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=11,o.setState({requisicoesCarregando:c});case 11:e.next=18;break;case 13:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""}),(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=18,o.setState({requisicoesCarregando:l});case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=27,o.setState({requisicoesCarregando:i});case 27:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:e.next=35;break;case 17:if("CON"!=r.dadosBase.meio){e.next=22;break}return e.next=20,ae.a.post("consultaCON.php",{token:!0,url:"".concat(ce.a).concat(ce.e).concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.constroiJsonBB(t.data);case 3:if(!(n=e.sent)){e.next=13;break}return s=o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbTrc.find((function(e){return e.codigo==n.estadoPagamento})).mensagem,statusId:3==s&&2==r.dadosBase.statusId?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=11,o.setState({requisicoesCarregando:c});case 11:e.next=18;break;case 13:try{a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbErr.find((function(e){return e.codigo==t.data.lancamentos[0].erros[0]})).mensagem,statusId:0,errors:""})}catch(u){a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""})}return(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=18,o.setState({requisicoesCarregando:l});case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=27,o.setState({requisicoesCarregando:i});case 27:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:e.next=35;break;case 22:if("GRU"!=r.dadosBase.meio){e.next=27;break}return e.next=25,ae.a.post("consultaGRU.php",{token:!0,url:"".concat(ce.a).concat(ce.k).concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.constroiJsonBB(t.data);case 3:if(!(n=e.sent)){e.next=13;break}return s=o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).mensagem,statusId:3==s&&2==r.dadosBase.statusId?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=11,o.setState({requisicoesCarregando:c});case 11:e.next=18;break;case 13:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""}),(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=18,o.setState({requisicoesCarregando:l});case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=27,o.setState({requisicoesCarregando:i});case 27:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:e.next=35;break;case 27:if("DARF"!=r.dadosBase.meio){e.next=32;break}return e.next=30,ae.a.post("consultaDARF.php",{token:!0,url:"".concat(ce.a).concat(ce.g).concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.constroiJsonBB(t.data);case 3:if(!(n=e.sent)){e.next=13;break}return s=o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).mensagem,statusId:3==s&&2==r.dadosBase.statusId?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=11,o.setState({requisicoesCarregando:c});case 11:e.next=18;break;case 13:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""}),(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=18,o.setState({requisicoesCarregando:l});case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=27,o.setState({requisicoesCarregando:i});case 27:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,statusId:0,status:!1,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 30:e.next=35;break;case 32:if("GPS"!=r.dadosBase.meio){e.next=35;break}return e.next=35,ae.a.post("consultaGPS.php",{token:!0,url:"".concat(ce.a).concat(ce.i).concat(r.id,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var n,s,c,l,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.constroiJsonBB(t.data);case 3:if(!(n=e.sent)||t.data.lancamentos[0].erros[0]){e.next=13;break}return s=o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).status,a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:o.state.bbGet.find((function(e){return e.codigo==n.estadoRequisicao})).mensagem,statusId:3==s&&2==r.dadosBase.statusId?2:s,errors:""}),(c=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - ").concat(3==s||2==s?"Aceita":0==s?"Rejeitada":"Paga")),e.next=11,o.setState({requisicoesCarregando:c});case 11:e.next=18;break;case 13:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro Desconhecido",statusId:0,errors:""}),(l=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=18,o.setState({requisicoesCarregando:l});case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(0),a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:"Erro interno no servidor, tente novamente mais tarde",statusId:0,errors:""}),(i=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Erro")),e.next=27,o.setState({requisicoesCarregando:i});case 27:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,transacao_chave:r.dadosBase.transacao_chave,transacao:r.dadosBase.transacao,existe:r.dadosBase.existe,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,status:!1,statusId:0,error:t.message.includes("40")?"Erro no sistema":t.message.includes("50")?"Erro no servidor":"Erro desconhecido"}),(n=o.state.requisicoesCarregando).push("Conta ".concat(r.dadosBase.historico," (chave ").concat(r.dadosBase.chave,") - Rejeitada")),e.next=5,o.setState({requisicoesCarregando:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 35:e.next=38;break;case 37:a.push({conta:r.dadosBase.chave,contasChaves:r.dadosBase.chaves,valor:r.dadosBase.valor,saldo:r.dadosBase.saldo,transacao:r.transacao,status:!1,statusId:0,error:r.dadosBase.error});case 38:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<t.length)){e.next=8;break}return e.delegateYield(n(r),"t0",5);case 5:r++,e.next=3;break;case 8:return s=[],a.map(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.status||s.push({conta:t.conta,mensagem:t.error?t.error:"Erro desconhecido, tente novamente"}),a=z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.state.contasBase.find((function(e){return e.Chave==t.contasChaves[a]})),e.next=3,ae.a.post("pagarConta.php",{token:!0,chave:t.contasChaves[a],status:!1===t.status?t.error:"".concat(t.status," ").concat(t.errors[0]?t.errors.join(" "):""),transacao:t.transacao,valor:4!=t.statusId?0:n.valor,data_pagto:N()().format("YYYY-MM-DD"),saldo:n.saldo,id_status:t.statusId}).then(function(){var e=Object(G.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.data[0]){e.next=8;break}if(4!=t.statusId){e.next=4;break}return e.next=4,le.a.salvaLogs("contas_aberto",o.state.usuarioLogado.codigo,null,"Saldo (de)"+n.valor+" (para)"+(parseFloat(n.saldo)-parseFloat(n.valor))+"; Data_Pagto "+N()().format("YYYY-MM-DD")+"; Valor_Pago "+n.valor+";",t.conta);case 4:return e.next=6,le.a.salvaLogs("transacoes",o.state.usuarioLogado.codigo,null,"status "+(!1===t.status?t.error:"".concat(t.status," ").concat(t.errors[0]?t.errors.join(" "):""))+"; id_status "+(t.statusId?t.statusId:0),a.data[0].chave);case 6:e.next=8;break;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.next=5,ae.a.post("contabilizaContasAberto.php",{token:!0,data:n.Lancto,conta_credito:n.Conta_Contabil,conta_debito:n.Conta_Desconto,tipo_documento:n.tipodocto,centro_custo:n.Centro_Custo,historico_padrao:o.state.historicos.find((function(e){return e.Descricao===n.Historico}))?o.state.historicos.find((function(e){return e.Descricao===n.Historico})).Chave:0,historico:n.Historico,pessoa:n.Pessoa,valor:parseFloat(n.Valor.replaceAll(".","").replaceAll(",",".")),chavePr:n.Chave,usuario_inclusao:o.state.usuarioLogado.codigo,usuario_alteracao:o.state.usuarioLogado.codigo,data_inclusao:N()().format("YYYY-MM-DD"),data_alteracao:N()().format("YYYY-MM-DD")}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]||!t.data[0][0].Chave){e.next=5;break}return e.next=3,le.a.salvaLogs("lancamentos",o.state.usuarioLogado.codigo,null,"Inclus\xe3o",t.data[0].chave);case 3:e.next=5;break;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})),n=0;case 3:if(!(n<t.contasChaves.length)){e.next=8;break}return e.delegateYield(a(n),"t0",5);case 5:n++,e.next=3;break;case 8:return e.next=10,o.setState({errors:s});case 10:return e.next=12,o.getContasAbertas();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,o.setState({loading:!1,requisicoesCarregando:[]});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.gerarComprovante=function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("TRC"!=t.meioPagamento){e.next=5;break}return e.next=3,ae.a.post("consultaTRC.php",{token:!0,url:"".concat(ce.a).concat(ce.o).concat(t.pessoaCPF,"/transferencias"),url2:"&dataInicio=".concat(N()(t.Vencimento).format("DDMMYYYY"),"&dataFim=").concat(N()(t.Vencimento).format("DDMMYYYY"),"&indice=0&tipoBeneficiario=").concat(11==(null===(a=t.pessoaCPF)||void 0===a?void 0:a.length)?1:2),empresa:o.state.usuarioLogado.empresa,id:t.transacao}).then(function(){var e=Object(G.a)(z.a.mark((function e(a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.data.error){e.next=9;break}return e.next=3,K.a.constroiJsonBB(a.data.transferencias.at(-1));case 3:n=e.sent,(r=o.state.bancos.find((function(e){return parseInt(e.compe)==parseInt(n.numeroCOMPE)})))&&(n.nomeBanco=r.Titular),1==parseInt(n.numeroCOMPE)?o.comprovanteTransferencia(n,t.transacao):o.comprovanteTED(n,t.transacao),e.next=11;break;case 9:return e.next=11,o.setState({error:{type:"error",msg:"Muitas requisi\xe7\xf5es!\nAguarde alguns minutos, por favor..."}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:if("BOL"!=t.meioPagamento){e.next=8;break}return e.next=8,ae.a.post("consultaBOL.php",{token:!0,url:"".concat(ce.a).concat(ce.c).concat(t.transacao,"/solicitacao"),empresa:o.state.usuarioLogado.empresa}).then(function(){var e=Object(G.a)(z.a.mark((function e(a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.data.error){e.next=9;break}return e.next=3,K.a.constroiJsonBB(a.data);case 3:n=e.sent,(r=o.state.bancos.find((function(e){return parseInt(e.compe)==parseInt(n.numeroCOMPE)})))&&(n.nomeBanco=r.Titular),o.comprovanteBOL(n,t.transacao),e.next=11;break;case 9:return e.next=11,o.setState({error:{type:"error",msg:"Muitas requisi\xe7\xf5es!\nAguarde alguns minutos, por favor..."}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ERRO:"),console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.comprovanteTransferencia=function(){var e=Object(G.a)(z.a.mark((function e(t,a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m.a,e.t1={style:{zoom:1},key:546546554654},e.t2=m.a.createElement("div",{className:"comprovanteHeader"},m.a.createElement("div",{className:"marginFixLeftComprovanteHeader"},m.a.createElement("h3",null,N()().format("DD/MM/YYYY"))),m.a.createElement("div",null,m.a.createElement("h3",null,"BANCO DO BRASIL")),m.a.createElement("div",{className:"marginFixRightComprovanteHeader"},m.a.createElement("h3",null,N()().format("HH:mm:ss")))),e.t3=m.a.createElement("br",null),e.t4=m.a.createElement("h3",{className:"text-center"},"COMPROVANTE DE TRANSFERENCIA"),e.t5=m.a.createElement("h3",{className:"text-center"},"DE CONTA CORRENTE PARA CONTA CORRENTE"),e.t6=m.a.createElement("br",null),e.t7=m.a.createElement("br",null),e.t8=m.a.createElement("table",{className:"comprovanteTable"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},"CLIENTE: ",m.a.createElement("span",{className:"spanTdFix"},t.nomeBeneficiario))),m.a.createElement("tr",null,m.a.createElement("td",null,"AGENCIA: ",m.a.createElement("span",{className:"spanTdFix"},t.agenciaDebito)),m.a.createElement("td",{className:"tdMarginFix"},"CONTA: ",m.a.createElement("span",{style:{marginLeft:"10px"}},t.contaCorrenteDebito,"-",t.digitoVerificadorContaCorrenteDebito)))),e.t9=m.a.createElement("hr",null),e.t10=m.a,e.t11={className:"comprovanteTable"},e.t12=m.a,e.t13=m.a.createElement("td",null,"DATA DA TRANSFERENCIA"),e.t14=m.a,e.t15={className:"tdMarginFix"},e.next=18,K.a.formataData(t.dataTransferencia);case 18:return e.t16=e.sent,e.t17=e.t14.createElement.call(e.t14,"td",e.t15,e.t16),e.t18=e.t12.createElement.call(e.t12,"tr",null,e.t13,e.t17),e.t19=m.a.createElement("tr",null,m.a.createElement("td",null,"NR. DOCUMENTO"),m.a.createElement("td",{className:"tdMarginFix"},a)),e.t20=m.a,e.t21=m.a.createElement("td",null,"VALOR TOTAL:"),e.t22=m.a,e.t23={className:"tdMarginFix"},e.next=28,K.a.formataDinheiroBrasileiro(t.valorTransferencia);case 28:return e.t24=e.sent,e.t25=e.t22.createElement.call(e.t22,"td",e.t23,e.t24),e.t26=e.t20.createElement.call(e.t20,"tr",null,e.t21,e.t25),e.t27=m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},"***TRANSFERIDO PARA:")),e.t28=m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},"CLIENTE: ",m.a.createElement("span",{className:"spanTdFix"},t.nomeBeneficiario))),e.t29=m.a.createElement("tr",null,m.a.createElement("td",null,"AGENCIA: ",m.a.createElement("span",{className:"spanTdFix"},t.agenciaDebito)),m.a.createElement("td",{className:"tdMarginFix"},"CONTA: ",m.a.createElement("span",{style:{marginLeft:"10px"}},t.contaCorrenteDebito,"-",t.digitoVerificadorContaCorrenteDebito))),e.t30=m.a.createElement("tr",null,m.a.createElement("td",null,"NR. DOCUMENTO"),m.a.createElement("td",{className:"tdMarginFix"},a)),e.t31=e.t10.createElement.call(e.t10,"table",e.t11,e.t18,e.t19,e.t26,e.t27,e.t28,e.t29,e.t30),e.t32=m.a.createElement("hr",null),e.t33=m.a.createElement("table",{className:"comprovanteTable"},m.a.createElement("tr",null,m.a.createElement("td",null,"NR. AUTENTICACAO"),m.a.createElement("td",{className:"tdMarginFix"},t.codigoAutenticacaoPagamento))),n=e.t0.createElement.call(e.t0,"div",e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8,e.t9,e.t31,e.t32,e.t33),e.next=41,o.setState({pdfgerado:n});case 41:o.handleExportWithComponent();case 42:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.comprovanteTED=function(){var e=Object(G.a)(z.a.mark((function e(t,a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m.a,e.t1={style:{zoom:1},key:546546554654},e.t2=m.a.createElement("div",{className:"comprovanteHeader"},m.a.createElement("div",{className:"marginFixLeftComprovanteHeader"},m.a.createElement("h3",null,N()().format("DD/MM/YYYY"))),m.a.createElement("div",null,m.a.createElement("h3",null,"-")),m.a.createElement("div",null,m.a.createElement("h3",null,"BANCO DO BRASIL")),m.a.createElement("div",null,m.a.createElement("h3",null,"-")),m.a.createElement("div",{className:"marginFixRightComprovanteHeader"},m.a.createElement("h3",null,N()().format("HH:mm:ss")))),e.t3=m.a.createElement("br",null),e.t4=m.a.createElement("h3",{className:"text-center"},"COMPROVANTE DOC/TED"),e.t5=m.a.createElement("br",null),e.t6=m.a.createElement("br",null),e.t7=m.a.createElement("table",{className:"comprovanteTable"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},"CLIENTE: ",m.a.createElement("span",{className:"spanTdFix"},t.nomeBeneficiario))),m.a.createElement("tr",null,m.a.createElement("td",null,"AGENCIA: ",m.a.createElement("span",{className:"spanTdFix"},t.agenciaDebito)),m.a.createElement("td",{className:"tdMarginFix"},"CONTA: ",m.a.createElement("span",{style:{marginLeft:"10px"}},t.contaCorrenteDebito,"-",t.digitoVerificadorContaCorrenteDebito)))),e.t8=m.a.createElement("hr",null),e.t9=m.a,e.t10={className:"comprovanteTable"},e.t11=m.a.createElement("tr",null,m.a.createElement("td",null,"NR. DOCUMENTO"),m.a.createElement("td",{className:"tdMarginFix"},a)),e.t12=m.a,e.t13=m.a.createElement("td",null,"DATA DA TRANSFERENCIA"),e.t14=m.a,e.t15={className:"tdMarginFix"},e.next=18,K.a.formataData(t.dataTransferencia);case 18:return e.t16=e.sent,e.t17=e.t14.createElement.call(e.t14,"td",e.t15,e.t16),e.t18=e.t12.createElement.call(e.t12,"tr",null,e.t13,e.t17),e.t19=m.a.createElement("tr",null,m.a.createElement("td",null,"REMETENTE:"),m.a.createElement("td",{className:"tdMarginFix"},"NOME DO REMETENTE")),e.t20=m.a.createElement("tr",null,m.a.createElement("td",null,"FAVORECIDO:"),m.a.createElement("td",{className:"tdMarginFix"},t.nomeBeneficiario)),e.t21=m.a,e.t22=m.a.createElement("td",null,"CPF OU CNPJ"),e.t23=m.a,e.t24={className:"tdMarginFix"},e.next=29,K.a.formataCPF(t.cpfCnpjBeneficiario);case 29:return e.t25=e.sent,e.t26=e.t23.createElement.call(e.t23,"td",e.t24,e.t25),e.t27=e.t21.createElement.call(e.t21,"tr",null,e.t22,e.t26),e.t28=m.a.createElement("tr",null,m.a.createElement("td",null,"BANCO:"),m.a.createElement("td",{className:"tdMarginFix"},t.nomeBanco)),e.t29=m.a.createElement("tr",null,m.a.createElement("td",null,"AGENCIA: ",m.a.createElement("span",{className:"spanTdFix"},t.agenciaDebito)),m.a.createElement("td",{className:"tdMarginFix"},"CONTA: ",m.a.createElement("span",{style:{marginLeft:"10px"}},t.contaCorrenteDebito,"-",t.digitoVerificadorContaCorrenteDebito))),e.t30=m.a.createElement("tr",null,m.a.createElement("td",null,"FINALIDADE:"),m.a.createElement("td",{className:"tdMarginFix"},"FINALIDADE DA TED/DOC")),e.t31=m.a,e.t32=m.a.createElement("td",null,"VALOR (R$)"),e.t33=m.a,e.t34={className:"tdMarginFix"},e.next=41,K.a.formataDinheiroBrasileiro(t.valorTransferencia);case 41:return e.t35=e.sent,e.t36=e.t33.createElement.call(e.t33,"td",e.t34,e.t35),e.t37=e.t31.createElement.call(e.t31,"tr",null,e.t32,e.t36),e.t38=e.t9.createElement.call(e.t9,"table",e.t10,e.t11,e.t18,e.t19,e.t20,e.t27,e.t28,e.t29,e.t30,e.t37),e.t39=m.a.createElement("hr",null),e.t40=m.a.createElement("table",{className:"comprovanteTable"},m.a.createElement("tr",null,m.a.createElement("td",null,"NR. AUTENTICACAO"),m.a.createElement("td",{className:"tdMarginFix"},t.codigoAutenticacaoPagamento))),n=e.t0.createElement.call(e.t0,"div",e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8,e.t38,e.t39,e.t40),e.next=50,o.setState({pdfgerado:n});case 50:o.handleExportWithComponent();case 51:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.comprovanteBOL=function(){var e=Object(G.a)(z.a.mark((function e(t,a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m.a,e.t1={style:{zoom:1},key:546546554654},e.t2=m.a.createElement("div",{className:"comprovanteHeader"},m.a.createElement("div",{className:"marginFixLeftComprovanteHeader"},m.a.createElement("h3",null,N()().format("DD/MM/YYYY"))),m.a.createElement("div",null,m.a.createElement("h3",null,"-")),m.a.createElement("div",null,m.a.createElement("h3",null,"BANCO DO BRASIL")),m.a.createElement("div",null,m.a.createElement("h3",null,"-")),m.a.createElement("div",{className:"marginFixRightComprovanteHeader"},m.a.createElement("h3",null,N()().format("HH:mm:ss")))),e.t3=m.a.createElement("br",null),e.t4=m.a.createElement("h3",{className:"text-center"},"COMPROVANTE DE PAGAMENTO DE BOLETOS"),e.t5=m.a.createElement("br",null),e.t6=m.a.createElement("br",null),e.t7=m.a,e.t8={className:"comprovanteTable"},e.t9=m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},"CLIENTE: ",m.a.createElement("span",{className:"spanTdFix"},t.listaPagamentos[0].nomeBeneficiario))),e.t10=m.a.createElement("tr",null,m.a.createElement("td",null,"AGENCIA: ",m.a.createElement("span",{className:"spanTdFix"},t.agenciaDebito)),m.a.createElement("td",{className:"tdMarginFix"},"CONTA: ",m.a.createElement("span",{style:{marginLeft:"10px"}},t.contaCorrenteDebito,"-",t.digitoVerificadorContaCorrenteDebito))),e.t11=m.a.createElement("tr",null,m.a.createElement("td",{className:"text-center",colSpan:2},t.listaPagamentos[0].codigo)),e.t12=m.a,e.t13=m.a.createElement("td",null,"CNPJ/CPF DO PAGADOR"),e.t14=m.a,e.t15={className:"tdMarginFix"},e.next=18,K.a.formataCPF(t.listaPagamentos[0].documentoPagador);case 18:return e.t16=e.sent,e.t17=e.t14.createElement.call(e.t14,"td",e.t15,e.t16),e.t18=e.t12.createElement.call(e.t12,"tr",null,e.t13,e.t17),e.t19=m.a,e.t20=m.a.createElement("td",null,"CNPJ/CPF DO BENEFICIARIO"),e.t21=m.a,e.t22={className:"tdMarginFix"},e.next=27,K.a.formataCPF(t.listaPagamentos[0].documentoBeneficiario);case 27:return e.t23=e.sent,e.t24=e.t21.createElement.call(e.t21,"td",e.t22,e.t23),e.t25=e.t19.createElement.call(e.t19,"tr",null,e.t20,e.t24),e.t26=m.a,e.t27=m.a.createElement("td",null,"CNPJ/CPF DO BENEFICIARIO FINAL"),e.t28=m.a,e.t29={className:"tdMarginFix"},e.next=36,K.a.formataCPF(t.listaPagamentos[0].documentoBeneficiario);case 36:return e.t30=e.sent,e.t31=e.t28.createElement.call(e.t28,"td",e.t29,e.t30),e.t32=e.t26.createElement.call(e.t26,"tr",null,e.t27,e.t31),e.t33=e.t7.createElement.call(e.t7,"table",e.t8,e.t9,e.t10,e.t11,e.t18,e.t25,e.t32),e.t34=m.a.createElement("hr",null),e.t35=m.a,e.t36={className:"comprovanteTable"},e.t37=m.a.createElement("tr",null,m.a.createElement("td",null,"NR. DOCUMENTO"),m.a.createElement("td",{className:"tdMarginFix"},a)),e.t38=m.a,e.t39=m.a.createElement("td",null,"DATA DE VENCIMENTO"),e.t40=m.a,e.t41={className:"tdMarginFix"},e.next=50,K.a.formataData(t.listaPagamentos[0].dataVencimento);case 50:return e.t42=e.sent,e.t43=e.t40.createElement.call(e.t40,"td",e.t41,e.t42),e.t44=e.t38.createElement.call(e.t38,"tr",null,e.t39,e.t43),e.t45=m.a,e.t46=m.a.createElement("td",null,"DATA DO PAGAMENTO"),e.t47=m.a,e.t48={className:"tdMarginFix"},e.next=59,K.a.formataData(t.listaPagamentos[0].dataAgendamento);case 59:return e.t49=e.sent,e.t50=e.t47.createElement.call(e.t47,"td",e.t48,e.t49),e.t51=e.t45.createElement.call(e.t45,"tr",null,e.t46,e.t50),e.t52=m.a,e.t53=m.a.createElement("td",null,"VALOR DO DOCUMENTO (R$)"),e.t54=m.a,e.t55={className:"tdMarginFix"},e.next=68,K.a.formataDinheiroBrasileiro(t.listaPagamentos[0].valorNominal);case 68:return e.t56=e.sent,e.t57=e.t54.createElement.call(e.t54,"td",e.t55,e.t56),e.t58=e.t52.createElement.call(e.t52,"tr",null,e.t53,e.t57),e.t59=m.a,e.t60=m.a.createElement("td",null,"VALOR DO DESCONTO/ABATIMENTO (R$)"),e.t61=m.a,e.t62={className:"tdMarginFix"},e.next=77,K.a.formataDinheiroBrasileiro(t.listaPagamentos[0].valorDesconto);case 77:return e.t63=e.sent,e.t64=e.t61.createElement.call(e.t61,"td",e.t62,e.t63),e.t65=e.t59.createElement.call(e.t59,"tr",null,e.t60,e.t64),e.t66=m.a,e.t67=m.a.createElement("td",null,"VALOR DOS JUROS/MORA (R$)"),e.t68=m.a,e.t69={className:"tdMarginFix"},e.next=86,K.a.formataDinheiroBrasileiro(t.listaPagamentos[0].valorMoraMulta);case 86:return e.t70=e.sent,e.t71=e.t68.createElement.call(e.t68,"td",e.t69,e.t70),e.t72=e.t66.createElement.call(e.t66,"tr",null,e.t67,e.t71),e.t73=m.a,e.t74=m.a.createElement("td",null,"VALOR COBRADO(R$)"),e.t75=m.a,e.t76={className:"tdMarginFix"},e.next=95,K.a.formataDinheiroBrasileiro(t.valorPagamento);case 95:return e.t77=e.sent,e.t78=e.t75.createElement.call(e.t75,"td",e.t76,e.t77),e.t79=e.t73.createElement.call(e.t73,"tr",null,e.t74,e.t78),e.t80=e.t35.createElement.call(e.t35,"table",e.t36,e.t37,e.t44,e.t51,e.t58,e.t65,e.t72,e.t79),e.t81=m.a.createElement("hr",null),e.t82=m.a.createElement("table",{className:"comprovanteTable"},m.a.createElement("tr",null,m.a.createElement("td",null,"NR. AUTENTICACAO"),m.a.createElement("td",{className:"tdMarginFix"},t.codigoAutenticacaoPagamento))),n=e.t0.createElement.call(e.t0,"div",e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t33,e.t34,e.t80,e.t81,e.t82),e.next=104,o.setState({pdfgerado:n});case 104:o.handleExportWithComponent();case 105:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.handleExportWithComponent=function(e){o.pdfExportComponent.current.save(),o.setState({loading:!1})},o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.filtrarPesquisa=function(e){if(o.state.banco&&e.contaCorrente!=o.state.banco)return!1;if(o.state.vencimentoInicial&&!N()(e.Vencimento).isSameOrAfter(o.state.vencimentoInicial))return!1;if(o.state.vencimentoFinal&&!N()(e.Vencimento).isSameOrBefore(o.state.vencimentoFinal))return!1;if(o.state.lancamentoInicial&&!N()(e.Vencimento).isSameOrAfter(o.state.lancamentoInicial))return!1;if(o.state.lancamentoFinal&&!N()(e.Vencimento).isSameOrBefore(o.state.lancamentoFinal))return!1;if(!e.statusId&&1==o.state.status)return!0;if(o.state.status&&e.statusId!=o.state.status)if(0!=e.statusId||1!=e.liberado||3!=o.state.status&&1!=o.state.status){if(0!=e.statusId||0!=e.liberado||1!=o.state.status&&2!=o.state.status)return!1}else;return!0},o.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",{style:{position:"absolute",left:"-900000px",top:0}},m.a.createElement(jo.a,{fileName:this.state.pdfNome,scale:.6,landscape:!1,className:"pdfExp",paperSize:"A4",margin:"0.5cm",forcePageBreak:".page-break",ref:this.pdfExportComponent},this.state.pdfgerado)),m.a.createElement("div",null,this.state.loading&&m.a.createElement(m.a.Fragment,null,this.state.requisicoesCarregando[0]&&m.a.createElement("div",{style:{position:"absolute",zIndex:"2",height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},this.state.requisicoesCarregando.map((function(e){return m.a.createElement("div",{style:{width:"100%"}},m.a.createElement("h5",{style:{textAlign:"center"}},e))}))),m.a.createElement(he.a,null)),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiro:!0,titulo:"Pagamentos em Lote"}),m.a.createElement("br",null)),m.a.createElement(Ea.a,{alert:this.state.error,setAlert:function(t){return e.setState({error:t})}}),this.state.errorFooter&&m.a.createElement("div",{className:"erroFooter"},m.a.createElement("span",null,this.state.error)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),!this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!0})}},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 "},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 "}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right"},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.n}))))),this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.q})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Banco:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.bancosOptions.filter((function(t){return e.filterSearch(t,e.state.bancosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({bancosOptionsTexto:t})},value:this.state.bancosOptions.filter((function(t){return t.value==e.state.banco}))[0],search:!0,onChange:function(t){e.setState({banco:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Situa\xe7\xe3o:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.statuses,value:this.state.statuses.find((function(t){return t.value==e.state.status})),search:!0,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({status:a.value});case 2:if(3!=a.value&&2!=a.value){t.next=7;break}return t.next=5,e.checkConta("all",!0);case 5:return t.next=7,e.consultarLote();case 7:if(4!=a.value){t.next=10;break}return t.next=10,e.getTransacoesPagas();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Vencimento Inicial:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.vencimentoInicial,onChange:function(t){e.setState({vencimentoInicial:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Vencimento Final:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.vencimentoFinal,onChange:function(t){e.setState({vencimentoFinal:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Lancamento Inicial:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.lancamentoInicial,onChange:function(t){e.setState({lancamentoInicial:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Lancamento Final:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.lancamentoFinal,onChange:function(t){e.setState({lancamentoFinal:t.currentTarget.value})}}))),m.a.createElement("div",{className:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3  text-right pesquisa mobileajuster1 "}),m.a.createElement("div",{className:"col-5 col-sm-5 col-md-6 col-lg-6 col-xl-6  text-right pesquisa mobileajuster1 "},"1"==this.state.status&&m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-success",disabled:this.state.requisicoesBloqueado,style:{padding:"10px",fontSize:"1.2em",borderRadius:"20px"},onClick:function(){e.state.requisicoesBloqueado||e.enviarLote()}},"Pagar")),"2"==this.state.status&&m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-success",disabled:this.state.liberacoesBloqueado,style:{padding:"10px",fontSize:"1.2em",borderRadius:"20px"},onClick:function(){e.state.liberacoesBloqueado||e.liberarPagamentos()}},"Liberar")),"3"==this.state.status&&m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-success",style:{padding:"10px",fontSize:"1.2em",borderRadius:"20px"},onClick:function(){return e.consultarLote()}},"Consultar"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Hist\xf3rico")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Vencimento")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fornecedor")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},this.state.contas[0]&&m.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(){return e.checkConta("all")}}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},4!=this.state.status&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"pagamentoslote"}}},m.a.createElement("p",null,t.Historico))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,N()(t.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("input",{className:"pagamentosCheckbox",type:"checkbox",disabled:2==e.state.status&&t.operador==e.state.usuarioLogado.codigo||2==e.state.status&&0==t.statusId,checked:t.check,onChange:function(){2==e.state.status&&t.operador==e.state.usuarioLogado.codigo||2==e.state.status&&0==t.statusId||e.checkConta(t.Chave)}})))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"0"==t.statusId?"errorMessageTable":"successMessageTable"},m.a.createElement("span",null,t.status)))}))),4==this.state.status&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.transacoes[0]&&this.state.transacoes.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-1 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"pagamentoslote"}}},m.a.createElement("p",null,t.Historico))),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("p",null,N()(t.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},["BOL","TRC"].includes(t.meioPagamento)&&m.a.createElement(ee.a,{icon:ne.C,onClick:function(){e.gerarComprovante(t)}})))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"0"==t.statusId?"errorMessageTable":"successMessageTable"},m.a.createElement("span",null,t.status)))}))),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),an=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(tn),on=(a(715),a(1001)),nn={name:"",contas:[],bancos:[],transacoes:[],dadosPagamento:[],tokenBB:"",vencimentoInicial:"",vencimentoFinal:"",lancamentoInicial:"",lancamentoFinal:"",total:"",pessoa:"",banco:"",status:"-",codigoTransacao:"",lote:"",transacao:"",transacaoInicial:"",bancosOptions:[],bancosOptionsTexto:"",statuses:[{label:"-----",value:"-"},{label:"Aguardando Envio",value:"1"},{label:"Pago",value:"3"}],meiosPagamentos:[],pesquisa:"",mostraFiltros:!0,modalAberto:!1,historico:"",chave:0,valor:"",dataPagamento:N()().format("YYYY-MM-DD"),desconto:"",loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],load:100,errors:[]},rn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},nn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getUltimaTransacao();case 3:return t.t1=t.sent,t.next=6,le.a.getUltimaTransacao();case 6:return t.t2=t.sent,t.next=9,le.a.getLote();case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getPessoas.php");case 12:return t.t4=t.sent,t.next=15,le.a.getBaseOptions("getPessoas.php","Nome","Chave");case 15:return t.t5=t.sent,t.next=18,le.a.getBase("getMeiosPagamentos.php");case 18:return t.t6=t.sent,t.next=21,le.a.getBase("getBancos.php");case 21:return t.t7=t.sent,t.next=24,le.a.getBaseOptions("getBancos.php","Titular","Chave");case 24:return t.t8=t.sent,t.next=27,le.a.getBase("getTiposAcessos.php");case 27:return t.t9=t.sent,t.next=30,le.a.getBase("getPermissoes.php");case 30:return t.t10=t.sent,t.t11=N()("1900-01-01").format("YYYY-MM-DD"),t.t12=N()("2100-12-31").format("YYYY-MM-DD"),t.t13=N()("1900-01-01").format("YYYY-MM-DD"),t.t14=N()("2100-12-31").format("YYYY-MM-DD"),t.t15={transacao:t.t1,transacaoInicial:t.t2,lote:t.t3,pessoas:t.t4,pessoasOptions:t.t5,meiosPagamentos:t.t6,bancos:t.t7,bancosOptions:t.t8,acessos:t.t9,permissoes:t.t10,vencimentoInicial:t.t11,vencimentoFinal:t.t12,lancamentoInicial:t.t13,lancamentoFinal:t.t14},t.next=38,t.t0.setState.call(t.t0,t.t15);case 38:return t.t16=e,t.next=41,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 41:return t.t17=t.sent,t.t18={acessosPermissoes:t.t17,loading:!1},t.next=45,t.t16.setState.call(t.t16,t.t18);case 45:return t.next=47,e.getContasAbertas();case 47:case"end":return t.stop()}}),t)}))),e.getTransacoesPagas=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.a.getBase("getTransacoesPagas.php",e.state.usuarioLogado.empresa);case 2:if(!(a=t.sent).find((function(e){return!e.meioPagamento}))){t.next=8;break}return t.next=6,e.setState({transacoes:a.filter((function(e){return!e.meioPagamento}))});case 6:t.next=10;break;case 8:return t.next=10,e.setState({transacoes:[]});case 10:case"end":return t.stop()}}),t)}))),e.getContasAbertas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContasAbertas.php",{token:!0,empresa:e.state.usuarioLogado.empresa}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=a.data.filter((function(e){return"0"!=e.meio_pagamento&&e.meio_pagamento&&!e.meioPagamento&&1==e.Tipo})),n=[],r=function(t){var a=o[t];n.push(Object(b.a)(Object(b.a)({},a),{},{check:!1,pos:t,error:e.state.errors.filter((function(e){return e.conta==a.Chave})).map((function(e){return e.mensagem})),status:a.status,statusId:a.statusId,transacao:a.transacao,existe:!!a.transacao}))},s=0;s<o.length;s++)r(s);return t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.pagarConta=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.t0=e,t.next=5,le.a.getLote();case 5:return t.t1=t.sent,t.t2={bloqueado:!0,loading:!0,lote:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=10,ae.a.post("pagarManual.php",{token:!0,chave:e.state.chave,values:"'".concat(N()().format("YYYY-MM-DD"),"', '").concat(e.state.lote,"', '0', '").concat(e.state.chave,"', 'Pagamento efetuado', 3"),saldo:e.state.saldo,valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",",".")),data:N()().format("YYYY-MM-DD"),data_pagto:e.state.dataPagamento}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=11;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Saldo (de)"+e.state.saldo+" (para)"+(parseFloat(e.state.saldo)-(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",","."))))+"; Data_Pagto "+N()().format("YYYY-MM-DD")+"; Valor_Pago "+parseFloat(e.state.valor.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",","."))+";",e.state.chave);case 3:return t.next=5,le.a.salvaLogs("transacoes",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.getContasAbertas();case 7:return t.next=9,e.setState({loading:!1});case 9:t.next=12;break;case 11:console.log(a.data);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){return(!e.state.banco||t.contaCorrente==e.state.banco)&&(!(e.state.vencimentoInicial&&!N()(t.Vencimento).isAfter(e.state.vencimentoInicial))&&(!(e.state.vencimentoFinal&&!N()(t.Vencimento).isBefore(e.state.vencimentoFinal))&&(!(e.state.lancamentoInicial&&!N()(t.Vencimento).isAfter(e.state.lancamentoInicial))&&(!(e.state.lancamentoFinal&&!N()(t.Vencimento).isBefore(e.state.lancamentoFinal))&&(!e.state.status||t.statusId==e.state.status||"-"!=e.state.status&&(0==t.statusId&&3!=e.state.status||!t.statusId&&1==e.state.status))))))},e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),t.push(this.state.desconto||parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))>0),t.push(this.state.desconto||parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))<=this.state.saldo),t.push(!this.state.desconto||this.state.desconto.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))),t.push(!this.state.desconto||parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))<=this.state.saldo),t.push(!this.state.desconto||parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))>0),t.push(this.state.dataPagamento),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiro:!0,titulo:"Pagamentos Manual"}),m.a.createElement("br",null)),m.a.createElement(on.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.modalAberto,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({modalAberto:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({modalAberto:!1,documentoTrocar:!0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Pagar ",this.state.historico,":")),m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Saldo: R$",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(this.state.saldo))),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return t.next=4,e.pagarConta(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.desconto&&parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))>this.state.saldo&&m.a.createElement(ee.a,{title:"O valor \xe9 superior ao saldo",icon:ne.y}),!this.state.desconto&&parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))<=0&&m.a.createElement(ee.a,{title:"O valor \xe9 inferior a zero",icon:ne.y}),!this.state.valor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.valor,onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({valor:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({valor:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Data de pagamento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.dataPagamento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.dataPagamento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({dataPagamento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Juros/Desconto")),m.a.createElement("div",{className:"col-1 errorMessage"},this.state.desconto&&parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))>this.state.saldo&&m.a.createElement(ee.a,{title:"A soma com o valor \xe9 superior ao saldo",icon:ne.y}),this.state.desconto&&parseFloat(this.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))<=0&&m.a.createElement(ee.a,{title:"A soma com o valor \xe9 inferior a zero",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.desconto,onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({desconto:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({desconto:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",disabled:!a,style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))),this.state.errorFooter&&m.a.createElement("div",{className:"erroFooter"},m.a.createElement("span",null,this.state.error)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),!this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!0})}},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 "},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 "}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right"},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.n}))))),this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.q})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Banco:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.bancosOptions.filter((function(t){return e.filterSearch(t,e.state.bancosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({bancosOptionsTexto:t})},value:this.state.bancosOptions.filter((function(t){return t.value==e.state.banco}))[0],search:!0,onChange:function(t){e.setState({banco:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Situa\xe7\xe3o:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.statuses,value:this.state.statuses.find((function(t){return t.value==e.state.status})),search:!0,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({status:a.value});case 2:if(3!=a.value){t.next=5;break}return t.next=5,e.getTransacoesPagas();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Vencimento Inicial:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.vencimentoInicial,onChange:function(t){e.setState({vencimentoInicial:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Vencimento Final:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.vencimentoFinal,onChange:function(t){e.setState({vencimentoFinal:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Lancamento Inicial:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.lancamentoInicial,onChange:function(t){e.setState({lancamentoInicial:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Lancamento Final:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.lancamentoFinal,onChange:function(t){e.setState({lancamentoFinal:t.currentTarget.value})}}))),m.a.createElement("div",{className:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3  text-right pesquisa mobileajuster1 "}))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Hist\xf3rico")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Vencimento")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor"))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},3!=this.state.status&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par lightHover":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar darkHover"},m.a.createElement("div",{className:"row deleteMargin alignCenter",onClick:Object(G.a)(z.a.mark((function a(){return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",e.setState({modalAberto:!0,chave:t.Chave,historico:t.Historico,saldo:t.Saldo}));case 1:case"end":return a.stop()}}),a)})))},m.a.createElement("div",{className:"col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"pagamentoslote"}}},m.a.createElement("p",null,t.Historico))),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,N()(t.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-3 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"0"==t.statusId?"errorMessageTable":"successMessageTable"},m.a.createElement("span",null,t.status)))}))),3==this.state.status&&m.a.createElement(m.a.Fragment,null,void 0!=this.state.transacoes[0]&&this.state.transacoes.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:e.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:t%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,e.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(e.Chave),state:{conta:Object(b.a)({},e),to:"pagamentoslote"}}},m.a.createElement("p",null,e.Historico))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,N()(e.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"}))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"0"==e.statusId?"errorMessageTable":"successMessageTable"},m.a.createElement("span",null,e.status)))}))),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),sn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(rn),cn=(a(716),{name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",tipos:["Receber","Pagar"],loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),ln=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},cn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("user Data redux",e.props.user),t.next=3,e.getContasAbertas();case 3:return t.next=5,e.getPessoas();case 5:return t.next=7,e.carregaTiposAcessos();case 7:return t.next=9,e.carregaPermissoes();case 9:return t.next=11,e.testaAcesso();case 11:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)}))),e.getContasAbertas=Object(G.a)(z.a.mark((function t(){var a,o,n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContasAbertas.php",{token:!0,empresa:(null===(a=Object(So.a)(e))||void 0===a||null===(o=a.props)||void 0===o||null===(n=o.user)||void 0===n?void 0:n.empresa)?parseInt(null===(r=e.props.user)||void 0===r?void 0:r.empresa):1}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contas:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.contas.map((function(t){return(o=e.state.pessoas.find((function(e){return 0!=t.Operador?e.Chave==t.Operador:e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{pessoaNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{pessoaNome:""})})),t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esta Conta? (",o,"?) "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){return""==e.state.pesquisa.trim()?t:t.pessoaNome&&1==e.state.tipoPesquisa?t.pessoaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Saldo&&2==e.state.tipoPesquisa?t.Saldo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiroTabelas:!0,titulo:"Contas em Aberto"}),m.a.createElement("br",null))),m.a.createElement("ul",{className:"itens_centro"},1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contaspagar"}},m.a.createElement(ee.a,{icon:ne.D,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas a Pagar"))),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contasreceber"}},m.a.createElement(ee.a,{icon:ne.i,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas a Receber"))))),m.a.createElement(re.a,null))}}]),a}(u.Component),un=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(ln),mn=(a(717),a(718),{pesquisa:"",tipoPesquisa:1,load:100,optionsTexto:"",itemEdit:{}}),pn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)({},mn),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!(null===(n=a.itemEdit)||void 0===n?void 0:n.valores)&&(null===(r=e.props.itemEdit)||void 0===r?void 0:r.valores)&&(s={valores:Object(O.a)(e.props.itemEdit.valores),onSubmit:e.props.itemEdit.onSubmit},e.setState({itemEdit:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.changeState=function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n={valores:e.state.itemEdit.valores.map((function(e,n){return n===t?0==o?Object(b.a)(Object(b.a)({},e),{},{valor:a}):1==o?Object(b.a)(Object(b.a)({},e),{},{valor1:a}):Object(b.a)(Object(b.a)({},e),{},{valor2:a}):Object(b.a)({},e)})),onSubmit:e.state.itemEdit.onSubmit};e.setState({itemEdit:n})},e.fecharModal=function(){e.props.closeModal()},e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e}return Object(H.a)(a,[{key:"render",value:function(){var e,t,a=this;return m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",overflow:"scroll"},open:this.props.modalAberto,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({modalAberto:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalEditItemContainer darkBack"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fecharModal();case 2:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent darkBack"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,this.props.nome)),m.a.createElement("br",null),1==this.props.acessosPermissoes.filter((function(e){if(e.acessoAcao==a.props.itemPermissao)return e})).map((function(e){return e.permissaoEdita}))[0]&&m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){var o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return e.next=4,null===(o=a.state.itemEdit)||void 0===o?void 0:o.onSubmit();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row edit_modal_wrapper"},null===(e=this.state.itemEdit)||void 0===e||null===(t=e.valores)||void 0===t?void 0:t.map((function(e,t){return m.a.createElement(m.a.Fragment,null,e.half&&!e.hidden&&m.a.createElement(m.a.Fragment,null,m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-12 labelForm edit_modal_label"},m.a.createElement("label",null,e.titulo)),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"fieldDividido col-10 edit_modal_input"},m.a.createElement("select",{disabled:e.disabled1,className:"form-control nextToInput fieldDividido_1",value:e.valor1,onChange:function(){var o=Object(G.a)(z.a.mark((function o(n){return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,n.currentTarget.value,1),o.next=3,e.onChange1(n.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},e.options1.map((function(e){return m.a.createElement("option",{value:e.value},e.label)}))),m.a.createElement($.a,{className:"form-control fieldDividido_2 text-right",type:"text",onClick:function(e){return e.target.select()},value:e.valor2,disabled:e.disabled2,onChange:function(){var e=Object(G.a)(z.a.mark((function e(o){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.changeState(t,o.currentTarget.value,2));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var o=Object(G.a)(z.a.mark((function o(n){return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,Number(n.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(n.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00",2,!0),o.next=3,e.onBlur2(n.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()})))),!e.half&&!e.hidden&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-12 labelForm edit_modal_label"},m.a.createElement("label",null,e.titulo)),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-10  edit_modal_input"},"select"==e.tipo&&m.a.createElement(pe.a,{className:"SearchSelect color_black",options:e.options.filter((function(e){return a.filterSearch(e,a.state.optionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({optionsTexto:e})},value:e.options.filter((function(t){return t.value==e.valor})),isDisabled:e.disabled,search:!0,onChange:function(o){a.changeState(t,o.value),e.onChange(o.value)}}),"money"==e.tipo&&m.a.createElement($.a,{className:"form-control text-right",type:"text",onClick:function(e){return e.target.select()},value:e.valor,disabled:e.disabled,onChange:function(){var e=Object(G.a)(z.a.mark((function e(o){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.changeState(t,o.currentTarget.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var o=Object(G.a)(z.a.mark((function o(n){return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.changeState(t,Number(n.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(n.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"0,00",0,!0),o.next=3,e.onBlur(n.currentTarget.value);case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}),"check"==e.tipo&&m.a.createElement("input",{className:"form_control",disabled:e.disabled,checked:e.valor,onChange:function(o){a.changeState(t,o.target.checked),e.onChange(o.target.checked)},type:"checkbox"}),"select"!=e.tipo&&"money"!=e.tipo&&"check"!=e.tipo&&m.a.createElement($.a,{className:"form-control",disabled:e.disabled,type:e.tipo,value:e.valor,onChange:function(e){return a.changeState(t,e.currentTarget.value)},onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onChange(a.currentTarget.value);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))})),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",disabled:!this.props.valid,style:this.props.valid?{width:300,backgroundColor:"white"}:{width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))))}}]),a}(u.Component),dn={name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",deleteConta:!1,loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,editValor:"0",editChave:"0",editSaldo:"0",itemNome:"",modalItemAberto:!1,itemPermissao:"CONTAS_ABERTAS",itemEdit:{},load:100},vn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},dn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"CONTAS_ABERTAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteConta||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteConta:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getContasReceber.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={contas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:return t.next=15,e.getPessoas();case 15:if(!e.props.location.state||!e.props.location.state.chave){t.next=18;break}return t.next=18,e.setState({chaveFocus:e.props.location.state.chave});case 18:return t.t5=e,t.next=21,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 21:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=25,t.t5.setState.call(t.t5,t.t7);case 25:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return s="",c=null===(o=Object(So.a)(e))||void 0===o||null===(n=o.state)||void 0===n||null===(r=n.contas)||void 0===r?void 0:r.map((function(t){var a,o,n,r;return(s=null===(a=Object(So.a)(e))||void 0===a||null===(o=a.state)||void 0===o||null===(n=o.pessoas)||void 0===n?void 0:n.find((function(e){return(null===e||void 0===e?void 0:e.Chave)==(null===t||void 0===t?void 0:t.Pessoa)})))?Object(b.a)(Object(b.a)({},t),{},{pessoaNome:null===(r=s)||void 0===r?void 0:r.Nome}):Object(b.a)(Object(b.a)({},t),{},{pessoaNome:""})})),t.next=6,e.setState({contas:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.salvarRecebimento=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.editSaldo-parseFloat(e.state.editValor.replaceAll(".","").replaceAll(",",".")),e.setState({loading:!0,modalItemAberto:!1}),t.next=4,ae.a.post("fazerBaixaConta.php",{token:!0,chave:e.state.editChave,saldo:a>=0?a:0,recebimento:e.state.editValor.replaceAll(".","").replaceAll(",",".")}).then((function(t){e.setState({loading:!1}),e.loadAll()}),(function(t){e.erroApi(t)}));case 4:case"end":return t.stop()}}),t)}))),e.setEditModal=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=parseFloat(a.received_manual?a.received_manual:"0"),n=parseFloat(a.Saldo),t.next=4,e.setState({editChave:a.Chave,editValor:o,editSaldo:n});case 4:return t.next=6,e.setState({itemNome:"".concat(a.os_manual," - saldo atual: R$ ").concat(new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)),itemEdit:{onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.salvarRecebimento();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),valores:[{titulo:"Valor Recebido",valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),tipo:"money",onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({editValor:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({editValor:Number(a.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a.replaceAll(".","").replaceAll(",",".")):""});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]},modalItemAberto:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fazerBaixa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteConta:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja fazer baixa da conta de ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("fazerBaixaConta.php",{token:!0,chave:a}).then((function(t){e.loadAll()}),(function(t){e.erroApi(t)}));case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteConta:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a conta de ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.contas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({contas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){if(t.pessoaNome&&1==e.state.tipoPesquisa)return t.pessoaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Valor&&2==e.state.tipoPesquisa)return t.Valor.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.Chave&&3==e.state.tipoPesquisa)return t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(4==e.state.tipoPesquisa){if(t.osCodigo)return t.osCodigo.toLowerCase().includes(e.state.pesquisa.toLowerCase());if(t.os_manual)return t.os_manual.toLowerCase().includes(e.state.pesquisa.toLowerCase())}},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarContasAbertas:!0,titulo:"Contas a Receber"}),m.a.createElement("br",null)),m.a.createElement(pn,{closeModal:function(){e.setState({modalItemAberto:!1})},nome:this.state.itemNome,modalAberto:this.state.modalItemAberto,itemPermissao:this.state.itemPermissao,acessosPermissoes:this.state.acessosPermissoes,itemEdit:this.state.itemEdit,onSubmit:this.salvarRecebimento,valid:!0}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Pessoa"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:4},"OS"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/financeiro/relatorio/",state:{backTo:"contasReceber"}}},m.a.createElement("button",{className:"btn btn-success"},"Relatorio"))),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:0,to:"contasreceber"}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:0,to:"contasreceber"}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"OS")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-center revertItem",onClick:function(){e.state.contas[0]&&e.reverterItens()}},!this.state.contas[0]&&1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{tipo:0,to:"contasreceber"}}},m.a.createElement(ee.a,{icon:ne.M}))),this.state.contas[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.osCodigo?t.osCodigo:t.os_manual)),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},t.os_manual&&m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(ee.a,{icon:ne.k,title:"Fazer baixa",onClick:Object(G.a)(z.a.mark((function a(){return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setEditModal(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))})),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:0,to:"contasreceber"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"contasreceber"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteConta(t.Chave,t.pessoaNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),fn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(vn),hn=(a(719),{name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",deleteConta:!1,loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100}),gn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},hn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"CONTAS_ABERTAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteConta||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteConta:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getContasPagar.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={contas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:return e.setState({contas:e.state.contas.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{Valor:e.Valor-e.valorDescontos})}))}),t.next=16,e.getPessoas();case 16:if(!e.props.location.state||!e.props.location.state.chave){t.next=19;break}return t.next=19,e.setState({chaveFocus:e.props.location.state.chave});case 19:return t.t5=e,t.next=22,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 22:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=26,t.t5.setState.call(t.t5,t.t7);case 26:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.contas.map((function(t){return(o=e.state.pessoas.find((function(e){return e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{fornecedorNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{fornecedorNome:""})})),t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteConta:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a conta de ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.contas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({contas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return t.fornecedorNome&&1==e.state.tipoPesquisa?t.fornecedorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Valor&&2==e.state.tipoPesquisa?t.Valor.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?N()(t.Vencimento).format("DD/MM/YYYY").includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarContasAbertas:!0,titulo:"Contas a Pagar"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 sumir"}),m.a.createElement("div",{className:"col-12 text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Pessoa"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:4},"Vencimento"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/financeiro/relatorio",state:{backTo:"contasPagar"}}},m.a.createElement("button",{className:"btn btn-success"},"Relatorio"))),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:1,to:"contaspagar"}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Vencimento")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-center revertItem",onClick:function(){e.state.contas[0]&&e.reverterItens()}},this.state.contas[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:1,to:"contaspagar"}}}),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:" col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,t.fornecedorNome)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,N()(t.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:1,to:"contaspagar"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"contaspagar"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("CONTAS_ABERTAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteConta(t.Chave,t.fornecedorNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),bn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(gn),En=(a(720),{name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",tipos:["Receber","Pagar"],loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],load:100}),xn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},En),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getContasLiquidadas();case 2:return t.next=4,e.getPessoas();case 4:return t.next=6,e.carregaTiposAcessos();case 6:return t.next=8,e.carregaPermissoes();case 8:return t.next=10,e.testaAcesso();case 10:case"end":return t.stop()}}),t)}))),e.carregaTiposAcessos=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getTiposAcessos.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({acessos:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.carregaPermissoes=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPermissoes.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({permissoes:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.testaAcesso=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",o=e.state.acessos.map((function(t,o){return a=e.state.permissoes.filter((function(a){if(a.Usuario==e.state.usuarioLogado.codigo&&a.Acessos==t.Chave&&a.Empresa==e.state.usuarioLogado.empresa)return a}))[0],{acesso:t.Chave,acessoAcao:t.Acao,permissaoInsere:a?a.Liberacao.split("")[0]:0,permissaoEdita:a?a.Liberacao.split("")[1]:0,permissaoConsulta:a?a.Liberacao.split("")[2]:0,permissaoDeleta:a?a.Liberacao.split("")[3]:0}})),t.next=4,e.setState({acessosPermissoes:o});case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)}))),e.getContasLiquidadas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContasLiquidadas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({contas:a.data});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.contas.map((function(t){return(o=e.state.pessoas.find((function(e){return 0!=t.Operador?e.Chave==t.Operador:e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{pessoaNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{pessoaNome:""})})),t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esta Conta? (",o,"?) "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data&&document.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.filtrarPesquisa=function(t){return""==e.state.pesquisa.trim()?t:t.pessoaNome&&1==e.state.tipoPesquisa?t.pessoaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Saldo&&2==e.state.tipoPesquisa?t.Saldo.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiroTabelas:!0,titulo:"Contas Liquidadas"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"}))),m.a.createElement("ul",{className:"itens_centro"},1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contaspagas"}},m.a.createElement(ee.a,{icon:ne.D,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas Pagas"))),1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("li",{className:" text-left itemMenu list-group-item "},m.a.createElement(Y.b,{className:"semTextDecoration",to:{pathname:"/financeiro/contasrecebidas"}},m.a.createElement(ee.a,{icon:ne.i,size:"2x",color:"tomato"}),m.a.createElement("h4",{className:"textoMenu"},"Contas Recebidas"))))),m.a.createElement(re.a,null))}}]),a}(u.Component),Nn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(xn),Cn=(a(721),{name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",deleteConta:!1,loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100}),wn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Cn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"CONTAS_LIQUIDADAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteConta||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteConta:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getContasRecebidas.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={contas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:return t.next=15,e.getPessoas();case 15:if(!e.props.location.state||!e.props.location.state.chave){t.next=18;break}return t.next=18,e.setState({chaveFocus:e.props.location.state.chave});case 18:return t.t5=e,t.next=21,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 21:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=25,t.t5.setState.call(t.t5,t.t7);case 25:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.contas.map((function(t){return(o=e.state.pessoas.find((function(e){return e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{pessoaNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{pessoaNome:""})})),t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteConta:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a conta de ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.contas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({contas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return t.pessoaNome&&1==e.state.tipoPesquisa?t.pessoaNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Valor&&2==e.state.tipoPesquisa?t.Valor.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?N()(t.Lancto).format("DD/MM/YYYY").includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarContasLiquidadas:!0,titulo:"Contas Recebidas"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Pessoa"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:4},"Lan\xe7amento"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/financeiro/relatorio/",state:{backTo:"contasRecebidas"}}},m.a.createElement("button",{className:"btn btn-success"},"Relatorio"))),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{tipo:0,to:"contasrecebidas"}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:0,to:"contasrecebidas"}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Lan\xe7amento")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-center revertItem",onClick:function(){e.state.contas[0]&&e.reverterItens()}},!this.state.contas[0]&&1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{tipo:0,to:"contasrecebidas"}}},m.a.createElement(ee.a,{icon:ne.M}))),this.state.contas[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.pessoaNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,N()(t.Lancto).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:0,to:"contasrecebidas"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"contasrecebidas"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteConta(t.Chave,t.pessoaNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),On=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(wn),Sn=(a(722),{name:"",contas:[],pesquisa:"",tipoPesquisa:1,pessoas:"",deleteConta:!1,loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100}),kn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Sn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"CONTAS_LIQUIDADAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteConta||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteConta:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getContasPagas.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={contas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:return t.next=15,e.getPessoas();case 15:if(!e.props.location.state||!e.props.location.state.chave){t.next=18;break}return t.next=18,e.setState({chaveFocus:e.props.location.state.chave});case 18:return t.t5=e,t.next=21,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 21:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=25,t.t5.setState.call(t.t5,t.t7);case 25:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.contas.map((function(t){return(o=e.state.pessoas.find((function(e){return e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{fornecedorNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{fornecedorNome:""})})),t.next=6,e.setState({contas:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteConta=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteConta:!0}),Object(oe.confirmAlert)({customUI:function(t){var n=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a conta de ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteConta.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:n();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.contas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({contas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return t.fornecedorNome&&1==e.state.tipoPesquisa?t.fornecedorNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Valor&&2==e.state.tipoPesquisa?t.Valor.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?N()(t.Vencimento).format("DD/MM/YYYY").includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarContasLiquidadas:!0,titulo:"Contas Pagas"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Pessoa"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:4},"Vencimento"),m.a.createElement("option",{value:3},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement("div",null,m.a.createElement(Y.b,{to:{pathname:"/financeiro/relatorio",state:{backTo:"contasPagas"}}},m.a.createElement("button",{className:"btn btn-success"},"Relatorio"))),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{tipo:1,to:"contaspagas"}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addconta/0",state:{tipo:1,to:"contaspagas"}}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Pessoa")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Vencimento")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-2 text-center revertItem",onClick:function(){e.state.contas[0]&&e.reverterItens()}},!this.state.contas[0]&&1==this.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{tipo:1,to:"contaspagas"}}},m.a.createElement(ee.a,{icon:ne.M}))),this.state.contas[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.contas[0]&&this.state.contas.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,t.fornecedorNome)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("p",null,N()(t.Vencimento).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/0",state:{conta:{},tipo:1,to:"contaspagas"}}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addconta/".concat(t.Chave),state:{conta:Object(b.a)({},t),to:"contaspagas"}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("CONTAS_LIQUIDADAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteConta(t.Chave,t.fornecedorNome)}},m.a.createElement(ee.a,{icon:ne.T}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),yn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(kn),jn=(a(723),a(563)),Fn=a(564),An=a(156),Tn=a.n(An).a.create({baseURL:"https://apisiacweb.herokuapp.com/sultrade",headers:{Authorization:"07256661000128"},timeout:3e4}),Pn={por:"",conta:"",centroCusto:"",pessoa:"",clientes:[],periodoInicial:N()().startOf("month").format("YYYY-MM-DD"),periodoFinal:N()().endOf("month").format("YYYY-MM-DD"),lancamentoInicial:N()("1900-1-1").format("YYYY-MM-DD"),lancamentoFinal:N()("2100-12-31").format("YYYY-MM-DD"),excluirTipos:!1,tiposDocumentos:[],moeda:5,totalBalance:0,moedasOptions:[],moedasOptionsTexto:"",categoria:"",porOptions:[],planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",centrosCustos:[],centrosCustosOptions:[],centrosCustosOptionsTexto:"",pessoas:[],pessoasOptions:[],pessoasOptionsTexto:"",tiposDocumentoOptions:[],bloqueado:!1,relatorio:[],pdfgerado:[],pdfContent:[],pdfNome:"",pdfEmail:"",emails:[],temEmail:!1,failures:[],successes:[],emailModal:""},Dn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},Pn),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==o.state.usuarioLogado.empresa){e.next=3;break}return e.next=3,o.setState({empresa:o.state.usuarioLogado.empresa});case 3:if(t=[],!o.props.location.state.backTo){e.next=11;break}return"contasPagas"==o.props.location.state.backTo||"contasPagar"==o.props.location.state.backTo?(t.push({label:"Por Fornecedor",value:"porCliente"}),o.setState({categoria:"_1%"})):(t.push({label:"Por Cliente",value:"porCliente"}),o.setState({categoria:"1%"})),"contasPagar"==o.props.location.state.backTo?(t.push({label:"Por Vencimento",value:"porVencimento"}),o.setState({tipo:"aberto"})):"contasReceber"==o.props.location.state.backTo?(t.push({label:"Por Lan\xe7amento",value:"porLancamento"}),o.setState({tipo:"aberto"})):(t.push({label:"Por Data de Recebimento",value:"porData"}),o.setState({tipo:"liquidado"})),e.next=9,o.setState({porOptions:t});case 9:e.next=12;break;case 11:o.setState({redirect:!0});case 12:return e.next=14,o.getPlanosContas();case 14:return e.next=16,o.getCentrosCustos();case 16:return e.next=18,o.getPessoasCategorias();case 18:return e.next=20,o.getTiposDocumento();case 20:return e.next=22,o.loadAll();case 22:case"end":return e.stop()}}),e)}))),o.loadAll=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getBase("getTiposAcessos.php");case 3:return e.t1=e.sent,e.next=6,le.a.getBase("getPermissoes.php");case 6:return e.t2=e.sent,e.next=9,le.a.getBaseOptions("getMoedas.php","Descricao","Chave");case 9:return e.t3=e.sent,e.t4={acessos:e.t1,permissoes:e.t2,moedasOptions:e.t3},e.next=13,e.t0.setState.call(e.t0,e.t4);case 13:return e.t5=o,e.next=16,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 16:return e.t6=e.sent,e.t7={acessosPermissoes:e.t6,loading:!1},e.next=20,e.t5.setState.call(e.t5,e.t7);case 20:case"end":return e.stop()}}),e)}))),o.getPlanosContas=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getPlanosContasAnaliticas.php",{token:!0}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({planosContas:t.data});case 2:return a=o.state.planosContas.map((function(e){return{label:e.Descricao,value:e.Chave}})),e.next=5,o.setState({planosContasOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),o.getCentrosCustos=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getCentrosCustos.php",{token:!0}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({centrosCustos:t.data});case 2:return a=o.state.centrosCustos.map((function(e){return{label:e.Descricao,value:e.Chave}})),e.next=5,o.setState({centrosCustosOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),o.getPessoasCategorias=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getPessoasCategoria.php",{token:!0,categoria:o.state.categoria}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({pessoas:t.data});case 2:return a=o.state.pessoas.map((function(e){return{label:"".concat(e.Nome_Fantasia?e.Nome_Fantasia:e.Nome).concat(e.Cnpj_Cpf?" - ".concat(K.a.formataCPF(e.Cnpj_Cpf)):""),value:e.Chave}})),e.next=5,o.setState({pessoasOptions:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),o.getTiposDocumento=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getTiposLancamento.php",{token:!0}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{checked:!1})})),e.next=3,o.setState({tiposDocumentoOptions:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),o.setTipoDocumento=function(){var e=Object(G.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",(r=o.state.tiposDocumentoOptions)[a].checked=!r[a].checked,e.next=5,o.setState({tiposDocumentoOptions:r});case 5:if(!o.state.tiposDocumentos.includes(t)){e.next=11;break}return n=o.state.tiposDocumentos.filter((function(e){return e!=t})),e.next=9,o.setState({tiposDocumentos:n});case 9:e.next=12;break;case 11:o.state.tiposDocumentos.push(t);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.gerarRelatorio=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s,c,l,i,u,m,p,d,v,f;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setState({loading:!0}),t){e.next=3;break}return e.abrupt("return");case 3:if(a="contas_aberto.Empresa = ".concat(o.state.empresa),n="aberto"==o.state.tipo?"contas_aberto.Saldo >= 1":"contas_aberto.Saldo = 0",r=o.state.conta?"contas_aberto.Conta_Contabil = '".concat(o.state.conta,"'"):"",s=o.state.centroCusto?"contas_aberto.Centro_Custo = '".concat(o.state.centroCusto,"'"):"",c=o.state.clientes[0]?"contas_aberto.pessoa IN ('".concat(o.state.clientes.join("','"),"')"):"",l="1=1",i="1=1",u="1=1",m="1=1","1=1",p="1=1",d=0,o.props.location.state.backTo&&("contasPagas"==o.props.location.state.backTo||"contasPagar"==o.props.location.state.backTo?d=0:(d=1,l="1 = 1",i="1 = 1")),!o.state.clientes[0]||o.state.clientes[1]){e.next=19;break}return e.next=19,ae.a.post("getContatos.php",{token:!0,pessoa:o.state.clientes[0]}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data[0]){e.next=15;break}if(!(n=null===(a=t.data.find((function(e){return"EM"==e.Tipo})))||void 0===a?void 0:a.Campo1)){e.next=9;break}return e.next=5,o.setState({emails:n.split("; ")});case 5:return e.next=7,o.setState({temEmail:!0});case 7:e.next=15;break;case 9:if(!(s=null===(r=t.data.find((function(e){return"ER"==e.Tipo})))||void 0===r?void 0:r.Campo1)){e.next=15;break}return e.next=13,o.setState({emails:s.split("; ")});case 13:return e.next=15,o.setState({temEmail:!0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:if("porCliente"==(v=o.state.por)?v="GROUP BY contas_aberto.pessoa ORDER BY pessoas.nome":"porVencimento"==v?v="GROUP BY contas_aberto.vencimento ORDER BY contas_aberto.vencimento":"porLancamento"==v?v="GROUP BY contas_aberto.Lancto ORDER BY contas_aberto.Lancto":"porData"==v&&(v="GROUP BY contas_aberto.data_pagto ORDER BY contas_aberto.data_pagto"),f=(f=[a,n,r,s,c,l,i,u,m,p]).filter((function(e){return""!=e.trim()})),console.log(f.join(" AND ")),console.log({clientes:o.state.clientes,centroCusto:o.state.centroCusto}),"contasReceber"!=o.props.location.state.backTo){e.next=30;break}return e.next=28,Tn.post("/relatorio/receber",{all:!o.state.clientes[0],chaves:o.state.clientes,centro_custo:o.state.centroCusto||!1}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({relatorio:t.data});case 2:o.relatorio();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}));case 28:e.next=33;break;case 30:return e.next=32,ae.a.post("gerarRelatorioContas.php",{token:!0,where:f.join(" AND "),groupBy:v,tipo_sub:d}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({relatorio:t.data});case 2:o.relatorio();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.erroApi(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 32:o.setState({loading:!1});case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.enviarEmail=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({successes:[]});case 2:if(t){e.next=4;break}return e.abrupt("return");case 4:return n=document.getElementById("pdfDiv"),e.next=7,Object(jn.a)(n,{paperSize:"A4",margin:"0.5cm",scale:.6,portrait:!0}).then((function(e){return Object(Fn.a)(e)})).then((function(e){return e}));case 7:return r=e.sent,e.next=10,o.setState({emailBloqueado:!0,loading:!0});case 10:return e.next=12,ae.a.post("enviaRelatorioEmail.php",{token:!0,emails:o.state.emails.map((function(e){return null===e||void 0===e?void 0:e.trim()})),mensagem:r,nomeCliente:null===(a=o.state.pessoas.find((function(e){return e.Chave==o.state.clientes[0]})))||void 0===a?void 0:a.Nome.replaceAll(".",""),balance:"".concat(5==o.state.moeda?"R$":"USD"," ").concat(new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.state.totalBalance)),clientId:parseInt(o.state.clientes[0]),salvar:!o.state.temEmail}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=t.data,n=a.failures,r=a.successes,e.next=4,o.setState({successes:r,failures:n,emails:[]});case 4:if(n[0]){e.next=7;break}return e.next=7,o.setState({email:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(JSON.stringify(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.next=14,o.setState({emailBloqueado:!1,loading:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},o.relatorio=Object(G.a)(z.a.mark((function e(){var t,a,n,r,s,c,l,i,u,p,d,v,f,h;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({loading:!0}),t=o.state.relatorio,console.log(t),a=[],n="contas ",n+="contasPagar"==o.props.location.state.backTo?"a pagar":"contasReceber"==o.props.location.state.backTo?"a receber":"contasPagas"==o.props.location.state.backTo?"pagas":"recebidas",n+="porCliente"!=o.state.por||"contasPagar"!=o.props.location.state.backTo&&"contasPagas"!=o.props.location.backTo?"porCliente"==o.state.por?" por cliente":"porVencimento"==o.state.por?" por vencimento":" por Data de Pagamento;":" por fornecedor",n+=o.state.periodoInicial?" - No per\xedodo de ".concat(N()(o.state.periodoInicial).format("DD/MM/YYYY")):o.state.periodoFinal?" - De um per\xedodo at\xe9 ".concat(N()(o.state.periodoFinal).format("DD/MM/YYYY")):"",n+=o.state.periodoFinal&&o.state.periodoInicial?" a ".concat(N()(o.state.periodoFinal).format("DD/MM/YYYY")):"",r=0,s=0,c=0,o.setState({totalBalance:0}),l=0,i=0,u=0,p=0,d=0,"contasPagas"!=o.props.location.state.backTo&&"contasPagar"!=o.props.location.state.backTo?o.setState({pdfNome:"SOA (".concat(N()().format("DD-MM-YYYY"),")").concat(o.state.clientes[0]&&!o.state.clientes[1]?" - ".concat(null===(v=o.state.pessoas.find((function(e){return e.Chave==o.state.clientes[0]})))||void 0===v||null===(f=v.Nome)||void 0===f?void 0:f.replaceAll(".","")):"")}):"contasPagas"==o.props.location.state.backTo?o.setState({pdfNome:"Relat\xf3rio de contas pagas (".concat(N()().format("DD-MM-YYYY"),")")}):"contasPagar"==o.props.location.state.backTo&&o.setState({pdfNome:"Relat\xf3rio de contas \xe0 pagar (".concat(N()().format("DD-MM-YYYY"),")")}),h=m.a.createElement("div",{style:{zoom:1},id:"pdfDiv",key:546546554654},m.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},m.a.createElement("img",{className:"img-fluid",src:"https://i.ibb.co/vmKJkx4/logo.png",alt:"logo-Strade",border:"0",style:{width:"30%",height:"150px",maxWidth:"100%"}}),"contasPagas"==o.props.location.state.backTo||"contasPagar"==o.props.location.state.backTo&&m.a.createElement("h4",null,n),"contasPagas"!=o.props.location.state.backTo&&"contasPagar"!=o.props.location.state.backTo&&m.a.createElement("h4",null,"SOA - Statement of Accounts")),m.a.createElement("hr",null),"contasPagas"!=o.props.location.state.backTo&&"contasPagar"!=o.props.location.state.backTo&&m.a.createElement("div",{className:"pdfContent"},t.map((function(e){if("contasReceber"==o.props.location.state.backTo){var t,n,i=[];e.contas_normais.forEach((function(e){var t=null===e||void 0===e?void 0:e.fda,a=null===e||void 0===e?void 0:e.discount,n=null===e||void 0===e?void 0:e.received,r=null===e||void 0===e?void 0:e.balance;console.log({FDA2:t,DISCONT2:a,RECEIVED2:n,BALANCE2:r,roe:(null===e||void 0===e?void 0:e.roe)||1},"valores em real"),console.log(o.state.moeda),o.state.moeda&&(parseInt(o.state.moeda)===parseInt(null===e||void 0===e?void 0:e.moeda)||(t=(null===e||void 0===e?void 0:e.FDADOLAR)?null===e||void 0===e?void 0:e.FDADOLAR:t/(null===e||void 0===e?void 0:e.roe),a=(null===e||void 0===e?void 0:e.discountDOLAR)?null===e||void 0===e?void 0:e.discountDOLAR:a/(null===e||void 0===e?void 0:e.roe),n=(null===e||void 0===e?void 0:e.receivedDOLAR)?e.receivedDOLAR:n/(null===e||void 0===e?void 0:e.roe),r=(null===e||void 0===e?void 0:e.balanceDolar)?null===e||void 0===e?void 0:e.balanceDolar:r/(null===e||void 0===e?void 0:e.roe),console.log({FDA2:t,DISCONT2:a,RECEIVED2:n,BALANCE2:r,roe:(null===e||void 0===e?void 0:e.roe)||1},"valores em dolar")));var s={ship:(null===e||void 0===e?void 0:e.ship)||"",os:(null===e||void 0===e?void 0:e.os)||"",port:(null===e||void 0===e?void 0:e.port)||"",moeda:(null===e||void 0===e?void 0:e.moeda)||5,sailed:(null===e||void 0===e?void 0:e.sailed)||N()().format("YYYY-MM-DD"),billing:N()(null===e||void 0===e?void 0:e.billing).format("DD/MM/YY")||N()().format("DD/MM/YY"),roe:(null===e||void 0===e?void 0:e.roe)||5,fda:t,discount:a,received:n,balance:r};return i.push(s),e})),e.contas_manuais.forEach((function(e){var t=null===e||void 0===e?void 0:e.fda,a=null===e||void 0===e?void 0:e.discount,n=null===e||void 0===e?void 0:e.received,r=null===e||void 0===e?void 0:e.balance;console.log({FDA2:t,DISCONT2:a,RECEIVED2:n,BALANCE2:r,roe:(null===e||void 0===e?void 0:e.roe)||1},"valores em real"),console.log(o.state.moeda),o.state.moeda&&(parseInt(o.state.moeda)===parseInt(null===e||void 0===e?void 0:e.moeda)||(t/=e.roe,a/=null===e||void 0===e?void 0:e.roe,n/=null===e||void 0===e?void 0:e.roe,r/=null===e||void 0===e?void 0:e.roe,console.log({FDA2:t,DISCONT2:a,RECEIVED2:n,BALANCE2:r,roe:(null===e||void 0===e?void 0:e.roe)||1},"valores em dolar")));var s={ship:(null===e||void 0===e?void 0:e.ship)||"",os:(null===e||void 0===e?void 0:e.os)||"",port:(null===e||void 0===e?void 0:e.port)||"",moeda:(null===e||void 0===e?void 0:e.moeda)||5,sailed:(null===e||void 0===e?void 0:e.sailed)||N()().format("YYYY-MM-DD"),billing:N()(null===e||void 0===e?void 0:e.billing).format("DD/MM/YY")||N()().format("DD/MM/YY"),roe:(null===e||void 0===e?void 0:e.roe)||5,fda:t,discount:a,received:n,balance:r};return i.push(s),e})),console.log(i,"rows");var u=0,p=0,d=0,v=0;return m.a.createElement("div",null,m.a.createElement("table",{className:"pdfTable"},m.a.createElement("tr",null,m.a.createElement("th",{colSpan:9},m.a.createElement("span",{style:{fontSize:15}},"porCliente"==o.state.por&&(null===(t=e.pessoa)||void 0===t?void 0:t.nome)?null===e||void 0===e||null===(n=e.pessoa)||void 0===n?void 0:n.nome:"porVencimento"==o.state.por&&e.lancamento||e.lancamento?N()(e.lancamento).format("DD/MM/YYYY"):""))),m.a.createElement("tr",{style:{fontSize:13}},m.a.createElement("th",null,"SHIP'S NAME"),m.a.createElement("th",null,"PO"),m.a.createElement("th",null,"PORT OF CALL"),m.a.createElement("th",null,"SAILED"),!o.state.clientes[0]&&m.a.createElement("th",null,"BILLING"),m.a.createElement("th",null,"ROE"),m.a.createElement("th",null,"FDA"),m.a.createElement("th",null,"DISCOUNT"),m.a.createElement("th",null,"RECEIVED"),m.a.createElement("th",null,"BALANCE")),i.toSorted((function(e,t){return N()(e.sailed).diff(N()(t.sailed))})).map((function(e,t){if(parseFloat(e.balance)>.01)return r+=parseFloat(e.fda),s+=parseFloat(e.discount),c+=parseFloat(e.received),o.setState({totalBalance:o.state.totalBalance+parseFloat(e.balance)}),u+=parseFloat(e.fda),p+=parseFloat(e.discount),d+=parseFloat(e.received),v+=parseFloat(e.balance),m.a.createElement("tr",{style:{fontSize:12},className:"SOA_row"},m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:135,minWidth:135}},e.ship),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:55,minWidth:55}},e.os),!o.state.clientes[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:85,minWidth:85}},e.port),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:60,minWidth:60}},N()(e.sailed).format("DD/MM/YY")),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:55,minWidth:55}},e.billing)),o.state.clientes[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:105,minWidth:105}},e.port),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},N()(e.sailed).format("MMM Do YYYY"))),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:65,minWidth:65}},parseFloat((null===e||void 0===e?void 0:e.roe)||5).toFixed(4)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.fda)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.discount)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.received)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.balance)))})),m.a.createElement("tr",{style:{fontSize:13}},m.a.createElement("th",{colSpan:o.state.clientes[0]?"5":"6"},"Total ->"),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(u)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(p)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(d)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(v)))),m.a.createElement("hr",null))}l=0;var f=[];if("porCliente"!=o.state.por||e.pessoa||(e.pessoa=""),"porVencimento"!=o.state.por||e.vencimento||(e.vencimento=""),"porData"!=o.state.por||e.dataPagamento||(e.dataPagamento=""),(a="porCliente"==o.state.por?e.pessoa.split("@.@"):"porVencimento"==o.state.por?e.vencimento.split("@.@"):e.dataPagamento.split("@.@")).map((function(t,a){var n;if(null===e||void 0===e||null===(n=e.os_manual)||void 0===n?void 0:n.split("@.@")[a]){var r,s,c,i=0,u=0,m=0;if(5==o.state.moeda)i+=null===e||void 0===e||null===(r=e.valor_manual)||void 0===r?void 0:r.split("@.@")[a],u=e.discount_manual?K.a.toFixed(parseFloat(null===(s=e.discount_manual)||void 0===s?void 0:s.split("@.@")[a]),2):"0,00",m=e.received_manual?K.a.toFixed(parseFloat(null===(c=e.received_manual)||void 0===c?void 0:c.split("@.@")[a]),2):"0,00";else if(6==o.state.moeda){var p,d,v,h,g,b,E,x,C,w,O,S,k,y;i+=(null===e||void 0===e||null===(p=e.valor_manual)||void 0===p?void 0:p.split("@.@")[a])?K.a.toFixed(parseFloat(e.valor_manual.split("@.@")[a])/parseFloat(e.roe_manual&&(null===(d=e.roe_manual)||void 0===d?void 0:d.split("@.@")[a])&&0!=(null===(v=e.roe_manual)||void 0===v?void 0:v.split("@.@")[a])?null===(h=e.roe_manual)||void 0===h?void 0:h.split("@.@")[a]:5),2):0,u+=(null===(g=e.discount_manual)||void 0===g?void 0:g.split("@.@")[a])?K.a.toFixed(parseFloat(null===(b=e.discount_manual)||void 0===b?void 0:b.split("@.@")[a])/parseFloat(e.roe_manual&&(null===(E=e.roe_manual)||void 0===E?void 0:E.split("@.@")[a])&&0!=(null===(x=e.roe_manual)||void 0===x?void 0:x.split("@.@")[a])?null===(C=e.roe_manual)||void 0===C?void 0:C.split("@.@")[a]:5),2):0,m+=(null===(w=e.received_manual)||void 0===w?void 0:w.split("@.@")[a])?K.a.toFixed(parseFloat(null===(O=e.received_manual)||void 0===O?void 0:O.split("@.@")[a])/parseFloat(e.roe_manual&&(null===(S=e.roe_manual)||void 0===S?void 0:S.split("@.@")[a])&&0!=(null===(k=e.roe_manual)||void 0===k?void 0:k.split("@.@")[a])?null===(y=e.roe_manual)||void 0===y?void 0:y.split("@.@")[a]:5),2):0}var j=parseFloat(i)-parseFloat(u)-parseFloat(m);parseFloat(j.toFixed(2))>0&&f.push({ship:e.navio_manual?K.a.removeAcentos(e.navio_manual.split("@.@")[a]):"",os:e.os_manual?K.a.removeAcentos(e.os_manual.split("@.@")[a]):"",port:e.porto_manual?K.a.removeAcentos(e.porto_manual.split("@.@")[a]):"",sailed:e.sailed_manual?e.sailed_manual.split("@.@")[a]:"",billing:e.envio_manual&&N()(e.envio_manual.split("@.@")[a]).isValid()?N()(e.envio_manual.split("@.@")[a]).format("DD/MM/YY"):"",roe:e.roe_manual?e.roe_manual.split("@.@")[a]:"",fda:i,discount:u,received:m,balance:j}),l+=parseFloat(j.toFixed(2))}})),a.map((function(t,a){var n,r,s,c;if(null===e||void 0===e||null===(n=e.os)||void 0===n?void 0:n.split("@.@")[a]){var i=null===(r=e.evento_valor)||void 0===r?void 0:r.split("@.@"),u=null===(s=e.evento_valor_received)||void 0===s?void 0:s.split("@.@"),m=null===(c=e.evento_valor_discount)||void 0===c?void 0:c.split("@.@"),p=0,d=0,v=0;i&&(console.log({navio:e.navio.split("@.@")[a],el:t,os:e.os.split("@.@")[a],saldo:e.saldo.split("@.@")[a],index:a,moeda:o.state.moeda,evento_moeda:e.evento_moeda.split("@.@")[a],roe:e.ROE.split("@.@")[a],FDA:p}),i.map((function(t,n){e.evento_os.split("@.@")[n]==e.os.split("@.@")[a]&&(o.state.moeda==e.evento_moeda.split("@.@")[n]?p+=e.evento_valor.split("@.@")[n]?parseFloat(e.evento_valor.split("@.@")[n]):0:5==o.state.moeda?p+=e.evento_valor.split("@.@")[n]?parseFloat(e.evento_valor.split("@.@")[n])*parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0:6==o.state.moeda&&(p+=e.evento_valor.split("@.@")[n]?parseFloat(e.evento_valor.split("@.@")[n])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0))}))),u&&i.map((function(t,n){e.evento_os_received.split("@.@")[n]==e.os.split("@.@")[a]&&(o.state.moeda==e.evento_moeda_received.split("@.@")[n]?v+=e.evento_valor_received.split("@.@")[n]?parseFloat(e.evento_valor_received.split("@.@")[n]):0:5==o.state.moeda?v+=e.evento_valor_received.split("@.@")[n]?parseFloat(e.evento_valor_received.split("@.@")[n])*parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0:6==o.state.moeda&&(v+=e.evento_valor_received.split("@.@")[n]?parseFloat(e.evento_valor_received.split("@.@")[n])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0))})),m&&i.map((function(t,n){e.evento_os_discount.split("@.@")[n]==e.os.split("@.@")[a]&&(o.state.moeda==e.evento_moeda_discount.split("@.@")[n]?d+=e.evento_valor_discount.split("@.@")[n]?parseFloat(e.evento_valor_discount.split("@.@")[n]):0:5==o.state.moeda?d+=e.evento_valor_discount.split("@.@")[n]?parseFloat(e.evento_valor_discount.split("@.@")[n])*parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0:6==o.state.moeda&&(d+=e.evento_valor_discount.split("@.@")[n]?parseFloat(e.evento_valor_discount.split("@.@")[n])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0))})),console.log({navio:e.navio.split("@.@")[a],el:t,os:e.os.split("@.@")[a],saldo:e.saldo.split("@.@")[a],index:a,moeda:o.state.moeda,roe:e.ROE.split("@.@")[a],FDA:p}),5==o.state.moeda?(p+=e.bankCharges.split("@.@")[a]&&e.bankCharges.split("@.@")[a]>0?parseFloat(e.bankCharges.split("@.@")[a]):0,p+=e.governmentTaxes.split("@.@")[a]&&e.governmentTaxes.split("@.@")[a]>0?parseFloat(e.governmentTaxes.split("@.@")[a]):0):6==o.state.moeda&&(p+=e.bankCharges.split("@.@")[a]&&e.bankCharges.split("@.@")[a]>0?parseFloat(e.bankCharges.split("@.@")[a])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0,p+=e.governmentTaxes.split("@.@")[a]&&e.governmentTaxes.split("@.@")[a]>0?parseFloat(e.governmentTaxes.split("@.@")[a])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5):0);var h=parseFloat(p)-parseFloat(d)-parseFloat(v);console.log({navio:e.navio.split("@.@")[a],el:t,os:e.os.split("@.@")[a],saldo:e.saldo.split("@.@")[a],index:a,moeda:o.state.moeda,roe:e.ROE.split("@.@")[a],FDA:p,discount:d,received:v,balance:h}),parseFloat(h.toFixed(2))>0&&f.push({ship:e.navio?K.a.removeAcentos(e.navio.split("@.@")[a]):"",os:e.os?K.a.removeAcentos(e.os.split("@.@")[a]):"",port:e.porto?K.a.removeAcentos(e.porto.split("@.@")[a]):"",sailed:e.sailed?e.sailed.split("@.@")[a]:"",billing:e.envio&&N()(e.envio.split("@.@")[a]).isValid()?N()(e.envio.split("@.@")[a]).format("DD/MM/YY"):"",roe:e.ROE?e.ROE.split("@.@")[a]:"",fda:p,discount:d,received:v,balance:h}),l+=parseFloat(h.toFixed(2))}})),!l)return m.a.createElement(m.a.Fragment,null);var h=0,g=0,b=0,E=0;return m.a.createElement("div",null,m.a.createElement("table",{className:"pdfTable"},m.a.createElement("tr",null,m.a.createElement("th",{colSpan:9},m.a.createElement("span",{style:{fontSize:15}},"porCliente"==o.state.por&&e.pessoa?e.pessoa.split("@.@")[0]:"porVencimento"==o.state.por&&e.vencimento?N()(e.vencimento.split("@.@")[0]).format("DD/MM/YYYY"):e.dataPagamento?N()(e.dataPagamento.split("@.@")[0]).format("DD/MM/YYYY"):""))),m.a.createElement("tr",{style:{fontSize:13}},m.a.createElement("th",null,"SHIP'S NAME"),m.a.createElement("th",null,"PO"),m.a.createElement("th",null,"PORT OF CALL"),m.a.createElement("th",null,"SAILED"),!o.state.clientes[0]&&m.a.createElement("th",null,"BILLING"),m.a.createElement("th",null,"ROE"),m.a.createElement("th",null,"FDA"),m.a.createElement("th",null,"DISCOUNT"),m.a.createElement("th",null,"RECEIVED"),m.a.createElement("th",null,"BALANCE")),f.toSorted((function(e,t){return N()(e.sailed).diff(N()(t.sailed))})).map((function(e,t){if(parseFloat(e.balance)>0)return r+=parseFloat(e.fda),s+=parseFloat(e.discount),c+=parseFloat(e.received),o.setState({totalBalance:o.state.totalBalance+parseFloat(e.balance)}),h+=parseFloat(e.fda),g+=parseFloat(e.discount),b+=parseFloat(e.received),E+=parseFloat(e.balance),m.a.createElement("tr",{style:{fontSize:12},className:"SOA_row"},m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:135,minWidth:135}},e.ship),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:55,minWidth:55}},e.os),!o.state.clientes[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:85,minWidth:85}},e.port),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:60,minWidth:60}},N()(e.sailed).format("DD/MM/YY")),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:55,minWidth:55}},e.billing)),o.state.clientes[0]&&m.a.createElement(m.a.Fragment,null,m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:105,minWidth:105}},e.port),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},N()(e.sailed).format("MMM Do YYYY"))),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:65,minWidth:65}},parseFloat((null===e||void 0===e?void 0:e.roe)||5).toFixed(4)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.fda)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.discount)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap",maxWidth:95,minWidth:95}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.received)),m.a.createElement("td",{style:{backgroundColor:"inherit",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.balance)))})),m.a.createElement("tr",{style:{fontSize:13}},m.a.createElement("th",{colSpan:o.state.clientes[0]?"5":"6"},"Total ->"),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(h)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(g)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(b)),m.a.createElement("td",{style:{paddingRight:"15px",borderTop:"1px solid black",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(E)))),m.a.createElement("hr",null))})),m.a.createElement("table",{className:"totalTablePDF"},m.a.createElement("tr",{style:{fontSize:13}},m.a.createElement("th",null),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"FDA"),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"DISCOUNT"),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"RECEIVED"),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"BALANCE")),m.a.createElement("tr",{style:{fontSize:12}},m.a.createElement("th",null,"Total ->"),m.a.createElement("td",{style:{paddingRight:"15px",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(r)),m.a.createElement("td",{style:{paddingRight:"15px",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(s)),m.a.createElement("td",{style:{paddingRight:"15px",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(c)),m.a.createElement("td",{style:{paddingRight:"15px",whiteSpace:"nowrap"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o.state.totalBalance)))),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h5",{style:{width:"100%",textAlign:"center"}},"BANKING DETAILS"),m.a.createElement("table",{style:{width:"80%",marginLeft:"5%"}},m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Bank's name:")," Banco do Brasil")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Branch's name:")," Rio Grande")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Address:")," Benjamin Constant St, 72")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Swift Code:")," BRASBRRJCTA")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"IBAN:")," ","BR6400000000026940001614410C1")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Branch's number:")," 2694-8")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Account number:")," 161441-X")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Account name:")," SUL TRADE AGENCIAMENTOS MARITIMOS LTDA-ME")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"Phone:")," +55 53 3235 3500")),m.a.createElement("tr",null,m.a.createElement("td",{style:{padding:"0px 3px 0px 3px",paddingRight:100}},m.a.createElement("b",{style:{paddingRight:5}},"CNPJ:")," 10.432.546/0001-75")))),"contasPagas"==o.props.location.state.backTo||"contasPagar"==o.props.location.state.backTo&&m.a.createElement("div",{className:"pdfContent"},t.map((function(e){return console.log(e),p=0,d=0,"porCliente"!=o.state.por||e.pessoa||(e.pessoa=""),"porVencimento"!=o.state.por||e.vencimento||(e.vencimento=""),"porData"!=o.state.por||e.dataPagamento||(e.dataPagamento=""),a="porCliente"==o.state.por?e.pessoa.split("@.@"):"porVencimento"==o.state.por?e.vencimento.split("@.@"):e.dataPagamento.split("@.@"),m.a.createElement("div",null,m.a.createElement("table",{className:"pdfTable"},m.a.createElement("tr",null,m.a.createElement("th",{style:{minWidth:100}},"N\xba DOCTO"),m.a.createElement("th",{style:{minWidth:75}},"PO"),m.a.createElement("th",{style:{minWidth:100}},"PESSOA"),m.a.createElement("th",{style:{minWidth:150}},"HISTORICO"),m.a.createElement("th",{style:{minWidth:100}},"SALDO"),m.a.createElement("th",{style:{minWidth:100}},"VALOR")),m.a.createElement("tr",{style:{backgroundColor:"#999999",border:"1px solid black"}},m.a.createElement("th",{colSpan:6},m.a.createElement("span",{style:{fontSize:"1.2em"}},"porCliente"==o.state.por&&e.pessoa?e.pessoa.split("@.@")[0]:"porVencimento"==o.state.por&&e.vencimento?N()(e.vencimento.split("@.@")[0]).format("DD/MM/YYYY"):e.dataPagamento?N()(e.dataPagamento.split("@.@")[0]).format("DD/MM/YYYY"):""))),a.map((function(t,a){var n=0,r=0;if(e.os_moeda&&o.state.moeda==e.os_moeda.split("@.@")[a]||!e.os_moeda?(n=e.valor?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor.split("@.@")[a]):"0,00",r=e.saldo?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.saldo.split("@.@")[a]):"0,00"):5==o.state.moeda?(n=e.valor?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5)*parseFloat(e.valor.split("@.@")[a])):"0,00",r=e.saldo?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5)*parseFloat(e.saldo.split("@.@")[a])):"0,00"):(n=e.valor?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(e.valor.split("@.@")[a])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5)):"0,00",r=e.saldo?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(e.saldo.split("@.@")[a])/parseFloat(e.ROE&&e.ROE.split("@.@")[a]&&0!=e.ROE.split("@.@")[a]?e.ROE.split("@.@")[a]:5)):"0,00"),i+=parseFloat(n.replaceAll(".","").replaceAll(",",".")),p+=parseFloat(n.replaceAll(".","").replaceAll(",",".")),u+=parseFloat(r.replaceAll(".","").replaceAll(",",".")),d+=parseFloat(r.replaceAll(".","").replaceAll(",",".")),parseFloat(n.replaceAll(".","").replaceAll(",","."))>0)return m.a.createElement("tr",{style:{backgroundColor:a%2===0?"#FFFFFF":"#999999"}},m.a.createElement("td",{style:{minWidth:100,backgroundColor:"inherit"}},e.documento?K.a.removeAcentos(e.documento.split("@.@")[a]):""),m.a.createElement("td",{style:{minWidth:75,backgroundColor:"inherit"}},e.os?K.a.removeAcentos(e.os.split("@.@")[a]):""),m.a.createElement("td",{style:{minWidth:100,backgroundColor:"inherit"}},e.pessoa?K.a.removeAcentos(e.pessoa.split("@.@")[a]):""),m.a.createElement("td",{style:{minWidth:150,backgroundColor:"inherit"}},e.historico?K.a.removeAcentos(e.historico.split("@.@")[a]):""),m.a.createElement("td",{style:{minWidth:100,backgroundColor:"inherit",paddingLeft:3,paddingRight:3}},5==o.state.moeda?"R$":"USD"," ",n),m.a.createElement("td",{style:{minWidth:100,backgroundColor:"inherit",paddingLeft:3,paddingRight:3}},5==o.state.moeda?"R$":"USD"," ",r))})),m.a.createElement("tr",null,m.a.createElement("th",{colSpan:"4"},"Total ->"),m.a.createElement("td",{style:{borderTop:"1px solid black",paddingLeft:3,paddingRight:3}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(p)),m.a.createElement("td",{style:{borderTop:"1px solid black",paddingLeft:3,paddingRight:3}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(d)))),m.a.createElement("hr",null))})),m.a.createElement("table",{className:"totalTablePDF"},m.a.createElement("tr",null,m.a.createElement("th",null),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"VALOR"),m.a.createElement("th",{style:{borderBottom:"1px solid black"}},"SALDO")),m.a.createElement("tr",null,m.a.createElement("th",null,"Total ->"),m.a.createElement("td",{style:{paddingRight:"15px"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)),m.a.createElement("td",{style:{paddingRight:"15px"}},5==o.state.moeda?"R$":"USD"," ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(u)))))),e.next=22,o.setState({pdfgerado:h,pdfView:!0,loading:!1,pdfEmail:yo.a.renderToString(h)});case 22:o.handleExportWithComponent();case 23:case"end":return e.stop()}}),e)}))),o.handleExportWithComponent=function(e){o.setState({loading:!1})},o.getPessoaContatos=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("getContatos.php",{token:!0,pessoa:t}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({contatos:t.data,fornecedorEmail:t.data.find((function(e){return"EM"==e.Tipo}))?null===(a=t.data.find((function(e){return"EM"==e.Tipo})))||void 0===a?void 0:a.Campo1:""});case 2:return e.next=4,o.setState({emails:o.state.fornecedorEmail.split("; ")});case 4:return e.next=6,o.setState({loading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o.erroApi(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.por),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t})),o=[];o.push(this.state.emails[0]||this.state.failures[0]),o.push(!this.state.emailBloqueado);var n=o.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(na.a,null),!this.state.loading&&m.a.createElement("div",{style:{position:"absolute",top:0,display:this.state.pdfView?"flex":"none",width:"100%",minWidth:830,minHeight:"100vh",flexDirection:"column",alignItems:"center",backgroundColor:"white",zIndex:20}},m.a.createElement("div",{style:{width:830}},m.a.createElement(jo.a,{fileName:this.state.pdfNome,scale:.6,portrait:!0,paperSize:"A4",margin:"0.5cm",ref:this.pdfExportComponent},this.state.pdfgerado),m.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"}},m.a.createElement("button",{className:"btn btn-danger",style:{margin:20},onClick:function(){return e.pdfExportComponent.current.save()}},"Exportar PDF"),this.state.clientes[0]&&!this.state.clientes[1]&&m.a.createElement("button",{className:"btn btn-info",style:{margin:20},onClick:function(){return e.setState({emailModal:!0})}},"Enviar por email")),m.a.createElement("button",{style:{position:"absolute",top:10,left:10,zIndex:30,backgroundColor:"inherit",border:"none"},onClick:function(){return e.setState({pdfView:!1})}},m.a.createElement(ee.a,{cursor:"pointer",className:"seta",icon:ne.c,color:"#17386b",size:"2x"})))),!this.state.pdfView&&!this.state.loading&&m.a.createElement(m.a.Fragment,null,this.state.redirect&&m.a.createElement(V.a,{to:"/"}),m.a.createElement("section",null,"contasPagar"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarContasPagar:!0,relatorio:!0,titulo:"Contas a Pagar"}),"contasPagas"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarContasPagas:!0,relatorio:!0,titulo:"Contas Pagas"}),"contasReceber"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarContasReceber:!0,relatorio:!0,titulo:"Contas a Receber"}),"contasRecebidas"==this.props.location.state.backTo&&m.a.createElement(se.a,{voltarContasRecebidas:!0,relatorio:!0,titulo:"Contas Recebidas"})),m.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"-20px",marginBottom:"2%"}},m.a.createElement("h6",{style:{color:"red"}},this.state.erro)),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.gerarRelatorio(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Ordenar:")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.por&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.porOptions,value:this.state.porOptions.filter((function(t){return t.value==e.state.por}))[0],search:!0,onChange:function(t){e.setState({por:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Centro de Custo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.centrosCustosOptions.filter((function(t){return e.filterSearch(t,e.state.centrosCustosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({centrosCustosOptionsTexto:t})},value:this.state.centrosCustosOptions.filter((function(t){return t.value==e.state.centroCusto}))[0],search:!0,onChange:function(t){e.setState({centroCusto:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Pessoas")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(t){return e.filterSearch(t,e.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({pessoasOptionsTexto:t})},search:!0,onChange:function(t){e.state.clientes.find((function(e){return e==t.value}))||e.setState({clientes:[].concat(Object(O.a)(e.state.clientes),[t.value]),emails:[],failures:[],successes:[]})}}),m.a.createElement("div",{style:{marginBottom:20,color:"white",fontSize:13}},this.state.clientes.map((function(t,a){var o;return m.a.createElement("span",{class:"click_to_erase",onClick:function(){return e.setState({clientes:e.state.clientes.filter((function(e){return e!=t})),emails:[],failures:[],successes:[]})}},"".concat(null===(o=e.state.pessoas.find((function(e){return e.Chave==t})))||void 0===o?void 0:o.Nome).concat(a!=e.state.clientes.length-1?", ":" "))})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Moeda")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.moedasOptions.filter((function(t){return e.filterSearch(t,e.state.moedasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({moedasOptionsTexto:t})},value:this.state.moedasOptions.filter((function(t){return t.value==e.state.moeda}))[0],search:!0,onChange:function(t){e.setState({moeda:t.value})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Gerar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null)),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.emailModal,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({emailModal:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({email:!1,emailModal:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Enviar email:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.enviarEmail(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},this.state.successes[0]&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emails enviados:")),this.state.successes[0]&&m.a.createElement("div",{className:"col-1 errorMessage"}),this.state.successes[0]&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("label",null,this.state.successes.map((function(t,a){return m.a.createElement("span",{className:"listaEmail successEmail"},t,e.state.successes[a+1]?", ":"")})))),this.state.successes[0]&&m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstlabel"},m.a.createElement("label",null,"Destinat\xe1rio(s)")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.emails.join("; "),onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({emails:a.currentTarget.value.split("; ")});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),this.state.failures[0]&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emails inv\xe1lidos:")),this.state.failures[0]&&m.a.createElement("div",{className:"col-1 errorMessage"}),this.state.failures[0]&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("label",null,this.state.failures.map((function(t,a){return m.a.createElement("span",{className:"listaEmail failureEmail",title:"Email inv\xe1lido",onClick:Object(G.a)(z.a.mark((function a(){return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.removeEmail(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))},t,e.state.failures[a+1]?", ":"")})))),this.state.failures[0]&&m.a.createElement("div",{className:"col-1"}))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n,type:"submit",style:n?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Enviar")),m.a.createElement("div",{className:"col-2"}))))))))))}}]),a}(u.Component),_n=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Dn),Ln=(a(724),a(427)),In=a(428),Mn=(a(749),function(){function e(){Object(W.a)(this,e)}return Object(H.a)(e,null,[{key:"formataXml",value:function(){var e=Object(G.a)(z.a.mark((function e(t,a){var o,n,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(o=(o=t.replaceAll("\n"," ")).split(">")).map((function(e){return e.trim()})).join(">"),n=new Blob([o],{type:"text/plain"}),r=URL.createObjectURL(n),(s=document.createElement("a")).download="".concat(a,".xml"),s.href=r,s.click(),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"criaXml",value:function(){var e=Object(G.a)(z.a.mark((function e(t){var a,o,n,r,s,c,l,i,u,m,p,d,v,f,h;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.getBody("getNotaFiscal.php",{chave:t});case 2:return a=(a=e.sent)[0],e.next=6,K.a.apenasNumeros(a.tomador_cnpj);case 6:return o=e.sent,3==(n=11==o.length?2:3)&&"4315602"!=a.tomador_cod_cidade&&(n=4),r=a.tomador_cod_cidade,"EX"==a.uf&&(n=5,o="",r="",a.tomador_cep=99999999),"ISENTO"==a.tomador_im&&"",N()().isBefore(N()(a.emissao))&&N()(a.emissao),e.t0=a.im,e.next=18,K.a.apenasNumeros(a.cnpj);case 18:if(e.t1=e.sent,e.t2=a.senha,e.t3=a.crc?a.crc:"",e.t4=a.crc_estado?a.crc_estado:"",e.t5=""!=a.aliquota_simples&&0!=a.aliquota_simples&&"0.00"!=a.aliquota_simples?a.aliquota_simples:"",e.t6=a.id_sis_legado,e.t7=a.servico,!a.valor){e.next=31;break}return e.next=28,K.a.formataDinheiroBrasileiro(a.valor);case 28:e.t8=e.sent,e.next=32;break;case 31:e.t8="";case 32:if(e.t9=e.t8,!a.base){e.next=39;break}return e.next=36,K.a.formataDinheiroBrasileiro(a.base);case 36:e.t10=e.sent,e.next=40;break;case 39:e.t10="";case 40:if(e.t11=e.t10,e.t12=a.descricaoNF,e.t13=N()().format("DD"),e.t14=N()().format("MM"),e.t15=N()().format("YYYY"),e.t16=""!=a.vencimento?N()().format("DD"):"",e.t17=""!=a.vencimento?N()().format("MM"):"",e.t18=""!=a.vencimento?N()().format("YYYY"):"",e.t19=a.issRetido&&""!=a.issRetido?a.issRetido:"",!(parseFloat(a.ValorIss)>0)){e.next=55;break}return e.next=52,K.a.formataDinheiroBrasileiro(a.ValorIss);case 52:e.t20=e.sent,e.next=56;break;case 55:e.t20="";case 56:return e.t21=e.t20,e.t22=n,e.t23=o,e.t24=a.tomador_email,e.t25=8041==r&&a.tomador_im?a.tomador_im:"",e.t26=a.tomador_razao,e.t27=a.tomador_fantasia,e.t28=a.tomador_endereco,e.t29=a.tomador_numero,e.t30=a.tomador_complemento,e.t31=a.tomador_bairro,e.next=69,K.a.apenasNumeros(a.tomador_CEP);case 69:if(e.t32=e.sent,e.t33=a.tomador_cod_cidade,!a.tomador_fone){e.next=77;break}return e.next=74,K.a.apenasNumeros(a.tomador_fone.split("@.@")[0]);case 74:e.t34=e.sent,e.next=78;break;case 77:e.t34="";case 78:return e.t35=e.t34,s={ccm:e.t0,cnpj:e.t1,senha:e.t2,crc:e.t3,crc_estado:e.t4,aliquota_simples:e.t5,id_sis_legado:e.t6,servico:e.t7,situacao:"tp",valor:e.t9,base:e.t11,descricaoNF:e.t12,dia_emissao:e.t13,mes_emissao:e.t14,ano_emissao:e.t15,vencimento_dia:e.t16,vencimento_mes:e.t17,vencimento_ano:e.t18,ISSRetido:e.t19,ValorIss:e.t21,tomador_tipo:e.t22,tomador_cnpj:e.t23,tomador_email:e.t24,tomador_im:e.t25,tomador_razao:e.t26,tomador_fantasia:e.t27,tomador_endereco:e.t28,tomador_numero:e.t29,tomador_complemento:e.t30,tomador_bairro:e.t31,tomador_CEP:e.t32,tomador_cod_cidade:e.t33,tomador_fone:e.t35},c=(c=Ln.parse("tcDescricaoRps",s).replace("<?xml version='1.0'?>","")).replaceAll(">null<","><"),c='<?xml version="1.0" encoding="utf-8"?>\n<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n<soap:Body>\n<GerarNota xmlns="http://tempuri.org/">\n'.concat(c,"\n</GerarNota>\n</soap:Body>\n</soap:Envelope>"),e.next=85,this.formataXml(c,"envio");case 85:return l=e.sent,e.next=88,ae.a.post("criaXML.php",{xml:l,chave:t,url:ce.y,soap:ce.A}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 88:return i=e.sent,console.log(s),console.log(c),console.log({xml:l,chave:t,url:ce.y,soap:ce.A}),console.log(i),u=new Blob([i],{type:"text/plain"}),m=URL.createObjectURL(u),(p=document.createElement("a")).download="retorno.xml",p.href=m,p.click(),d="",v="",f="",h="",Object(In.parseString)(i,(function(e,t){try{t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoErro[0]._&&(d=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoErro[0]._)}catch(e){}try{t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoProcesso[0]._&&(f=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].autenticidade[0]._,v=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].Nota[0]._,d=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoProcesso[0]._,h=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].LinkImpressao[0]._)}catch(e){console.log("Erro inesperado")}})),e.abrupt("return",{msg:d,numero:v,autenticidade:f,linkImpressao:h});case 105:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelaXml",value:function(){var e=Object(G.a)(z.a.mark((function e(t,a){var o,n,r,s,c,l,i,u,m,p,d,v;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.getBody("getNotaFiscal.php",{chave:t});case 2:if(!(o=(o=e.sent)[0]).nota){e.next=42;break}return"EX"==o.uf&&(o.tomador_cep=99999999),N()().isBefore(N()(o.emissao))&&N()(o.emissao),e.t0=o.im,e.t1=o.senha,e.next=12,K.a.apenasNumeros(o.cnpj);case 12:return e.t2=e.sent,e.t3=o.crc?o.crc:"",e.t4=o.crc_estado?o.crc_estado:"",e.t5=""!=o.aliquota_simples&&0!=o.aliquota_simples&&"0.00"!=o.aliquota_simples?o.aliquota_simples:"",n={ccm:e.t0,senha:e.t1,cnpj:e.t2,crc:e.t3,crc_estado:e.t4,aliquota_simples:e.t5},r=(r=Ln.parse("tcDescricaoRps",n).replace("<?xml version='1.0'?>","").replace("</tcDescricaoRps>","</tcDadosPrestador>\n        <tcDescricaoCancelaNota>\n            <nota>".concat(o.nota,"</nota>\n            <motivo>").concat(a,"</motivo>\n        </tcDescricaoCancelaNota>"))).replaceAll(">null<","><").replace("<tcDescricaoRps>","<tcDadosPrestador>"),r='<?xml version="1.0" encoding="utf-8"?>\n        <soap:Envelope xmlns:xsi="http:// www.w3.org/ 2001/ XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n            <soap:Body>\n                <CancelarNota xmlns="http://tempuri.org/">\n'.concat(r,"\n</CancelarNota>\n</soap:Body>\n</soap:Envelope>"),e.next=22,this.formataXml(r,"cancelamento");case 22:return s=e.sent,e.next=25,ae.a.post("criaXML.php",{xml:s,chave:t,url:ce.z,soap:ce.B}).then(function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:return c=e.sent,console.log(n),console.log(r),console.log({xml:s,chave:t,url:ce.z,soap:ce.B}),console.log(c),l=new Blob([c],{type:"text/plain"}),i=URL.createObjectURL(l),(u=document.createElement("a")).download="retorno.xml",u.href=i,u.click(),m="",p="",d="",v="",Object(In.parseString)(c,(function(e,t){try{t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoErro[0]._&&(m=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoErro[0]._)}catch(e){}try{t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoProcesso[0]._&&(d=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].autenticidade[0]._,p=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].Nota[0]._,m=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].DescricaoErros[0].item[0].DescricaoProcesso[0]._,v=t["SOAP-ENV:Envelope"]["SOAP-ENV:Body"][0]["ns1:GerarNotaResponse"][0].RetornoNota[0].LinkImpressao[0]._)}catch(e){console.log("Erro inesperado")}})),e.abrupt("return",{msg:m,numero:p,autenticidade:d,linkImpressao:v});case 42:return e.abrupt("return");case 43:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),Rn={faturas:[],pesquisa:"",tipoPesquisa:1,loading:!0,redirect:!1,deleteFatura:!1,chaveCancela:0,cancelaModal:!1,motivo:"",acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100},Bn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Rn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"FATURAS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteFatura||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteFatura:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getFaturas.php",e.state.usuarioLogado.empresa);case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.t4={faturas:t.t1,acessos:t.t2,permissoes:t.t3},t.next=13,t.t0.setState.call(t.t0,t.t4);case 13:if(!e.props.location.state||!e.props.location.state.chave){t.next=16;break}return t.next=16,e.setState({chaveFocus:e.props.location.state.chave});case 16:return t.t5=e,t.next=19,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 19:return t.t6=t.sent,t.t7={acessosPermissoes:t.t6,loading:!1},t.next=23,t.t5.setState.call(t.t5,t.t7);case 23:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.copyFatura=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(oe.confirmAlert)({customUI:function(t){var o=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja copiar essa Nota fiscal (",a.discriminacaoservico,")? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.a.getBase("getFormularios.php");case 2:if(n=t.sent,!(r=n.find((function(e){return"NFE"===e.Codigo})))){t.next=9;break}return e.setState({loading:!0}),t.next=8,ae.a.post("insertFatura.php",{token:!0,values:"'".concat(N()(a.Emissao).format("YYYY-MM-DD"),"', '").concat(N()(a.Vencto).format("YYYY-MM-DD"),"', '").concat(a.Praca_Pagto,"', '").concat(a.Cliente,"', '").concat(a.Valor,"', '").concat(a.Obs,"', '").concat(r.chave,"', '").concat(a.Cobranca,"', '").concat(a.discriminacaoservico,"', '").concat(a.empresa,"', '").concat(a.atividade,"'"),formulario:r.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=4;break}return t.next=3,le.a.salvaLogs("faturas",e.state.usuarioLogado.codigo,null,"Inserir",a.data[0].chave);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:e.setState({loading:!1});case 9:o();case 10:case"end":return t.stop()}}),t)})))},"Sim"))}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteFatura=function(){var t=Object(G.a)(z.a.mark((function t(a,o,n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteFatura:!0}),Object(oe.confirmAlert)({customUI:function(t){var r=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja ",0==n?"apagar":"cancelar"," a Nota fiscal ",o,"? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0==n){t.next=4;break}e.setState({cancelaModal:!0,chaveCancela:a}),t.next=6;break;case 4:return t.next=6,ae.a.post("eraseFatura.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=a.data){t.next=4;break}return t.next=3,le.a.salvaLogs("faturas",e.state.usuarioLogado.codigo,null,"Dele\xe7\xe3o",e.state.chaveCancela);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:r();case 7:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a,o){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.faturas.reverse(),e.state.direcaoTabela!=ne.n){t.next=8;break}return t.next=6,e.setState({direcaoTabela:ne.q});case 6:t.next=10;break;case 8:return t.next=10,e.setState({direcaoTabela:ne.n});case 10:return t.next=12,e.setState({faturas:a,loading:!1});case 12:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return t.Fatura&&1==e.state.tipoPesquisa?t.Fatura.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.clienteNome&&2==e.state.tipoPesquisa?t.clienteNome.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Emissao&&3==e.state.tipoPesquisa?t.Emissao.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?t.Chave.includes(e.state.pesquisa.toLowerCase()):5==e.state.tipoPesquisa?t.discriminacaoservico.toLowerCase().includes(e.state.pesquisa.toLowerCase()):void 0},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiroTabelas:!0,titulo:"Notas Fiscais de Servi\xe7o"}),m.a.createElement("br",null)),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.cancelaModal,onClose:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({cancelaModal:!1});case 2:case"end":return t.stop()}}),t)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({cabecalhoModal:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"tituloModal"},m.a.createElement("span",null,"Cancelar nota:")),m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return t.next=4,Mn.cancelaXml(e.state.chaveCancela,e.state.motivo);case 4:return t.next=6,ae.a.post("deleteFatura.php",{token:!0,chave:e.state.chaveCancela,data:N()().format("YYYY-MM-DD")}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=a.data){t.next=4;break}return t.next=3,le.a.salvaLogs("faturas",e.state.usuarioLogado.codigo,null,"Cancelamento",e.state.chaveCancela);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 "},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{style:{marginTop:0},className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Motivo:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.motivo,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({motivo:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{type:"submit",style:{width:300}},"Cancelar")),m.a.createElement("div",{className:"col-2"}))))))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 sumir"}),m.a.createElement("div",{className:"col-12 text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:5},"Discrimina\xe7\xe3o"),m.a.createElement("option",{value:1},"Fatura"),m.a.createElement("option",{value:2},"Cliente"),m.a.createElement("option",{value:3},"Emiss\xe3o"),m.a.createElement("option",{value:4},"Chave")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addfatura/0"}}),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Fatura")),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("span",{className:"subtituloships"},"Discrimina\xe7\xe3o")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Cliente")),m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Emiss\xe3o")),m.a.createElement("div",{className:"col-1 text-center revertItem",onClick:function(){e.state.contas[0]&&e.reverterItens()}},!this.state.faturas[0]&&1==this.state.acessosPermissoes.filter((function(e){if("FATURAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addfatura/0"}},m.a.createElement(ee.a,{icon:ne.M}))),this.state.faturas[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.state.direcaoTabela})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.faturas[0]&&this.state.faturas.filter(this.filtrarPesquisa).filter((function(e){return 1!=e.Cancelada})).splice(0,this.state.load).map((function(t,a){return m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{ref:t.Chave==e.state.chaveFocus?"focusMe":"",tabindex:-1,className:"col-lg-8 col-md-8 col-sm-12 mix all dresses bags ".concat(a%2==0?t.Chave==e.state.chaveFocus?"par focusLight":"par ":t.Chave==e.state.chaveFocus?"impar focusDark":"impar")},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:" col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Fatura)),m.a.createElement("div",{className:"col-4 text-left"},m.a.createElement("p",null,t.discriminacaoservico)),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("p",null,t.clienteNome)),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-2 text-left"},m.a.createElement("p",null,N()(t.Emissao).format("DD/MM/YYYY"))),m.a.createElement("div",{className:"col-1  text-left  mobileajuster4 icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addfatura/0"}},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.copyFatura(t)}},m.a.createElement(ee.a,{icon:ne.u}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addfatura/".concat(t.Chave),state:{fatura:Object(b.a)({},t)}}},m.a.createElement(ee.a,{icon:ne.L}))),1==e.state.acessosPermissoes.filter((function(e){if("FATURAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0]&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(a){return e.deleteFatura(t.Chave,t.discriminacaoservico,t.Fatura)}},m.a.createElement(ee.a,{icon:ne.S}))))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"}))})),this.state.faturas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),qn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Bn),Yn=(a(946),a(947),function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"tableList_Wrapper"},m.a.createElement("div",{className:"tableList_Main"},m.a.createElement("div",{className:"tableList_Header"},this.props.items.map((function(e){return m.a.createElement("div",{style:{overflowWrap:"ellipsis",minWidth:50*e.size}},m.a.createElement("span",{className:"subtituloships"},e.title))})),m.a.createElement("div",{className:"col-2 text-center revertItem",style:{minWidth:100,maxWidth:100},onClick:function(){e.props.list[0]&&e.props.revertFunction()}},!this.props.list[0]&&this.props.permissions.add&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(Y.b,{to:this.props.addLink()},m.a.createElement(ee.a,{icon:ne.M}))),this.props.list[0]&&m.a.createElement("span",{className:"subtituloships"},m.a.createElement(ee.a,{icon:this.props.direction})))),void 0!=this.props.list[0]&&this.props.list.map((function(t,a){var o,n,r;return m.a.createElement("div",{style:{width:100+e.props.items.map((function(e){return 50*e.size})).reduce((function(e,t){return e+t}))},ref:t[null===(o=e.props.items.find((function(e){return"key"==e.type})))||void 0===o?void 0:o.field]==e.props.focus?"focusMe":"",tabindex:-1,className:"".concat(a%2==0?t[null===(n=e.props.items.find((function(e){return"key"==e.type})))||void 0===n?void 0:n.field]==e.props.focus?"par focusLight":"par ":t[null===(r=e.props.items.find((function(e){return"key"==e.type})))||void 0===r?void 0:r.field]==e.props.focus?"impar focusDark":"impar")},m.a.createElement("div",{className:"tableList_Body"},e.props.items.map((function(e){return m.a.createElement("div",{style:{overflowWrap:"ellipsis",minWidth:50*e.size}},("text"==e.type||"key"==e.type||"title"==e.type)&&m.a.createElement("p",null,t[e.field]),"date"==e.type&&m.a.createElement("p",null,N()(t[e.field]).format("DD/MM/YYYY")),"money"==e.type&&m.a.createElement("p",null,e.moneySymbol,new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t[e.field])))})),m.a.createElement("div",{style:{minWidth:100},className:"text-left icones"},m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:e.props.addLink()},m.a.createElement(ee.a,{icon:ne.M}))),m.a.createElement("div",{className:"iconelixo giveMargin",type:"button"},m.a.createElement(Y.b,{to:e.props.editLink(a)},m.a.createElement(ee.a,{icon:ne.L}))),e.props.permissions.delete&&m.a.createElement("div",{type:"button",className:"iconelixo",onClick:function(){return e.props.deleteFunction(t[e.props.items.find((function(e){return"key"==e.type})).field],t[e.props.items.find((function(e){return"title"==e.type})).field])}},m.a.createElement(ee.a,{icon:ne.T})))))}))))}}]),a}(u.Component)),Vn={name:"",lancamentos:[],pesquisa:"",tipoPesquisa:1,pessoas:"",deleteLancamento:!1,tipo:0,loading:!0,redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],direcaoTabela:ne.n,load:100},Un=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Vn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAll();case 2:if(!e.state.chaveFocus){t.next=6;break}if(!e.refs.focusMe){t.next=6;break}return t.next=6,e.refs.focusMe.focus();case 6:e.state.acessosPermissoes.map((function(t){"LANCAMENTOS"==t.acessoAcao&&0==t.permissaoConsulta&&e.setState({redirect:!0})}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.deleteConta||e.state.modalItemAberto==o.modalItemAberto){t.next=3;break}return t.next=3,e.setState({modalItemAberto:!1,deleteLancamentos:!1});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getLancamentos.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getTiposAcessos.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBase("getPermissoes.php");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getLancamentosLotes.php");case 12:return t.t4=t.sent,t.t5={lancamentos:t.t1,acessos:t.t2,permissoes:t.t3,lotes:t.t4},t.next=16,t.t0.setState.call(t.t0,t.t5);case 16:return t.next=18,e.getPessoas();case 18:if(!e.props.location.state||!e.props.location.state.chave){t.next=21;break}return t.next=21,e.setState({chaveFocus:e.props.location.state.chave});case 21:return t.t6=e,t.next=24,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 24:return t.t7=t.sent,t.t8={acessosPermissoes:t.t7,loading:!1},t.next=28,t.t6.setState.call(t.t6,t.t8);case 28:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getPessoas.php",{token:!0}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pessoas:a.data});case 2:return o="",n=e.state.lancamentos.map((function(t){return(o=e.state.pessoas.find((function(e){return e.Chave==t.Pessoa})))?Object(b.a)(Object(b.a)({},t),{},{pessoaNome:o.Nome}):Object(b.a)(Object(b.a)({},t),{},{pessoaNome:""})})),t.next=6,e.setState({lancamentos:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.erroApi(t)}));case 2:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteLancamento=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteLancamento:!0}),Object(oe.confirmAlert)({customUI:function(t){var o=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover a lancamento? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteLancamento.php",{token:!0,chave:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("lancamentos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:o();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteLote=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({deleteLancamento:!0}),Object(oe.confirmAlert)({customUI:function(t){var o=t.onClose;return m.a.createElement("div",{className:"custom-ui text-center"},m.a.createElement("h1",null,ce.w),m.a.createElement("p",null,"Deseja remover esse lote inteiro? "),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-danger w-25",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))},"N\xe3o"),m.a.createElement("button",{style:{marginRight:5},className:"btn btn-success w-25",onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("deleteLancamentoLote.php",{token:!0,lote:a}).then(function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=o.data){t.next=4;break}return t.next=3,le.a.salvaLogs("lancamentos",e.state.usuarioLogado.codigo,null,"Exclus\xe3o por lote",a);case 3:document.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.erroApi(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:o();case 3:case"end":return t.stop()}}),t)})))},"Sim"))}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.reverterItens=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:if(a=e.state.lancamentos.reverse(),o=e.state.lotes.reverse(),e.state.direcaoTabela!=ne.n){t.next=9;break}return t.next=7,e.setState({direcaoTabela:ne.q});case 7:t.next=11;break;case 9:return t.next=11,e.setState({direcaoTabela:ne.n});case 11:return t.next=13,e.setState({lancamentos:a,lotes:o,loading:!1});case 13:case"end":return t.stop()}}),t)}))),e.filtrarPesquisa=function(t){return""===e.state.pesquisa||(t.Historico&&1==e.state.tipoPesquisa?t.Historico.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Valor&&2==e.state.tipoPesquisa?t.Valor.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Chave&&3==e.state.tipoPesquisa?t.Chave.toLowerCase().includes(e.state.pesquisa.toLowerCase()):t.Lote&&5==e.state.tipoPesquisa?t.Lote.toLowerCase().includes(e.state.pesquisa.toLowerCase()):4==e.state.tipoPesquisa?N()(t.Vencimento).format("DD/MM/YYYY").includes(e.state.pesquisa.toLowerCase()):void 0)},e.returnEditLink=function(t,a){if("chave"==a){var o=e.state.lancamentos.filter(e.filtrarPesquisa).splice(0,e.state.load)[t];return{pathname:"/financeiro/addlancamento/".concat(o.Lote),state:{lancamento:Object(b.a)({},o),tipo:"lote"}}}if("lote"==a){var n=e.state.lotes.filter(e.filtrarPesquisa).splice(0,e.state.load)[t];return{pathname:"/financeiro/addlancamento/".concat(n.Lote),state:{lancamento:Object(b.a)({},n),tipo:"lote"}}}},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarFinanceiroTabelas:!0,titulo:"Lancamentos"}),m.a.createElement("br",null)),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-2"})),m.a.createElement("div",{className:"col-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 sumir"}),m.a.createElement("div",{className:"col-12 text-right pesquisa mobileajuster1 "},m.a.createElement("div",{className:"col-12  text-right pesquisa mobileajuster1 "},m.a.createElement("select",{className:"form-control tipoPesquisa col-4 col-sm-4 col-md-3 col-lg-3 col-xl-2",placeholder:"Tipo de pesquisa...",value:this.state.tipoPesquisa,onChange:function(t){e.setState({tipoPesquisa:t.currentTarget.value})}},m.a.createElement("option",{value:1},"Hist\xf3rico"),m.a.createElement("option",{value:2},"Valor"),m.a.createElement("option",{value:3},"Chave"),m.a.createElement("option",{value:4},"Data"),m.a.createElement("option",{value:5},"Lote")),m.a.createElement("input",{className:"form-control campoPesquisa col-7 col-sm-6 col-md-6 col-lg-5 col-xl-5",placeholder:"Pesquise aqui...",value:this.state.pesquisa,onChange:function(t){e.setState({pesquisa:t.currentTarget.value})}}),m.a.createElement(Y.b,{to:{pathname:"/financeiro/exportarlancamentos"}},m.a.createElement("button",{className:"btn btn-success"},"Exportar")),m.a.createElement("div",{style:{marginLeft:15}},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addlancamento/0",state:{lancamento:{}}}},m.a.createElement("button",{className:"btn btn-success"},"+"))))),m.a.createElement("div",{className:"col-1 col-sm-2 col-md-2 col-lg-4 col-xl-4"}),m.a.createElement("div",{className:"col-5 col-sm-2 col-md-2 col-lg-2 col-xl-2"},m.a.createElement("label",{style:{fontSize:"1.1em",marginTop:3,fontWeight:"bold"}},"Procurar: ")),m.a.createElement("div",{className:"col-5 col-sm-3 col-md-2 col-lg-2 col-xl-2"},m.a.createElement("select",{className:"form-control",value:this.state.tipo,onChange:function(t){e.setState({tipo:t.currentTarget.value})}},m.a.createElement("option",{value:0},"Por Chave"),m.a.createElement("option",{value:1},"Por Lote"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement(Ae,{addLink:{pathname:"/financeiro/addlancamento/0",state:{lancamento:{}}}}),0==this.state.tipo&&m.a.createElement(Yn,{list:this.state.lancamentos.filter(this.filtrarPesquisa).splice(0,this.state.load),items:[{title:"Chave",size:2,field:"Chave",type:"key"},{title:"Lote",size:2,field:"Lote",type:"text"},{title:"Hist\xf3rico",size:3,field:"Historico",type:"title"},{title:"Conta D\xe9bito",size:4,field:"conta_Debito",type:"text"},{title:"Conta Cr\xe9dito",size:4,field:"conta_Credito",type:"text"},{title:"Data",size:3,field:"Vencimento",type:"date"},{title:"Valor",size:2,field:"Valor",type:"money",moneySymbol:"R$"}],addLink:function(){return{pathname:"/financeiro/addlancamento/0",state:{lancamento:{}}}},editLink:function(t){return e.returnEditLink(t,"chave")},deleteFunction:function(t,a){return e.deleteLancamento(t,a)},revertFunction:function(){return e.reverterItens()},permissions:{delete:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0],add:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0],edit:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoAltera}))[0]},direction:this.state.direcaoTabela,focus:this.state.chaveFocus}),1==this.state.tipo&&m.a.createElement(Yn,{list:this.state.lotes.filter(this.filtrarPesquisa).splice(0,this.state.load),items:[{title:"Lote",size:2,field:"Lote",type:"key"},{title:"Hist\xf3rico",size:3,field:"Historico",type:"title"},{title:"Data",size:3,field:"Vencimento",type:"date"},{title:"Conta D\xe9bito",size:4,field:"conta_Debito",type:"text"},{title:"Conta Cr\xe9dito",size:4,field:"conta_Credito",type:"text"},{title:"Valor",size:2,field:"Valor",type:"money",moneySymbol:"R$"}],addLink:function(){return{pathname:"/financeiro/addlancamento/0",state:{lancamento:{},tipo:"lote"}}},editLink:function(t){return e.returnEditLink(t,"lote")},deleteFunction:function(t,a){return e.deleteLote(t,a)},revertFunction:function(){return e.reverterItens()},permissions:{delete:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoDeleta}))[0],add:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoInsere}))[0],edit:1==this.state.acessosPermissoes.filter((function(e){if("LANCAMENTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoAltera}))[0]},direction:this.state.direcaoTabela,focus:this.state.chaveFocus}),m.a.createElement("div",{id:"product-list"},this.state.lancamentos.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),zn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Un),Gn=(a(948),{name:"",contas:[],bancos:[],transacoes:[],dadosPagamento:[],tokenBB:"",dataInicial:"",dataFinal:"",error:{msg:"",type:""},mostraFiltros:!0,loading:!0,requisicoesCarregando:[],redirect:!1,acessos:[],permissoes:[],acessosPermissoes:[],load:100,requisicoesBloqueado:!1,liberacoesBloqueado:!1,errors:[],pdfGerado:""}),Wn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var o;return Object(W.a)(this,a),(o=t.call(this,e)).state=Object(b.a)(Object(b.a)({},Gn),{},{usuarioLogado:o.props.user}),o.componentDidMount=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({requisicoesCarregando:[]}),e.next=3,o.loadAll();case 3:o.state.acessosPermissoes.map((function(e){"LANCAMENTOS"==e.acessoAcao&&0==e.permissaoInsere&&o.setState({requisicoesBloqueado:!0}),"LANCAMENTOS"==e.acessoAcao&&0==e.permissaoInsere&&o.setState({liberacoesBloqueado:!0})}));case 4:case"end":return e.stop()}}),e)}))),o.loadAll=Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,le.a.getBase("getLancamentos.php");case 3:return e.t1=e.sent,e.next=6,le.a.getBase("getPessoas.php");case 6:return e.t2=e.sent,e.next=9,le.a.getBase("getTiposAcessos.php");case 9:return e.t3=e.sent,e.next=12,le.a.getBase("getPermissoes.php");case 12:return e.t4=e.sent,e.t5={lancamentos:e.t1,pessoas:e.t2,acessos:e.t3,permissoes:e.t4},e.next=16,e.t0.setState.call(e.t0,e.t5);case 16:return e.t6=o,e.t7=o.state.lancamentos.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{check:!1})})),e.next=20,le.a.testaAcesso(o.state.acessos,o.state.permissoes,o.state.usuarioLogado);case 20:return e.t8=e.sent,e.t9={lancamentos:e.t7,acessosPermissoes:e.t8,loading:!1},e.next=24,e.t6.setState.call(e.t6,e.t9);case 24:case"end":return e.stop()}}),e)}))),o.checkLancto=function(){var e=Object(G.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.state.lancamentos,"all"!=t){e.next=5;break}return n=a.filter(o.filtrarPesquisa).splice(0,o.state.load),a=a.map((function(e){return n.find((function(t){return e.Chave==t.Chave}))?Object(b.a)(Object(b.a)({},e),{},{check:!0}):Object(b.a)(Object(b.a)({},e),{},{check:!1})})),e.abrupt("return",o.setState({lancamentos:a}));case 5:a=a.map((function(e){return e.Chave==t?Object(b.a)(Object(b.a)({},e),{},{check:!e.check}):Object(b.a)(Object(b.a)({},e),{},{check:e.check})})),o.setState({lancamentos:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.exportarLancto=Object(G.a)(z.a.mark((function e(){var t,a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({loading:!0}),e.next=3,le.a.getBody("exportarLancamentos.php",{empresa:o.state.usuarioLogado.empresa,lancamentos:o.state.lancamentos.filter((function(e){return e.check}))});case 3:t=e.sent,a=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(a),(r=document.createElement("a")).download="export.txt",r.href=n,r.click(),o.setState({loading:!1});case 11:case"end":return e.stop()}}),e)}))),o.erroApi=function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.filtrarPesquisa=function(e){return!(!o.state.dataInicial||!o.state.dataFinal||0!=e.atualizado)&&(!!N()(e.Data).isSameOrAfter(o.state.dataInicial)&&!!N()(e.Data).isSameOrBefore(o.state.dataFinal))},o.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},o.pdfExportComponent=m.a.createRef(null),o}return Object(H.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"allContent"},m.a.createElement("div",null,this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement("div",null,m.a.createElement("section",null,m.a.createElement(se.a,{voltarLancamentos:!0,titulo:"Exportar Lan\xe7amentos"}),m.a.createElement("br",null)),m.a.createElement(Ea.a,{alert:this.state.error,setAlert:function(t){return e.setState({error:t})}}),this.state.errorFooter&&m.a.createElement("div",{className:"erroFooter"},m.a.createElement("span",null,this.state.error)),m.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-left"},m.a.createElement("div",{className:"row mobileajuster3"},m.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 sumir"}),!this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!0})}},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 "},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 "}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right"},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.n}))))),this.state.mostraFiltros&&m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,"Filtros"))),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-right",style:{cursor:"pointer"},onClick:function(){return e.setState({mostraFiltros:!1})}},m.a.createElement("label",null,m.a.createElement("h3",null,m.a.createElement(ee.a,{icon:ne.q})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Data Inicial:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.dataInicial,onChange:function(t){e.setState({dataInicial:t.currentTarget.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},m.a.createElement("label",null,"Data Final:")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form-control",type:"date",value:this.state.dataFinal,onChange:function(t){e.setState({dataFinal:t.currentTarget.value})}}))),m.a.createElement("div",{className:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3  text-right pesquisa mobileajuster1 "}),m.a.createElement("div",{className:"col-5 col-sm-5 col-md-6 col-lg-6 col-xl-6  text-right pesquisa mobileajuster1 "},m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-success",disabled:this.state.exportacaoBloqueada,style:{padding:"10px",fontSize:"1.2em",borderRadius:"20px"},onClick:function(){e.state.exportacaoBloqueada||e.exportarLancto()}},"Exportar"))),m.a.createElement("div",{className:"col-0 col-sm-0 col-md-3 col-lg-3 col-xl-3"}),m.a.createElement("div",null))),m.a.createElement("div",{className:"row deleteMargin",id:"product-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags"},m.a.createElement("div",{className:"single-product-item"},m.a.createElement("div",{className:"row subtitulosTabela"},m.a.createElement("div",{className:"col-2 text-left"},m.a.createElement("span",{className:"subtituloships"},"Chave")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Hist\xf3rico")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("span",{className:"subtituloships",style:{overflowWrap:"anywhere"}},"Data")),m.a.createElement("div",{className:"col-3 text-left"},m.a.createElement("span",{className:"subtituloships"},"Valor")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-center"},this.state.lancamentos[0]&&m.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(){return e.checkLancto("all")}}))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"})),m.a.createElement("div",{id:"product-list"},void 0!=this.state.lancamentos[0]&&this.state.lancamentos.filter(this.filtrarPesquisa).splice(0,this.state.load).map((function(t,a){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:t.Chave,className:"row row-list"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-0"}),m.a.createElement("div",{className:a%2==0?"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags par":"col-lg-8 col-md-8 col-sm-12 col-12 mix all dresses bags itemLista impar"},m.a.createElement("div",{className:"row deleteMargin alignCenter"},m.a.createElement("div",{className:"col-2 text-left",style:{overflowWrap:"anywhere"}},m.a.createElement("p",null,t.Chave)),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 text-left"},m.a.createElement(Y.b,{to:{pathname:"/financeiro/addlancamento/".concat(t.Chave),state:{lancamento:Object(b.a)({},t),tipo:"lote"}}},m.a.createElement("p",null,t.Historico))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 text-left"},m.a.createElement("p",null,N()(t.Data).format("DD/MM/YYYY"))),m.a.createElement("div",{style:{overflowWrap:"anywhere"},className:"col-3 text-left"},m.a.createElement("p",null,"R$ ",new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Valor))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-2  text-left  mobileajuster4 icones"},m.a.createElement("input",{className:"pagamentosCheckbox",type:"checkbox",checked:t.check,onChange:function(){e.checkLancto(t.Chave)}})))),m.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-0 col-0"})),m.a.createElement("div",{className:"0"==t.statusId?"errorMessageTable":"successMessageTable"},m.a.createElement("span",null,t.status)))})),this.state.contas.filter(this.filtrarPesquisa)[this.state.load]&&m.a.createElement("div",{className:"loadMoreDiv"},m.a.createElement("div",{className:"loadMore",onClick:function(){e.setState({load:e.state.load+100})}},"Carregar Mais...")),m.a.createElement("br",null)))),m.a.createElement(re.a,null))}}]),a}(u.Component),Hn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Wn),Xn=(a(949),{conta:"",chave:0,lancamento:N()().format("YYYY-MM-DD"),envio:"",pessoa:"",tipo:"",contaContabil:"",codBarras:"",centroCusto:"",contaBloqueto:"",historicoPadrao:"",historico:"",contaDesconto:"",parcelaInicial:1,parcelaFinal:1,numBoleto:"",valor:"",saldo:"",vencimento:"",vencimentoOrig:"",contaProvisao:"",provisaoCheck:!1,valorInicial:"",empresa:0,documento:"",tipoDocumento:"",meioPagamento:"",meioPagamentoNome:"",descontosModal:!1,logs:[],modalLog:!1,codigoReceita:"",contribuinte:"",codigoIdentificadorTributo:"",mesCompetNumRef:"",dataApuracao:"",darfValor:"",darfMulta:"",darfJuros:"",darfOutros:"",darfPagamento:"",tipoPix:"",desconto:"",descontoComplemento:"",descontoConta:"",retencaoInss:"",retencaoInssCheck:!1,retencaoInssComplemento:"",retencaoInssConta:"",retencaoIr:"",retencaoIrCheck:!1,retencaoIrComplemento:"",retencaoIrConta:"",retencaoIss:"",retencaoIssCheck:!1,retencaoIssComplemento:"",retencaoIssConta:"",retencaoPis:"",retencaoPisCheck:!1,retencaoPisComplemento:"",retencaoPisConta:"",retencaoCofins:"",retencaoCofinsCheck:!1,retencaoCofinsComplemento:"",retencaoCofinsConta:"",retencaoCsll:"",retencaoCsllCheck:!1,retencaoCsllComplemento:"",retencaoCsllConta:"",empresas:[],empresasOptions:[],empresasOptionsTexto:"",pessoas:[],pessoasOptions:[],pessoasOptionsTexto:"",planosContas:[],planosContasOptions:[],planosContasOptionsTexto:"",centrosCustos:[],centrosCustosOptions:[],centrosCustosOptionsTexto:"",historicos:[],historicosOptions:[],historicosOptionsTexto:"",tiposDocumentos:[],tiposDocumentosOptions:[],tiposDocumentosOptionsTexto:"",tiposOptions:[{label:"",value:""},{label:"Receber",value:0},{label:"Pagar",value:1}],dadosIniciais:[],dadosFinais:[],dadosIniciaisDarf:[{titulo:"codigo_receita",valor:""},{titulo:"contribuinte",valor:""},{titulo:"codigo_identificador_tributo",valor:""},{titulo:"mes_compet_num_ref",valor:""},{titulo:"data_apuracao",valor:""},{titulo:"valor",valor:""},{titulo:"valor_multa",valor:""},{titulo:"valor_juros",valor:""},{titulo:"valor_outros",valor:""},{titulo:"valor_pagamento",valor:""},{titulo:"tipo_pix",valor:""}],dadosFinaisDarf:[{titulo:"codigo_receita",valor:""},{titulo:"contribuinte",valor:""},{titulo:"codigo_identificador_tributo",valor:""},{titulo:"mes_compet_num_ref",valor:""},{titulo:"data_apuracao",valor:""},{titulo:"valor",valor:""},{titulo:"valor_multa",valor:""},{titulo:"valor_juros",valor:""},{titulo:"valor_outros",valor:""},{titulo:"valor_pagamento",valor:""},{titulo:"tipo_pix",valor:""}],contabilizada:0,meiosPagamentos:[],meiosPagamentosOptions:[],meiosPagamentosOptionsTexto:"",acessos:[],permissoes:[],acessosPermissoes:[],ultimaTransacao:[],modalAberto:!1,modal:0,modalLista:"",modalPesquisa:"",os:"",navio:"",porto:"",sailed:"",navios:[],naviosOptions:[],portos:[],portosOptions:[],optionsTexto:"",manual:!1,bloqueado:!1,osExiste:!1,loading:!0,roe:"5,0",discount:"0",received:"0",alert:{type:"",msg:""}}),Jn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Xn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:if(a=t.sent,0==e.state.usuarioLogado.empresa){t.next=7;break}return t.next=7,e.setState({empresa:e.state.usuarioLogado.empresa});case 7:return t.next=9,e.setState({chave:a});case 9:if(e.props.location&&e.props.location.state&&e.props.location.state.tipo&&e.setState({tipo:e.props.location.state.tipo}),0===parseInt(a)){t.next=26;break}return t.next=13,e.setState({conta:e.props.location.state.conta});case 13:return t.next=15,e.setState({lancamento:N()(e.state.conta.Lancto).format("YYYY-MM-DD"),envio:N()(e.state.conta.envio).format("YYYY-MM-DD"),tipo:e.state.conta.Tipo,pessoa:e.state.conta.Pessoa,contaContabil:e.state.conta.Conta_Contabil,codBarras:e.state.conta.RepCodBar,centroCusto:e.state.conta.Centro_Custo,contaBloqueto:e.state.conta.Conta_Bloqueto,historico:e.state.conta.Historico,contaDesconto:e.state.conta.Conta_Desconto,parcelaInicial:e.state.conta.Parc_Ini,parcelaFinal:e.state.conta.Parc_Fim,numBoleto:e.state.conta.LinhaDig,valor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.conta.Valor),saldo:parseFloat(e.state.conta.Saldo).toFixed(2).replaceAll(".",","),valorInicial:parseFloat(e.state.conta.Valor).toFixed(2).replaceAll(".",","),vencimento:N()(e.state.conta.Vencimento).format("YYYY-MM-DD"),vencimentoOrig:N()(e.state.conta.Vencimento_Original).format("YYYY-MM-DD"),contaProvisao:e.state.conta.Conta_Provisao,empresa:e.state.conta.Empresa,documento:e.state.conta.Docto,tipoDocumento:e.state.conta.tipodocto,meioPagamento:e.state.conta.meio_pagamento,os:e.state.conta.os_manual,navio:e.state.conta.navio_manual,porto:e.state.conta.porto_manual,roe:null===(o=e.state.conta.roe_manual)||void 0===o?void 0:o.replaceAll(".",","),discount:e.state.conta.discount_manual?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.conta.discount_manual):"0,00",received:e.state.conta.received_manual?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.conta.received_manual):"0,00",sailed:e.state.conta.sailed_manual});case 15:if(e.setState({manual:!!(e.state.os||e.state.navio||e.state.porto||e.state.roe||e.state.discount||e.state.received||e.state.sailed)}),0==e.state.contaProvisao){t.next=19;break}return t.next=19,e.setState({provisaoCheck:!0});case 19:return t.t0=e,t.next=22,le.a.getBody("getUltimaTransacaoConta.php",{chave:e.state.chave});case 22:return t.t1=t.sent,t.t2={ultimaTransacao:t.t1},t.next=26,t.t0.setState.call(t.t0,t.t2);case 26:return t.next=28,e.loadAll();case 28:if(0==e.state.chave){t.next=31;break}return t.next=31,e.setState({dadosIniciais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposOptions)},{titulo:"Lan\xe7amento",valor:K.a.formatForLogs(e.state.lancamento,"date")},{titulo:"Envio",valor:K.a.formatForLogs(e.state.envio,"date")},{titulo:"Documento",valor:K.a.formatForLogs(e.state.documento)},{titulo:"Parcela Inicial",valor:K.a.formatForLogs(e.state.parcelaInicial)},{titulo:"Parcela Final",valor:K.a.formatForLogs(e.state.parcelaFinal)},{titulo:"Hist\xf3rico",valor:K.a.formatForLogs(e.state.historico)},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Vencimento Original",valor:K.a.formatForLogs(e.state.vencimentoOrig,"date")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Saldo",valor:K.a.formatForLogs(e.state.saldo,"money")},{titulo:"Centro Custo",valor:K.a.formatForLogs(e.state.centroCusto,"options","","",e.state.centrosCustosOptions)},{titulo:"Conta Provis\xe3o",valor:K.a.formatForLogs(e.state.contaProvisao,"options","","",e.state.planosContasOptions)},{titulo:"Conta D\xe9bito",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Desconto",valor:K.a.formatForLogs(e.state.contaDesconto,"options","","",e.state.planosContasOptions)},{titulo:"Pessoa",valor:K.a.formatForLogs(e.state.pessoa,"options","","",e.state.pessoasOptions)},{titulo:"Operador",valor:K.a.formatForLogs(e.state.usuarioLogado.nome)},{titulo:"Conta Bloqueto",valor:K.a.formatForLogs(e.state.contaBloqueto,"options","","",e.state.planosContasOptions)},{titulo:"Tipo de Documento",valor:K.a.formatForLogs(e.state.tipoDocumento,"options","","",e.state.tiposDocumentosOptions)},{titulo:"Meio Pagamento",valor:K.a.formatForLogs(e.state.meioPagamento,"options","","",e.state.meiosPagamentosOptions)},{titulo:"OS manual",valor:K.a.formatForLogs(e.state.os)},{titulo:"Navio manual",valor:K.a.formatForLogs(e.state.navio,"options","","",e.state.naviosOptions)},{titulo:"Porto manual",valor:K.a.formatForLogs(e.state.porto,"options","","",e.state.portosOptions)},{titulo:"ROE manual",valor:K.a.formatForLogs(e.state.roe)},{titulo:"Discount manual",valor:K.a.formatForLogs(e.state.discount)},{titulo:"Received manual",valor:K.a.formatForLogs(e.state.received)},{titulo:"Sailed manual",valor:K.a.formatForLogs(e.state.sailed,"date")}]});case 31:if(!(n=e.state.meiosPagamentos.filter((function(t){return t.chave==e.state.meioPagamento})))||!n[0]){t.next=38;break}return t.next=35,e.setState({meioPagamentoNome:n[0].descricao});case 35:if("DARF"!=e.state.meioPagamentoNome&&"GPS"!=e.state.meioPagamentoNome&&"GRU"!=e.state.meioPagamentoNome&&"PIX"!=e.state.meioPagamentoNome){t.next=38;break}return t.next=38,e.getContasComplementar();case 38:e.state.acessosPermissoes.map((function(t){("CONTAS_ABERTAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"CONTAS_ABERTAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 39:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.pessoa==o.pessoa||1!=e.state.tipo){t.next=7;break}return t.t0=e,t.next=4,le.a.getContaPessoa(e.state.pessoa,"provisao");case 4:t.t1=t.sent,t.t2={contaProvisao:t.t1},t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.loadAll=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPessoas();case 2:return t.t0=e,t.next=5,le.a.getBase("getHistoricos.php");case 5:return t.t1=t.sent,t.next=8,le.a.getHistoricosOptions();case 8:return t.t2=t.sent,t.next=11,le.a.getBase("getPlanosContasAnaliticas.php");case 11:return t.t3=t.sent,t.next=14,le.a.getPlanosContasAnaliticasOptions();case 14:return t.t4=t.sent,t.next=17,le.a.getBase("getCentrosCustos.php");case 17:return t.t5=t.sent,t.next=20,le.a.getBase("getTiposLancamento.php");case 20:return t.t6=t.sent,t.next=23,le.a.getTiposLancamentoOptions();case 23:return t.t7=t.sent,t.next=26,le.a.getBase("getMeiosPagamentos.php");case 26:return t.t8=t.sent,t.next=29,le.a.getMeiosPagamentosOptions();case 29:return t.t9=t.sent,t.next=32,le.a.getBody("getParametros.php",{token:!0,empresa:e.state.usuarioLogado.empresa});case 32:return t.t10=t.sent,t.next=35,le.a.getBaseOptions("getNavios.php","nome","chave");case 35:return t.t11=t.sent,t.next=38,le.a.getBaseOptions("getPortos.php","Descricao","Chave");case 38:return t.t12=t.sent,t.next=41,le.a.getBase("getTiposAcessos.php");case 41:return t.t13=t.sent,t.next=44,le.a.getBase("getPermissoes.php");case 44:return t.t14=t.sent,t.t15={historicos:t.t1,historicosOptions:t.t2,planosContas:t.t3,planosContasOptions:t.t4,centrosCustos:t.t5,tiposDocumentos:t.t6,tiposDocumentosOptions:t.t7,meiosPagamentos:t.t8,meiosPagamentosOptions:t.t9,parametros:t.t10,naviosOptions:t.t11,portosOptions:t.t12,acessos:t.t13,permissoes:t.t14},t.next=48,t.t0.setState.call(t.t0,t.t15);case 48:if(e.setState({centrosCustosOptions:e.state.centrosCustos.map((function(e){return{label:"CC: ".concat(e.Codigo," - ").concat(e.Descricao),value:e.Chave}}))}),!e.state.chave){t.next=65;break}return t.next=52,le.a.getBody("getLancamentoConta.php",{chavePr:e.state.chave});case 52:return(a=t.sent)[0]&&e.setState({contabilizada:a[0].Chave}),t.next=56,le.a.getBody("getContasDescontos.php",{token:!0,chave_conta_aberto:e.state.chave});case 56:if(t.sent.map((function(t){switch(t.tipo){case"DESCONTO":e.setState({desconto:t.valor,descontoComplemento:t.complemento});break;case"INSS":e.setState({retencaoInss:t.valor,retencaoInssComplemento:t.complemento,retencaoInssCheck:!0});break;case"IR":e.setState({retencaoIr:t.valor,retencaoIrComplemento:t.complemento,retencaoIrCheck:!0});break;case"ISS":e.setState({retencaoIss:t.valor,retencaoIssComplemento:t.complemento,retencaoIssCheck:!0});break;case"PIS":e.setState({retencaoPis:t.valor,retencaoPisComplemento:t.complemento,retencaoPisCheck:!0});break;case"COFINS":e.setState({retencaoCofins:t.valor,retencaoCofinsComplemento:t.complemento,retencaoCofinsCheck:!0});break;case"CRF":e.setState({retencaoCsll:t.valor,retencaoCsllComplemento:t.complemento,retencaoCsllCheck:!0})}})),1!=e.state.tipo){t.next=65;break}return t.t16=e,t.next=62,le.a.getContaPessoa(e.state.pessoa,"provisao");case 62:t.t17=t.sent,t.t18={contaProvisao:t.t17},t.t16.setState.call(t.t16,t.t18);case 65:return(o=e.state.planosContasOptions).unshift({label:"Select...",value:""}),t.t19=e,t.t20=o,t.t21=e.state.parametros[0].conta_desconto,t.t22=e.state.parametros[0].conta_retencao_inss,t.t23=e.state.parametros[0].conta_retencao_ir,t.t24=e.state.parametros[0].conta_retencao_iss,t.t25=e.state.parametros[0].conta_retencao_pis,t.t26=e.state.parametros[0].conta_retencao_cofins,t.t27=e.state.parametros[0].conta_retencao_csll,t.next=78,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 78:return t.t28=t.sent,t.t29={planosContasOptions:t.t20,descontoConta:t.t21,parametroInss:t.t22,parametroIr:t.t23,parametroIss:t.t24,parametroPis:t.t25,parametroCofins:t.t26,parametroCsll:t.t27,acessosPermissoes:t.t28,loading:!1},t.next=82,t.t19.setState.call(t.t19,t.t29);case 82:case"end":return t.stop()}}),t)}))),e.getPessoas=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!=e.state.tipo){t.next=12;break}return t.t0=e,t.next=4,le.a.getBase("getClientes.php");case 4:return t.t1=t.sent,t.next=7,le.a.getBaseOptionsCustomLabel("getClientes.php","Nome","Cnpj_Cpf","Chave");case 7:t.t2=t.sent,t.t3={pessoas:t.t1,pessoasOptions:t.t2},t.t0.setState.call(t.t0,t.t3),t.next=22;break;case 12:if("1"!=e.state.tipo){t.next=22;break}return t.t4=e,t.next=16,le.a.getBase("getFornecedores.php");case 16:return t.t5=t.sent,t.next=19,le.a.getBaseOptionsCustomLabel("getFornecedores.php","Nome","Cnpj_Cpf","Chave");case 19:t.t6=t.sent,t.t7={pessoas:t.t5,pessoasOptions:t.t6},t.t4.setState.call(t.t4,t.t7);case 22:case"end":return t.stop()}}),t)}))),e.getContasComplementar=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.post("getContasComplementar.php",{token:!0,chave:e.state.chave}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]){t.next=9;break}return t.next=3,e.setState({contaComplementar:a.data[0]});case 3:return t.next=5,e.setState({codigoReceita:e.state.contaComplementar.codigo_receita,contribuinte:e.state.contaComplementar.contribuinte,codigoIdentificadorTributo:e.state.contaComplementar.codigo_identificador_tributo,mesCompetNumRef:e.state.contaComplementar.mes_compet_num_ref,dataApuracao:e.state.contaComplementar.data_apuracao,darfValor:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.contaComplementar.valor),darfMulta:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.contaComplementar.valor_multa),darfJuros:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.contaComplementar.valor_juros),darfOutros:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.contaComplementar.valor_outros),darfPagamento:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.state.contaComplementar.valor_pagamento),tipoPix:e.state.contaComplementar.tipo_pix});case 5:return t.next=7,e.setState({dadosIniciaisDarf:[{titulo:"codigo_receita",valor:e.state.codigoReceita},{titulo:"contribuinte",valor:e.state.contribuinte},{titulo:"codigo_identificador_tributo",valor:e.state.codigoIdentificadorTributo},{titulo:"mes_compet_num_ref",valor:e.state.mesCompetNumRef},{titulo:"data_apuracao",valor:e.state.dataApuracao},{titulo:"valor",valor:e.state.darfValor},{titulo:"valor_multa",valor:e.state.darfMulta},{titulo:"valor_juros",valor:e.state.darfJuros},{titulo:"valor_outros",valor:e.state.darfOutros},{titulo:"valor_pagamento",valor:e.state.darfPagamento},{titulo:"tipo_pix",valor:e.state.tipoPix}]});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("erro: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),e.salvarConta=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n,r,s,c,l,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0,loading:!0}),"PIX"!==e.state.meioPagamentoNome){t.next=20;break}return t.next=5,le.a.getBody("getContatos.php",{pessoa:e.state.pessoa});case 5:if(o=t.sent,!(n=o.find((function(e){return"PX"===e.Tipo})))){t.next=17;break}t.t0=n.Campo2,t.next="Telefone"===t.t0?11:"E-mail"===t.t0?13:"CPF/CNPJ"===t.t0?15:17;break;case 11:return e.setState({tipoPix:1}),t.abrupt("break",17);case 13:return e.setState({tipoPix:2}),t.abrupt("break",17);case 15:return e.setState({tipoPix:3}),t.abrupt("break",17);case 17:if(e.state.tipoPix){t.next=20;break}return e.setState({loading:!1}),t.abrupt("return");case 20:return t.next=22,e.setState({dadosFinais:[{titulo:"Tipo",valor:K.a.formatForLogs(e.state.tipo,"options","","",e.state.tiposOptions)},{titulo:"Lan\xe7amento",valor:K.a.formatForLogs(e.state.lancamento,"date")},{titulo:"Envio",valor:K.a.formatForLogs(e.state.envio,"date")},{titulo:"Documento",valor:K.a.formatForLogs(e.state.documento)},{titulo:"Parcela Inicial",valor:K.a.formatForLogs(e.state.parcelaInicial)},{titulo:"Parcela Final",valor:K.a.formatForLogs(e.state.parcelaFinal)},{titulo:"Hist\xf3rico",valor:K.a.formatForLogs(e.state.historico)},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Vencimento Original",valor:K.a.formatForLogs(e.state.vencimentoOrig,"date")},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Saldo",valor:K.a.formatForLogs(e.state.saldo,"money")},{titulo:"Centro Custo",valor:K.a.formatForLogs(e.state.centroCusto,"options","","",e.state.centrosCustosOptions)},{titulo:"Conta Provis\xe3o",valor:K.a.formatForLogs(e.state.contaProvisao,"options","","",e.state.planosContasOptions)},{titulo:"Conta D\xe9bito",valor:K.a.formatForLogs(e.state.contaContabil,"options","","",e.state.planosContasOptions)},{titulo:"Conta Desconto",valor:K.a.formatForLogs(e.state.contaDesconto,"options","","",e.state.planosContasOptions)},{titulo:"Pessoa",valor:K.a.formatForLogs(e.state.pessoa,"options","","",e.state.pessoasOptions)},{titulo:"Operador",valor:K.a.formatForLogs(e.state.usuarioLogado.nome)},{titulo:"Conta Bloqueto",valor:K.a.formatForLogs(e.state.contaBloqueto,"options","","",e.state.planosContasOptions)},{titulo:"Tipo de Documento",valor:K.a.formatForLogs(e.state.tipoDocumento,"options","","",e.state.tiposDocumentosOptions)},{titulo:"Meio Pagamento",valor:K.a.formatForLogs(e.state.meioPagamento,"options","","",e.state.meiosPagamentosOptions)},{titulo:"OS manual",valor:K.a.formatForLogs(e.state.os)},{titulo:"Navio manual",valor:K.a.formatForLogs(e.state.navio,"options","","",e.state.naviosOptions)},{titulo:"Porto manual",valor:K.a.formatForLogs(e.state.porto,"options","","",e.state.portosOptions)},{titulo:"ROE manual",valor:K.a.formatForLogs(e.state.roe)},{titulo:"Discount manual",valor:K.a.formatForLogs(e.state.discount)},{titulo:"Received manual",valor:K.a.formatForLogs(e.state.received)},{titulo:"Sailed manual",valor:K.a.formatForLogs(e.state.sailed,"date")}],loading:!0});case 22:if(!a){t.next=44;break}if(0!==parseInt(e.state.chave)){t.next=33;break}if(0!=e.state.tipo){t.next=29;break}return t.next=27,ae.a.post("insertContaCliente.php",{token:!0,values:"'".concat(e.state.lancamento,"', '").concat(e.state.tipo,"', '").concat(e.state.pessoa,"', '").concat(e.state.contaContabil,"', '").concat(e.state.centroCusto,"', '").concat(e.state.contaDesconto,"', '").concat(e.state.historico,"', '").concat(e.state.parcelaInicial,"', '").concat(e.state.parcelaFinal,"', '").concat(e.state.numBoleto,"', '").concat(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.vencimento,"', '").concat(e.state.vencimentoOrig,"', '").concat(e.state.contaProvisao,"', '").concat(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.usuarioLogado.codigo,"', '").concat(e.state.empresa,"', '").concat(e.state.documento,"', '").concat(e.state.tipoDocumento,"', '").concat(e.state.meioPagamento,"', '").concat(e.state.envio,"'"),meioPagamento:e.state.meioPagamentoNome,valuesDarf:"GRU"==e.state.meioPagamentoNome?"'".concat(e.state.contribuinte,"'"):"PIX"===e.state.meioPagamentoNome?"'".concat(e.state.tipoPix,"'"):"'".concat(e.state.codigoReceita,"', '").concat(e.state.contribuinte,"', '").concat(e.state.codigoIdentificadorTributo,"', '").concat(e.state.mesCompetNumRef,"', '").concat(N()(e.state.dataApuracao).format("YYYY-MM-DD"),"', '").concat(parseFloat(e.state.darfValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfMulta.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfJuros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfOutros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfPagamento.replaceAll(".","").replaceAll(",",".")),"'"),dadosManuais:e.state.manual?"'".concat(e.state.os,"', '").concat(e.state.navio,"', '").concat(e.state.porto,"', '").concat(e.state.roe.replaceAll(",","."),"', '").concat(parseFloat(e.state.discount.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.received.replaceAll(".","").replaceAll(",",".")),"', '").concat(N()(e.state.sailed).isValid()?N()(e.state.sailed).format("YYYY-MM-DD"):"","'"):""}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=12;break}return t.next=3,e.setState({chave:a.data[0].Chave,conta:a.data[0]});case 3:return t.next=5,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:if("DARF"!=e.state.meioPagamentoNome&&"GPS"!=e.state.meioPagamentoNome&&"GRU"!=e.state.meioPagamentoNome){t.next=8;break}return t.next=8,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 8:return t.next=10,e.setState({loading:!1,bloqueado:!1});case 10:t.next=14;break;case 12:return t.next=14,alert("Erro ".concat(JSON.stringify(a.data)));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 27:t.next=31;break;case 29:return t.next=31,ae.a.post("insertContaFornecedor.php",{token:!0,values:"'".concat(e.state.lancamento,"', '").concat(e.state.tipo,"', '").concat(e.state.pessoa,"', '").concat(e.state.contaContabil,"', '").concat(e.state.codBarras,"', '").concat(e.state.centroCusto,"', '").concat(e.state.historico,"',  '").concat(e.state.contaDesconto,"','").concat(e.state.parcelaInicial,"', '").concat(e.state.parcelaFinal,"', '").concat(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.vencimento,"', '").concat(e.state.vencimentoOrig,"', '").concat(e.state.contaProvisao,"', '").concat(parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),"', '").concat(e.state.usuarioLogado.codigo,"', '").concat(e.state.empresa,"', '").concat(e.state.documento,"', '").concat(e.state.tipoDocumento,"', '").concat(e.state.meioPagamento,"', '', '").concat(e.state.envio,"'"),meioPagamento:e.state.meioPagamentoNome,valuesDarf:"GRU"==e.state.meioPagamentoNome?"'".concat(e.state.contribuinte,"'"):"PIX"===e.state.meioPagamentoNome?"'".concat(e.state.tipoPix,"'"):"'".concat(e.state.codigoReceita,"', '").concat(e.state.contribuinte,"', '").concat(e.state.codigoIdentificadorTributo,"', '").concat(e.state.mesCompetNumRef,"', '").concat(N()(e.state.dataApuracao).format("YYYY-MM-DD"),"', '").concat(parseFloat(e.state.darfValor.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfMulta.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfJuros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfOutros.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.darfPagamento.replaceAll(".","").replaceAll(",",".")),"'"),dadosManuais:e.state.manual?"'".concat(e.state.os,"', '").concat(e.state.navio,"', '").concat(e.state.porto,"', '").concat(e.state.roe.replaceAll(",","."),"', '").concat(parseFloat(e.state.discount.replaceAll(".","").replaceAll(",",".")),"', '").concat(parseFloat(e.state.received.replaceAll(".","").replaceAll(",",".")),"', '").concat(N()(e.state.sailed).isValid()?N()(e.state.sailed).format("YYYY-MM-DD"):"","'"):""}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=12;break}return t.next=3,e.setState({chave:a.data[0].Chave,conta:a.data[0]});case 3:return t.next=5,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:if("DARF"!=e.state.meioPagamentoNome&&"GPS"!=e.state.meioPagamentoNome&&"GRU"!=e.state.meioPagamentoNome&&"PIX"!==e.state.meioPagamentoNome){t.next=8;break}return t.next=8,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 8:return t.next=10,e.setState({loading:!1,bloqueado:!1});case 10:t.next=14;break;case 12:return t.next=14,alert("Erro ".concat(JSON.stringify(a.data)));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 31:t.next=43;break;case 33:if(s=parseFloat(e.state.valor.replaceAll(".","").replaceAll(",","."))-parseFloat(e.state.conta.Valor),(c=(isNaN(parseFloat(null===(r=e.state.saldo)||void 0===r?void 0:r.replaceAll(".","").replaceAll(",",".")))?parseFloat(e.state.conta.Saldo):parseFloat(e.state.saldo.replaceAll(".","").replaceAll(",",".")))+(isNaN(s)?0:s))&&!isNaN(c)||(c=isNaN(parseFloat(null===(l=e.state.saldo)||void 0===l?void 0:l.replaceAll(".","").replaceAll(",",".")))?parseFloat(e.state.conta.Saldo):parseFloat(null===(i=e.state.saldo)||void 0===i?void 0:i.replaceAll(".","").replaceAll(",","."))),0!=e.state.tipo){t.next=41;break}return t.next=39,ae.a.post("updateContaCliente.php",{token:!0,Chave:e.state.chave,Lancto:N()(e.state.lancamento).format("YYYY-MM-DD"),Tipo:e.state.tipo,Pessoa:e.state.pessoa,Conta_Contabil:e.state.contaContabil,Centro_Custo:e.state.centroCusto,Conta_Desconto:e.state.contaDesconto,Historico:e.state.historico,Parc_Ini:e.state.parcelaInicial,Parc_Fim:e.state.parcelaFinal,RepCodBar:e.state.numBoleto,Valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),Saldo:c,Vencimento:N()(e.state.vencimento).format("YYYY-MM-DD"),Vencimento_Original:N()(e.state.vencimentoOrig).format("YYYY-MM-DD"),Conta_Provisao:e.state.contaProvisao,Empresa:e.state.empresa,Docto:e.state.documento,tipodocto:e.state.tipoDocumento,meioPagamento:e.state.meioPagamento,envio:e.state.envio,meioPagamentoNome:e.state.meioPagamentoNome,codigo_receita:e.state.codigoReceita,contribuinte:e.state.contribuinte,codigo_identificador_tributo:e.state.codigoIdentificadorTributo,mes_compet_num_ref:e.state.mesCompetNumRef,data_apuracao:e.state.dataApuracao,darfValor:parseFloat(e.state.darfValor.replaceAll(".","").replaceAll(",",".")),darfMulta:parseFloat(e.state.darfMulta.replaceAll(".","").replaceAll(",",".")),darfJuros:parseFloat(e.state.darfJuros.replaceAll(".","").replaceAll(",",".")),darfOutros:parseFloat(e.state.darfOutros.replaceAll(".","").replaceAll(",",".")),darfPagamento:parseFloat(e.state.darfPagamento.replaceAll(".","").replaceAll(",",".")),tipo_pix:e.state.tipoPix,os_manual:e.state.os,navio_manual:e.state.navio,porto_manual:e.state.porto,roe_manual:e.state.roe.replaceAll(",","."),discount_manual:parseFloat(e.state.discount.replaceAll(".","").replaceAll(",",".")),received_manual:parseFloat(e.state.received.replaceAll(".","").replaceAll(",",".")),sailed_manual:N()(e.state.sailed).isValid()?N()(e.state.sailed).format("YYYY-MM-DD"):""}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=15;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"CONTAS EM ABERTO: ".concat(e.state.historico));case 3:if("DARF"!=e.state.meioPagamentoNome&&"GPS"!=e.state.meioPagamentoNome&&"GRU"!=e.state.meioPagamentoNome&&"PIX"!==e.state.meioPagamentoNome){t.next=11;break}if(""!=e.state.dadosIniciaisDarf[0].valor){t.next=9;break}return t.next=7,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",e.state.chave);case 7:t.next=11;break;case 9:return t.next=11,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,e.state.dadosIniciaisDarf,e.state.dadosFinaisDarf,e.state.chave,"CONTAS EM ABERTO COMPLEMENTAR: ".concat(e.state.chave));case 11:return t.next=13,e.setState({loading:!1,bloqueado:!1});case 13:t.next=17;break;case 15:return t.next=17,alert("Erro ".concat(JSON.stringify(a.data)));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 39:t.next=43;break;case 41:return t.next=43,ae.a.post("updateContaFornecedor.php",{token:!0,Chave:e.state.chave,Lancto:N()(e.state.lancamento).format("YYYY-MM-DD"),Tipo:e.state.tipo,Pessoa:e.state.pessoa,Conta_Contabil:e.state.contaContabil,RepCodBar:e.state.codBarras,Centro_Custo:e.state.centroCusto,Historico:e.state.historico,Conta_Desconto:e.state.contaDesconto,Parc_Ini:e.state.parcelaInicial,Parc_Fim:e.state.parcelaFinal,Valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),Saldo:c,Vencimento:N()(e.state.vencimento).format("YYYY-MM-DD"),Vencimento_Original:N()(e.state.vencimentoOrig).format("YYYY-MM-DD"),Conta_Provisao:e.state.contaProvisao,Empresa:e.state.empresa,Docto:e.state.documento,tipodocto:e.state.tipoDocumento,meioPagamento:e.state.meioPagamento,envio:e.state.envio,meioPagamentoNome:e.state.meioPagamentoNome,codigo_receita:e.state.codigoReceita,contribuinte:e.state.contribuinte,codigo_identificador_tributo:e.state.codigoIdentificadorTributo,mes_compet_num_ref:e.state.mesCompetNumRef,data_apuracao:e.state.dataApuracao,darfValor:parseFloat(e.state.darfValor.replaceAll(".","").replaceAll(",",".")),darfMulta:parseFloat(e.state.darfMulta.replaceAll(".","").replaceAll(",",".")),darfJuros:parseFloat(e.state.darfJuros.replaceAll(".","").replaceAll(",",".")),darfOutros:parseFloat(e.state.darfOutros.replaceAll(".","").replaceAll(",",".")),darfPagamento:parseFloat(e.state.darfPagamento.replaceAll(".","").replaceAll(",",".")),tipo_pix:e.state.tipoPix,os_manual:e.state.os,navio_manual:e.state.navio,porto_manual:e.state.porto,roe_manual:e.state.roe.replaceAll(",","."),discount_manual:parseFloat(e.state.discount.replaceAll(".","").replaceAll(",",".")),received_manual:parseFloat(e.state.received.replaceAll(".","").replaceAll(",",".")),sailed_manual:N()(e.state.sailed).isValid()?N()(e.state.sailed).format("YYYY-MM-DD"):""}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=15;break}return t.next=3,le.a.salvaLogs("contas_aberto",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"CONTAS EM ABERTO: ".concat(e.state.historico));case 3:if("DARF"!=e.state.meioPagamentoNome&&"GPS"!=e.state.meioPagamentoNome&&"GRU"!=e.state.meioPagamentoNome&&"PIX"!==e.state.meioPagamentoNome){t.next=11;break}if(""!=e.state.dadosIniciaisDarf[0].valor){t.next=9;break}return t.next=7,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",e.state.chave);case 7:t.next=11;break;case 9:return t.next=11,le.a.salvaLogs("contas_aberto_complementar",e.state.usuarioLogado.codigo,e.state.dadosIniciaisDarf,e.state.dadosFinaisDarf,e.state.chave,"CONTAS EM ABERTO COMPLEMENTAR: ".concat(e.state.chave));case 11:return t.next=13,e.setState({loading:!1,bloqueado:!1});case 13:t.next=17;break;case 15:return t.next=17,alert("Erro ".concat(JSON.stringify(a.data)));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 43:e.salvaRetencoes();case 44:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.salvaRetencoes=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{valor:e.state.desconto,complemento:e.state.descontoComplemento,conta:e.state.descontoConta,check:!0,tipo:"DESCONTO"},{valor:e.state.retencaoInss,complemento:e.state.retencaoInssComplemento,conta:e.state.retencaoInssConta,check:e.state.retencaoInssCheck,tipo:"INSS"},{valor:e.state.retencaoIr,complemento:e.state.retencaoIrComplemento,conta:e.state.retencaoIrConta,check:e.state.retencaoIrCheck,tipo:"IR"},{valor:e.state.retencaoIss,complemento:e.state.retencaoIssComplemento,conta:e.state.retencaoIssConta,check:e.state.retencaoIssCheck,tipo:"ISS"},{valor:e.state.retencaoCsll,complemento:e.state.retencaoCsllComplemento,conta:e.state.retencaoCsllConta,check:e.state.retencaoCsllCheck,tipo:"CRF"}],t.next=3,le.a.postContasDescontos(a,e.state.chave);case 3:case"end":return t.stop()}}),t)}))),e.contabilizarConta=function(){var t=Object(G.a)(z.a.mark((function t(a){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.salvarConta(a);case 2:if(e.setState({bloqueado:!0,loading:!0}),o=[{valor:e.state.desconto,complemento:e.state.descontoComplemento,conta:e.state.descontoConta,check:!!e.state.desconto},{valor:e.state.retencaoInss,complemento:e.state.retencaoInssComplemento,conta:e.state.retencaoInssConta,check:e.state.retencaoInssCheck},{valor:e.state.retencaoIr,complemento:e.state.retencaoIrComplemento,conta:e.state.retencaoIrConta,check:e.state.retencaoIrCheck},{valor:e.state.retencaoIss,complemento:e.state.retencaoIssComplemento,conta:e.state.retencaoIssConta,check:e.state.retencaoIssCheck},{valor:e.state.retencaoPis,complemento:e.state.retencaoPisComplemento,conta:e.state.retencaoPisConta,check:e.state.retencaoPisCheck},{valor:e.state.retencaoCofins,complemento:e.state.retencaoCofinsComplemento,conta:e.state.retencaoCofinsConta,check:e.state.retencaoCofinsCheck},{valor:e.state.retencaoCsll,complemento:e.state.retencaoCsllComplemento,conta:e.state.retencaoCsllConta,check:e.state.retencaoCsllCheck}],!a){t.next=7;break}return t.next=7,ae.a.post("contabilizaContasAberto.php",{token:!0,data:e.state.lancamento,conta_credito:1==e.state.tipo?e.state.contaProvisao:e.state.contaContabil,conta_debito:1==e.state.tipo?e.state.contaContabil:e.state.contaProvisao,tipo_documento:e.state.tipoDocumento,centro_custo:e.state.centroCusto,historico_padrao:e.state.historicoPadrao,historico:e.state.historico,pessoa:e.state.pessoa,valor:parseFloat(e.state.valor.replaceAll(".","").replaceAll(",",".")),chavePr:e.state.chave,usuario_inclusao:e.state.usuarioLogado.codigo,usuario_alteracao:e.state.usuarioLogado.codigo,data_inclusao:N()().format("YYYY-MM-DD"),data_alteracao:N()().format("YYYY-MM-DD"),extras:o}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0]||!a.data[0][0].Chave){t.next=9;break}return t.next=3,e.setState({contabilizada:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("lancamentos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=9;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraModal=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({modal:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraPessoa=function(){var t=Object(G.a)(z.a.mark((function t(a,o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!=e.state.tipo||"1"!=o.split("")[0]){t.next=3;break}return t.next=3,e.setState({pessoa:a});case 3:if("1"!=e.state.tipo||"1"!=o.split("")[1]){t.next=6;break}return t.next=6,e.setState({pessoa:a});case 6:return t.next=8,e.setState({modalAberto:!1});case 8:return t.next=10,e.getPessoas();case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.alteraCentroCusto=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({centroCusto:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.t0=e,t.next=7,le.a.getBase("getCentrosCustos.php");case 7:return t.t1=t.sent,t.t2={centrosCustos:t.t1},t.next=11,t.t0.setState.call(t.t0,t.t2);case 11:return t.next=13,e.setState({centrosCustosOptions:e.state.centrosCustos.map((function(e){return{label:"CC: ".concat(e.Codigo," - ").concat(e.Descricao),value:e.chave}}))});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraNavio=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({navio:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.t0=e,t.next=7,le.a.getBase("getNavios.php");case 7:return t.t1=t.sent,t.t2={navios:t.t1},t.next=11,t.t0.setState.call(t.t0,t.t2);case 11:return t.next=13,e.setState({naviosOptions:e.state.navios.map((function(e){return{label:"".concat(e.nome),value:e.chave}}))});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.alteraPorto=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({porto:a});case 2:return t.next=4,e.setState({modalAberto:!1});case 4:return t.t0=e,t.next=7,le.a.getBase("getPortos.php");case 7:return t.t1=t.sent,t.t2={portos:t.t1},t.next=11,t.t0.setState.call(t.t0,t.t2);case 11:return t.next=13,e.setState({portosOptions:e.state.portos.map((function(e){return{label:"".concat(e.Descricao),value:e.Chave}}))});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.procuraOS=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.a.getBody("getOSConta.php",{token:!0,codigo:e.state.os});case 2:(o=t.sent)&&o[0]&&o[0].Chave?o[0].Data_Faturamento&&N()(o[0].Data_Faturamento).isValid()&&o[0].centro_custo?e.setState({alert:{type:"error",msg:"J\xe1 h\xe1 uma conta com essa ST!"},osExiste:!0}):e.setState({alert:{type:"error",msg:"OS j\xe1 existe no sistema!"},osExiste:!0}):o&&(null===(a=o[0])||void 0===a?void 0:a.conta)&&e.setState({alert:{type:"error",msg:"J\xe1 h\xe1 uma conta com essa ST!"},osExiste:!0});case 4:case"end":return t.stop()}}),t)}))),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("contas_aberto",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.mudaRetencao=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("INSS"!=a){t.next=10;break}if(!e.state.retencaoInssCheck){t.next=6;break}return t.next=4,e.setState({retencaoInssCheck:!1,retencaoInssConta:0,retencaoInss:"",retencaoInssComplemento:""});case 4:t.next=8;break;case 6:return t.next=8,e.setState({retencaoInssCheck:!0,retencaoInssConta:e.state.parametroInss});case 8:t.next=58;break;case 10:if("IR"!=a){t.next=20;break}if(!e.state.retencaoIrCheck){t.next=16;break}return t.next=14,e.setState({retencaoIrCheck:!1,retencaoIrConta:0,retencaoIr:"",retencaoIrComplemento:""});case 14:t.next=18;break;case 16:return t.next=18,e.setState({retencaoIrCheck:!0,retencaoIrConta:e.state.parametroIr});case 18:t.next=58;break;case 20:if("ISS"!=a){t.next=30;break}if(!e.state.retencaoIssCheck){t.next=26;break}return t.next=24,e.setState({retencaoIssCheck:!1,retencaoIssConta:0,retencaoIss:"0",retencaoIssComplemento:""});case 24:t.next=28;break;case 26:return t.next=28,e.setState({retencaoIssCheck:!0,retencaoIssConta:e.state.parametroIss});case 28:t.next=58;break;case 30:if("PIS"!=a){t.next=40;break}if(!e.state.retencaoPisCheck){t.next=36;break}return t.next=34,e.setState({retencaoPisCheck:!1,retencaoPisConta:0,retencaoPis:"",retencaoPisComplemento:""});case 34:t.next=38;break;case 36:return t.next=38,e.setState({retencaoPisCheck:!0,retencaoPisConta:e.state.parametroPis});case 38:t.next=58;break;case 40:if("COFINS"!=a){t.next=50;break}if(!e.state.retencaoCofinsCheck){t.next=46;break}return t.next=44,e.setState({retencaoCofinsCheck:!1,retencaoCofinsConta:0,retencaoCofins:"",retencaoCofinsComplemento:""});case 44:t.next=48;break;case 46:return t.next=48,e.setState({retencaoCofinsCheck:!0,retencaoCofinsConta:e.state.parametroCofins});case 48:t.next=58;break;case 50:if("CSLL"!=a){t.next=58;break}if(!e.state.retencaoCsllCheck){t.next=56;break}return t.next=54,e.setState({retencaoCsllCheck:!1,retencaoCsllConta:0,retencaoCsll:"",retencaoCsllComplemento:""});case 54:t.next=58;break;case 56:return t.next=58,e.setState({retencaoCsllCheck:!0,retencaoCsllConta:e.state.parametroCsll});case 58:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.testaValores=function(){return parseFloat(e.state.desconto.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoPis.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoCofins.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoCsll.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoInss.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoIr.replaceAll(".","").replaceAll(",","."))+parseFloat(e.state.retencaoIss.replaceAll(".","").replaceAll(",","."))>parseFloat(e.state.valor.replaceAll(".","").replaceAll(",","."))},e}return Object(H.a)(a,[{key:"render",value:function(){var e,t,a=this,o=[];o.push(this.state.tipo),o.push(this.state.pessoa),o.push(!this.state.ultimaTransacao[0]||0==this.state.ultimaTransacao[0].id_status||1==this.state.ultimaTransacao[0].id_status),o.push(this.state.vencimento||0==this.state.tipo),o.push(this.state.vencimentoOrig||0==this.state.tipo),o.push(this.state.valor&&this.state.valor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.valor.replaceAll(".","").replaceAll(",","."))),o.push(this.state.meioPagamento||0==this.state.tipo),o.push(0==this.state.tipo||this.state.contaDesconto),o.push("GRU"!=this.state.meioPagamentoNome&&"BOL"!=this.state.meioPagamentoNome||this.state.codBarras),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoReceita),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome&&"GRU"!=this.state.meioPagamentoNome||this.state.contribuinte),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.codigoIdentificadorTributo),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.mesCompetNumRef),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.dataApuracao),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfValor&&this.state.darfValor.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfValor.replaceAll(".","").replaceAll(",","."))),o.push("DARF"!=this.state.meioPagamentoNome&&"GPS"!=this.state.meioPagamentoNome||this.state.darfPagamento&&this.state.darfPagamento.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.darfPagamento.replaceAll(".","").replaceAll(",","."))),o.push(!this.state.os||-1==(null===(e="".concat(this.state.roe))||void 0===e?void 0:e.indexOf("."))),o.push(!this.state.osExiste),o.push(!this.state.bloqueado);var n=o.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,"contasabertas"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasAbertas:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"contasreceber"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasReceber:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"contaspagar"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasPagar:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"pagamentoslote"==this.props.location.state.to&&m.a.createElement(se.a,{voltarPagamentosLote:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"recebimentospix"==this.props.location.state.to&&m.a.createElement(se.a,{voltarRecebimentosPix:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"contasliquidadas"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasLiquidadas:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"contasrecebidas"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasRecebidas:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),"contaspagas"==this.props.location.state.to&&m.a.createElement(se.a,{voltarContasPagas:!0,titulo:"Conta",chave:0!=this.state.chave?this.state.chave:""}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement(Ea.a,{alert:this.state.alert,setAlert:function(e){return a.setState({alert:e})}}),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return a.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){a.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.historico,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement(Qt.a,{alteraModal:this.alteraModal,alteraCliente:this.alteraPessoa,alteraCentroCusto:this.alteraCentroCusto,alteraNavio:this.alteraNavio,alteraPorto:this.alteraPorto,modalAberto:this.state.modalAberto,modal:this.state.modal,modalLista:this.state.modalLista,pesquisa:this.state.modalPesquisa,acessosPermissoes:this.state.acessosPermissoes,closeModal:function(){a.setState({modalAberto:!1})}}),m.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",justifyContent:"center",paddingTop:"5%",paddingBottom:"5%",overflow:"scroll"},open:this.state.descontosModal,onClose:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({descontosModal:!1});case 2:case"end":return e.stop()}}),e)})))},m.a.createElement("div",{className:"modalContainer"},m.a.createElement("div",{className:"modalCriar"},m.a.createElement("div",{className:"containersairlistprodmodal"},m.a.createElement("div",{className:"botaoSairModal",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({descontosModal:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},m.a.createElement("span",null,"X"))),m.a.createElement("div",{className:"modalContent"},m.a.createElement("div",{className:"modalForm"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"row addservicos"},m.a.createElement("div",{className:"col-12 checkboxesDiv"},m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"INSS"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoInssCheck,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mudaRetencao("INSS");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"IR"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoIrCheck,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mudaRetencao("IR");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"ISS"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoIssCheck,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mudaRetencao("ISS");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",null,m.a.createElement("label",{className:"smallCheckbox"},"CRF"),m.a.createElement("input",{className:"smallCheckbox",type:"checkbox",checked:this.state.retencaoCsllCheck,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mudaRetencao("CSLL");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Desconto")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{isDisabled:!0,className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.descontoConta}))[0]})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.desconto,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({desconto:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({desconto:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.descontoComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({descontoComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.retencaoInssCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o INSS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoInssConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoInss,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoInss:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoInss:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoInssComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoInssComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),this.state.retencaoIrCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o IR")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoIrConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoIr,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIr:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIr:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoIrComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIrComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),this.state.retencaoIssCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o ISS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoIssConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoIss,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIss:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIss:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoIssComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoIssComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),this.state.retencaoPisCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o PIS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoPisConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoPis,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoPis:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoPis:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoPisComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoPisComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),this.state.retencaoCofinsCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xe3o COFINS")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoCofinsConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoCofins,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCofins:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCofins:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoCofinsComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCofinsComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),this.state.retencaoCsllCheck&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),m.a.createElement("div",{className:"col-12 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Reten\xe7\xf5es CRF")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Conta")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-4 text-center",style:{height:"25px"}},m.a.createElement("label",null,"Complem.")),m.a.createElement("div",{className:"col-4"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.retencaoCsllConta}))[0],search:!0,isDisabled:!0})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect text-right",type:"text",onClick:function(e){return e.target.select()},value:this.state.retencaoCsll,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCsll:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCsll:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-4"},m.a.createElement($.a,{className:"form-control nextToSelect",type:"text",value:this.state.retencaoCsllComplemento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({retencaoCsllComplemento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"}))))))))),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:a.salvarConta(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),0==this.state.chave&&m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo")),0==this.state.chave&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.tipo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),0==this.state.chave&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{value:this.state.tipo,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({tipo:t.currentTarget.value,pessoa:""});case 2:return e.next=4,a.getPessoas();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"form-control"},this.state.tiposOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Lan\xe7amento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.lancamento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({lancamento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data de envio")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.envio,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({envio:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),this.state.tipo&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},"0"===this.state.tipo&&m.a.createElement("label",null,"Cliente"),1==this.state.tipo&&m.a.createElement("label",null,"Fornecedor")),this.state.tipo&&m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.pessoa&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-6 col-lg-5 col-md-5 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(e){return a.filterSearch(e,a.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({pessoasOptionsTexto:e})},value:this.state.pessoasOptions.filter((function(e){return e.value==a.state.pessoa}))[0],search:!0,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({pessoa:t.value});case 2:if(1!=a.state.tipo||!a.state.provisaoCheck){e.next=12;break}return e.t0=a,e.next=6,le.a.getContaPessoa(a.state.pessoa,"provisao");case 6:return e.t1=e.sent,e.t2={contaProvisao:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:e.next=20;break;case 12:if(0!=a.state.tipo){e.next=20;break}return e.t3=a,e.next=16,le.a.getContaPessoa(a.state.pessoa);case 16:return e.t4=e.sent,e.t5={contaDesconto:e.t4},e.next=20,e.t3.setState.call(e.t3,e.t5);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-2 col-sm-12 col-12"},1==this.state.acessosPermissoes.filter((function(e){if("PESSOAS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.pessoas[0]){e.next=3;break}e.next=21;break;case 3:if("0"!=a.state.tipo){e.next=13;break}return e.t0=a,e.next=7,le.a.getBase("getClientes.php");case 7:return e.t1=e.sent,e.t2={pessoas:e.t1},e.next=11,e.t0.setState.call(e.t0,e.t2);case 11:e.next=21;break;case 13:if("1"!=a.state.tipo){e.next=21;break}return e.t3=a,e.next=17,le.a.getBase("getFornecedores.php");case 17:return e.t4=e.sent,e.t5={pessoas:e.t4},e.next=21,e.t3.setState.call(e.t3,e.t5);case 21:return e.next=23,a.setState({modalAberto:!0,modal:"listarCliente",modalPesquisa:a.state.pessoa,modalLista:a.state.pessoas});case 23:case"end":return e.stop()}}),e)})))},"..."))),1==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta D\xe9bito")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.contaContabil}))[0],search:!0,onChange:function(e){a.setState({contaContabil:e.value})}}))),1==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico Padr\xe3o")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.historicosOptions.filter((function(e){return a.filterSearch(e,a.state.historicosOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({historicosOptionsTexto:e})},value:this.state.historicosOptions.filter((function(e){return e.label==a.state.historico}))[0],search:!0,onChange:function(e){a.setState({historico:e.label})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.historico,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({historico:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Documento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.documento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({documento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo de Documento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.tiposDocumentosOptions.filter((function(e){return a.filterSearch(e,a.state.tiposDocumentosOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({tiposDocumentosOptionsTexto:e})},value:this.state.tiposDocumentosOptions.filter((function(e){return e.value==a.state.tipoDocumento}))[0],search:!0,onChange:function(e){a.setState({tipoDocumento:e.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Parcelas")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-4 col-4"},m.a.createElement($.a,{className:"form-control",type:"number",value:this.state.parcelaInicial,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({parcelaInicial:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 labelForm"},m.a.createElement("label",null,"/")),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-4 col-4"},m.a.createElement($.a,{className:"form-control",type:"number",value:this.state.parcelaFinal,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({parcelaFinal:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.valor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.valor,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({valor:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({valor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),1==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.vencimento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.vencimento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({vencimento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.state.vencimentoOrig?{}:a.setState({vencimentoOrig:a.state.vencimento}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Venc. Original")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.vencimentoOrig&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.vencimentoOrig,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({vencimentoOrig:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),1==this.state.tipo&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3d. Barras")),1==this.state.tipo&&m.a.createElement("div",{className:"col-1 errorMessage"},("GRU"==this.state.meioPagamentoNome||"BOL"==this.state.meioPagamentoNome)&&!this.state.codBarras&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),1==this.state.tipo&&m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codBarras,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({codBarras:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),1==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Banco")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contaDesconto&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.planosContasOptions.filter((function(e){return a.filterSearch(e,a.state.planosContasOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({planosContasOptionsTexto:e})},value:this.state.planosContasOptions.filter((function(e){return e.value==a.state.contaDesconto}))[0],search:!0,onChange:function(e){a.setState({contaDesconto:e.value})}}))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Inser\xe7\xe3o manual")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("input",{className:"form_control",checked:this.state.manual,onChange:function(e){a.setState({manual:e.currentTarget.checked})},type:"checkbox"})),m.a.createElement("div",{className:"col-1"}),this.state.manual&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"OS")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.os,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({os:t.currentTarget.value,osExiste:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){return a.procuraOS()}})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Navio")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.naviosOptions.filter((function(e){return a.filterSearch(e,a.state.optionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({optionsTexto:e})},value:this.state.naviosOptions.find((function(e){return e.value==a.state.navio})),search:!0,onChange:function(e){a.setState({navio:e.value})}})),m.a.createElement("div",{className:"col-1"},1==this.state.acessosPermissoes.filter((function(e){if("NAVIOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.navios[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=a,e.next=6,le.a.getBase("getNavios.php");case 6:return e.t1=e.sent,e.t2={navios:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,a.setState({modalAberto:!0,modal:"listarNavios",modalPesquisa:a.state.navio,modalLista:a.state.navios});case 12:case"end":return e.stop()}}),e)})))},"...")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Porto")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.portosOptions.filter((function(e){return a.filterSearch(e,a.state.optionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({optionsTexto:e})},value:this.state.portosOptions.find((function(e){return e.value==a.state.porto})),search:!0,onChange:function(e){a.setState({porto:e.value})}})),m.a.createElement("div",{className:"col-1"},1==this.state.acessosPermissoes.filter((function(e){if("PORTOS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"insideFormButton",onClick:Object(G.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.portos[0]){e.next=3;break}e.next=10;break;case 3:return e.t0=a,e.next=6,le.a.getBase("getPortos.php");case 6:return e.t1=e.sent,e.t2={portos:e.t1},e.next=10,e.t0.setState.call(e.t0,e.t2);case 10:return e.next=12,a.setState({modalAberto:!0,modal:"listarPortos",modalPesquisa:a.state.porto,modalLista:a.state.portos});case 12:case"end":return e.stop()}}),e)})))},"...")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Sailed")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.sailed,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({sailed:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"ROE")),m.a.createElement("div",{className:"col-1 errorMessage"},-1!=(null===(t="".concat(this.state.roe))||void 0===t?void 0:t.indexOf("."))&&m.a.createElement(ee.a,{title:"ROE deve ser no formato de 0,00",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.roe,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({roe:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Descontos")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.discount,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({discount:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({discount:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Recebimento de Remessa")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.received,onClick:function(e){return e.target.select()},onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({received:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({received:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),1==this.state.tipo&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Meio de Pagamento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.meioPagamento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.meiosPagamentosOptions.filter((function(e){return a.filterSearch(e,a.state.meiosPagamentosOptionsTexto)})).slice(0,20),onInputChange:function(e){a.setState({meiosPagamentosOptionsTexto:e})},value:this.state.meiosPagamentosOptions.filter((function(e){return e.value==a.state.meioPagamento}))[0],search:!0,onChange:function(e){a.setState({meioPagamento:e.value,meioPagamentoNome:e.label})}}))),("DARF"==this.state.meioPagamentoNome||"GPS"==this.state.meioPagamentoNome||"GRU"==this.state.meioPagamentoNome)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("hr",null)),("DARF"==this.state.meioPagamentoNome||"GPS"==this.state.meioPagamentoNome)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo da receita")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoReceita&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codigoReceita,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({codigoReceita:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Contribuinte")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.contribuinte&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.contribuinte,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({contribuinte:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),("DARF"==this.state.meioPagamentoNome||"GPS"==this.state.meioPagamentoNome)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"C\xf3digo identicador do tributo")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.codigoIdentificadorTributo&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.codigoIdentificadorTributo,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({codigoIdentificadorTributo:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"N\xfamero de refer\xeancia")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.mesCompetNumRef&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.mesCompetNumRef,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({mesCompetNumRef:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Data de Apura\xe7\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.dataApuracao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.dataApuracao,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({dataApuracao:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfValor&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfValor,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfValor:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfValor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Multa")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfMulta,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfMulta:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfValor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Juros")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfJuros,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfJuros:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfValor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor de Pagamento")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.darfPagamento&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfPagamento,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfPagamento:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfPagamento:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Outros Valores")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:this.state.darfOutros,onChange:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfOutros:t.currentTarget.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({darfValor:Number(t.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n,type:"submit",style:n?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-4",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!n||0==this.state.chave||0!=this.state.contabilizada||this.testaValores(),title:this.state.contabilizada?"J\xe1 foi contabilizada":this.testaValores()?"Valores de reten\xe7\xf5es ultrapassam o valor da conta":"",onClick:function(){a.contabilizarConta(n&&0!=a.state.chave&&0==a.state.contabilizada&&!a.testaValores())},style:n&&0!=this.state.chave&&0==this.state.contabilizada&&!this.testaValores()?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Contabilizar")),m.a.createElement("div",{className:"col-1"}))))),m.a.createElement("br",null),0!=this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"centerDiv"},m.a.createElement("div",{className:"relatoriosSection centerDiv"},m.a.createElement("div",{className:"relatorioButton"},m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a.setState({descontosModal:!0})}},"Descontos e Reten\xe7\xf5es"))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),$n=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Jn),Kn=(a(950),{chave:0,logs:[],fatura:"",formulario:"",emissao:N()().format("YYYY-MM-DD"),vencimento:"",cliente:"",praca:"Rio Grande",observacoes:"",total:"",discriminacaoServico:"",atividade:1006,tributada:!1,enviarXml:!1,pessoas:[],pessoasOptions:[],pessoasOptionsTexto:"",formularios:[],acessos:[],permissoes:[],acessosPermissoes:[],atividadesOptions:[{label:"",value:""},{label:"Agenciamento Mar\xedtimo",value:"1006"},{label:"Outros servicos de transporte de natureza municipal",value:"1602"},{label:"Datilografia, digita\xe7\xe3o, estenografia, expediente",value:"1702"}]}),Qn=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},Kn),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:if(a=t.sent,0==e.state.usuarioLogado.empresa){t.next=7;break}return t.next=7,e.setState({empresa:e.state.usuarioLogado.empresa});case 7:return t.next=9,e.setState({chave:a});case 9:if(0===parseInt(a)){t.next=14;break}return t.next=12,e.setState({fatura:e.props.location.state.fatura});case 12:return t.next=14,e.setState({faturaNum:e.state.fatura.Fatura,emissao:N()(e.state.fatura.Emissao).format("YYYY-MM-DD"),vencimento:N()(e.state.fatura.Vencto).format("YYYY-MM-DD"),praca:e.state.fatura.Praca_Pagto,cliente:e.state.fatura.Cliente,atividade:e.state.fatura.atividade,total:e.state.fatura.Valor.replaceAll(".",","),observacoes:e.state.fatura.Obs,formulario:e.state.fatura.Formulario,formularioInicial:e.state.fatura.Formulario,discriminacaoServico:e.state.fatura.discriminacaoservico,tributada:!(!e.state.fatura.Cobranca||"0"==e.state.fatura.Cobranca)});case 14:return t.next=16,e.loadAll();case 16:if(0==e.state.chave){t.next=19;break}return t.next=19,e.setState({dadosIniciais:[{titulo:"Emissao",valor:K.a.formatForLogs(e.state.emissao,"date")},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Pra\xe7a Pagamento",valor:K.a.formatForLogs(e.state.praca)},{titulo:"Atividade",valor:K.a.formatForLogs(e.state.atividade,"options","","",e.state.atividadesOptions)},{titulo:"Cliente",valor:K.a.formatForLogs(e.state.cliente,"options","","",e.state.pessoasOptions)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.total,"money")},{titulo:"Obs",valor:K.a.formatForLogs(e.state.observacoes)},{titulo:"Formul\xe1rio",valor:K.a.formatForLogs(e.state.formulario)},{titulo:"Cobranca",valor:K.a.formatForLogs(e.state.tributada,"bool")},{titulo:"Discriminacao de Servico",valor:K.a.formatForLogs(e.state.discriminacaoServico)}]});case 19:e.state.acessosPermissoes.map((function(t){("FATURAS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"FATURAS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 20:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getFormularios.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBase("getPessoas.php");case 6:return t.t2=t.sent,t.next=9,le.a.getBaseOptionsCustomLabel("getPessoas.php","Nome","Cnpj_Cpf","Chave");case 9:return t.t3=t.sent,t.next=12,le.a.getBase("getTiposAcessos.php");case 12:return t.t4=t.sent,t.next=15,le.a.getBase("getPermissoes.php");case 15:return t.t5=t.sent,t.t6={formularios:t.t1,pessoas:t.t2,pessoasOptions:t.t3,acessos:t.t4,permissoes:t.t5},t.next=19,t.t0.setState.call(t.t0,t.t6);case 19:return(a=e.state.formularios.find((function(e){return"NFE"===e.Codigo})))&&e.setState({formulario:a.chave}),t.t7=e,t.next=24,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 24:return t.t8=t.sent,t.t9={acessosPermissoes:t.t8,loading:!1,bloqueado:!1},t.next=28,t.t7.setState.call(t.t7,t.t9);case 28:case"end":return t.stop()}}),t)}))),e.enviaNota=Object(G.a)(z.a.mark((function t(){var a,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mn.criaXml(e.state.chave);case 2:return a=t.sent,(o=document.createElement("a")).href=a.linkImpressao,o.target="_blank",o.click(),t.next=9,ae.a.post("updateFaturaNotaEnviada.php",{Chave:e.state.chave,chavenfe:a.numero,protocolonfe:a.autenticidade,urlqrcode:a.linkImpressao,serie:"S1"}).then();case 9:case"end":return t.stop()}}),t)}))),e.salvarFatura=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Emissao",valor:K.a.formatForLogs(e.state.emissao,"date")},{titulo:"Vencimento",valor:K.a.formatForLogs(e.state.vencimento,"date")},{titulo:"Pra\xe7a Pagamento",valor:K.a.formatForLogs(e.state.praca)},{titulo:"Atividade",valor:K.a.formatForLogs(e.state.atividade,"options","","",e.state.atividadesOptions)},{titulo:"Cliente",valor:K.a.formatForLogs(e.state.cliente,"options","","",e.state.pessoasOptions)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.total,"money")},{titulo:"Obs",valor:K.a.formatForLogs(e.state.observacoes)},{titulo:"Formul\xe1rio",valor:K.a.formatForLogs(e.state.formulario)},{titulo:"Cobranca",valor:K.a.formatForLogs(e.state.tributada,"bool")},{titulo:"Discriminacao de Servico",valor:K.a.formatForLogs(e.state.discriminacaoServico)}],loading:!0});case 4:if(0!==parseInt(e.state.chave)||!a){t.next=9;break}return t.next=7,ae.a.post("insertFatura.php",{token:!0,values:"'".concat(N()(e.state.emissao).format("YYYY-MM-DD"),"', '").concat(N()(e.state.vencimento).format("YYYY-MM-DD"),"', '").concat(e.state.praca,"', '").concat(e.state.cliente,"', '").concat(e.state.total.replaceAll(".","").replaceAll(",","."),"', '").concat(e.state.observacoes,"', '").concat(e.state.formulario,"', '").concat(e.state.tributada,"', '").concat(e.state.discriminacaoServico,"', '").concat(e.state.usuarioLogado.empresa,"', '").concat(e.state.atividade,"'"),formulario:e.state.formulario}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=9;break}return t.next=3,e.setState({chave:a.data[0].Chave});case 3:return t.next=5,le.a.salvaLogs("faturas",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].Chave);case 5:return t.next=7,e.setState({loading:!1,bloqueado:!1});case 7:t.next=11;break;case 9:return t.next=11,alert("Erro ".concat(JSON.stringify(a.data)));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:if(!a){t.next=12;break}return t.next=12,ae.a.post("updateFatura.php",{token:!0,Chave:e.state.chave,Emissao:N()(e.state.emissao).format("YYYY-MM-DD"),Vencto:N()(e.state.vencimento).format("YYYY-MM-DD"),Praca_Pagto:e.state.praca,Cliente:e.state.cliente,Valor:e.state.total.replaceAll(".","").replaceAll(",","."),Obs:e.state.observacoes,Cobranca:e.state.tributada?1:0,discriminacaoservico:e.state.discriminacaoServico,atividade:e.state.atividade}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("faturas",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,e.state.chave,"FATURA: ".concat(e.state.fatura));case 3:return t.next=5,e.setState({loading:!0});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a.data)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({redirect:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("faturas",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];t.push(this.state.emissao),t.push(this.state.cliente),t.push(this.state.atividade),t.push(this.state.total&&this.state.total.replaceAll(".","").replaceAll(",",".")==parseFloat(this.state.total.replaceAll(".","").replaceAll(",","."))),t.push(this.state.formulario),t.push(this.state.discriminacaoServico),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.loading&&m.a.createElement(he.a,null),this.state.redirect&&m.a.createElement(V.a,{to:"/"}),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,(!this.props.location||!this.props.location.state||!this.props.location.state.backTo)&&m.a.createElement(se.a,{voltarFaturas:!0,chave:this.state.chave,titulo:"Notas Fiscais de Servi\xe7o"}),this.props.location&&this.props.location.state&&this.props.location.state.backTo&&m.a.createElement(se.a,{voltarFaturasOS:!0,state:this.props.location.state,chave:this.state.chave,titulo:"Notas Fiscais de Servi\xe7o"}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.fatura,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),m.a.createElement("div",{className:"col-1"}),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Fatura N\xba")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.faturaNum,disabled:!0}))),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Emiss\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.emissao&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.emissao,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({emissao:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Vencimento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"date",value:this.state.vencimento,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({vencimento:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Cliente")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.cliente&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.pessoasOptions.filter((function(t){return e.filterSearch(t,e.state.pessoasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({pessoasOptionsTexto:t})},value:this.state.pessoasOptions.filter((function(t){return t.value==e.state.cliente}))[0],search:!0,onChange:function(t){e.setState({cliente:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Atividade")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.atividade&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement("select",{className:"form-control",value:this.state.atividade,onChange:function(t){e.setState({atividade:t.currentTarget.value})}},this.state.atividadesOptions.map((function(e){return m.a.createElement("option",{value:e.value},e.label)})))),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Discrimina\xe7\xe3o Servi\xe7o")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.discriminacaoServico&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control textareaFix",rows:"5",as:"textarea",value:this.state.discriminacaoServico,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({discriminacaoServico:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Obs")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.observacoes,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({observacoes:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tributada PIS/COFINS")),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement($.a,{type:"checkbox",name:"cliente",checked:this.state.tributada,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tributada:a.target.checked});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-1 col-1 labelForm"}),m.a.createElement("div",{className:0==this.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Total da Fatura")),m.a.createElement("div",{className:"col-1 errorMessage"},!this.state.total&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10"},m.a.createElement($.a,{className:"form-control",type:"text",value:this.state.total,onChange:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({total:a.currentTarget.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({total:Number(a.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(a.currentTarget.value.replaceAll(".","").replaceAll(",",".")):""});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!a,type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300},onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.salvarFatura(a);case 2:case"end":return t.stop()}}),t)})))},"Salvar")),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("button",{disabled:!a,style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300},onClick:Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.salvarFatura(a);case 2:return t.next=4,e.enviaNota();case 4:case"end":return t.stop()}}),t)})))},"Enviar")))))))),m.a.createElement(re.a,null)))}}]),a}(u.Component),Zn=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(Qn),er=(a(951),{chave:[0],data:N()().format("YYYY-MM-DD"),contaDebito:[0],contaCredito:[0],tipoDocto:"",centroControle:"",historicoPadrao:[""],historico:[""],pessoa:"",valor:[""],chavePr:"",usuarioInclusao:"",usuarioAlteracao:"",dataInclusao:N()().format("YYYY-MM-DD"),dataAlteracao:N()().format("YYYY-MM-DD"),lote:0,conciliado:"",atualizado:"",numeroContas:1,tipo:0,contasAbertoOptions:[],contasAbertoOptionsTexto:"",historicosOptions:[],historicosOptionsTexto:"",planoContasOptions:[],planoContasOptionsTexto:"",tipoDocumentosOptions:[],tipoDocumentosOptionsTexto:"",centrosCustosOptions:[],centrosCustosOptionsTexto:"",pessoasOptions:[],pessoasOptionsTexto:"",logs:[],modalLog:!1,dadosIniciais:"",dadosFinais:"",acessos:[],permissoes:[],acessosPermissoes:[],bloqueado:!1}),tr=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(W.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=Object(b.a)(Object(b.a)({},er),{},{usuarioLogado:e.props.user}),e.componentDidMount=Object(G.a)(z.a.mark((function t(){var a,o,n,r,s,c,l,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.next=3,e.props.match.params.id;case 3:if(a=t.sent,e.props.location&&e.props.location.state&&e.props.location.state.tipo&&e.setState({tipo:1}),1!=e.state.tipo||0===parseInt(a)){t.next=24;break}return e.setState({lote:a}),t.next=9,le.a.getBody("getLancamentosPorLote.php",{token:!0,lote:a});case 9:if(!(o=t.sent)[0]){t.next=22;break}return t.next=13,e.setState({numeroContas:o.length,data:o[0].Data,tipoDocto:o[0].TipoDocto,centroControle:o[0].CentroControle,usuarioInclusao:o[0].Usuario_Inclusao,usuarioAlteracao:o[0].Usuario_Alteracao,dataInclusao:o[0].Data_Inclusao,conciliado:o[0].Conciliado,atualizado:o[0].atualizado});case 13:return n=[],r=[],s=[],c=[],l=[],i=[],o.map((function(e){n.push(e.ContaDebito),r.push(e.ContaCredito),s.push(e.Valor?e.Valor.replaceAll(".",","):""),c.push(e.Historico_Padrao),l.push(e.Historico),i.push(e.Chave)})),t.next=22,e.setState({contaDebito:n,contaCredito:r,valor:s,historicoPadrao:c,historico:l,chave:i});case 22:t.next=31;break;case 24:if(0===parseInt(a)){t.next=31;break}return t.next=27,e.setState({chave:[a]});case 27:return t.next=29,e.setState({lancamento:e.props.location.state.lancamento});case 29:return t.next=31,e.setState({data:e.state.lancamento.Data,contaDebito:[e.state.lancamento.ContaDebito],contaCredito:[e.state.lancamento.ContaCredito],tipoDocto:e.state.lancamento.TipoDocto,centroControle:e.state.lancamento.CentroControle,historicoPadrao:[e.state.lancamento.Historico_Padrao],historico:[e.state.lancamento.Historico],valor:e.state.lancamento.Valor?[e.state.lancamento.Valor.replaceAll(".",",")]:[""],usuarioInclusao:e.state.lancamento.Usuario_Inclusao,usuarioAlteracao:e.state.lancamento.Usuario_Alteracao,dataInclusao:e.state.lancamento.Data_Inclusao,lote:e.state.lancamento.Lote,conciliado:e.state.lancamento.Conciliado,atualizado:e.state.lancamento.atualizado});case 31:return t.next=33,e.loadAll();case 33:0!=e.state.chave&&e.setState({dadosIniciais:[{titulo:"Data",valor:e.state.data},{titulo:"Conta D\xe9bito",valor:K.a.formatForLogs(e.state.contaDebito,"options","","",e.state.planoContasOptions)},{titulo:"Conta Cr\xe9dito",valor:K.a.formatForLogs(e.state.contaCredito,"options","","",e.state.planoContasOptions)},{titulo:"Tipo de Documento",valor:K.a.formatForLogs(e.state.tipoDocto,"options","","",e.state.tipoDocumentosOptions)},{titulo:"Centro de Custo",valor:K.a.formatForLogs(e.state.centroControle,"options","","",e.state.centrosCustosOptions)},{titulo:"Hist\xf3rico Padr\xe3o",valor:K.a.formatForLogs(e.state.historicoPadrao)},{titulo:"Hist\xf3rico",valor:K.a.formatForLogs(e.state.historico)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Usuario da Inclus\xe3o",valor:K.a.formatForLogs(e.state.usuarioInclusao)},{titulo:"Usuario da Altera\xe7\xe3o",valor:K.a.formatForLogs(e.state.usuarioAlteracao)},{titulo:"Data de Inclus\xe3o",valor:K.a.formatForLogs(e.state.dataInclusao,"date")},{titulo:"Data de Altera\xe7\xe3o",valor:K.a.formatForLogs(e.state.dataAlteracao,"date")},{titulo:"Lote",valor:K.a.formatForLogs(e.state.lote)},{titulo:"Conciliado",valor:K.a.formatForLogs(e.state.conciliado,"bool")},{titulo:"Atualizado",valor:K.a.formatForLogs(e.state.atualizado,"bool")}]}),e.state.acessosPermissoes.map((function(t){("LANCAMENTOS"==t.acessoAcao&&0==t.permissaoInsere&&0==e.state.chave||"LANCAMENTOS"==t.acessoAcao&&0==t.permissaoEdita&&0!=e.state.chave)&&e.setState({bloqueado:!0})}));case 35:case"end":return t.stop()}}),t)}))),e.loadAll=Object(G.a)(z.a.mark((function t(){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getBase("getContasAbertoOptions.php");case 3:return t.t1=t.sent,t.next=6,le.a.getBaseOptions("getPlanosContasAnaliticas.php","Descricao","Codigo_Red");case 6:return t.t2=t.sent,t.next=9,le.a.getBaseOptions("getHistoricos.php","Descricao","chave");case 9:return t.t3=t.sent,t.next=12,le.a.getBaseOptions("getTiposDocumento.php","descricao","chave");case 12:return t.t4=t.sent,t.next=15,le.a.getBaseOptions("getCentrosCustos.php","Descricao","Chave");case 15:return t.t5=t.sent,t.next=18,le.a.getBase("getTiposAcessos.php");case 18:return t.t6=t.sent,t.next=21,le.a.getBase("getPermissoes.php");case 21:return t.t7=t.sent,t.t8={contas:t.t1,planoContasOptions:t.t2,historicosOptions:t.t3,tipoDocumentosOptions:t.t4,centrosCustosOptions:t.t5,acessos:t.t6,permissoes:t.t7},t.next=25,t.t0.setState.call(t.t0,t.t8);case 25:return(a=e.state.planoContasOptions).unshift({label:"Select...",value:"0"}),t.t9=e,t.next=30,le.a.testaAcesso(e.state.acessos,e.state.permissoes,e.state.usuarioLogado);case 30:return t.t10=t.sent,t.t11=e.state.contas.map((function(e){return{value:e.Chave,label:e.Historico,valor:e.Valor,pessoa:e.Pessoa,tipo:e.Tipo,contaProvisao:e.Conta_Provisao?e.Conta_Provisao:"",contaDesconto:e.Conta_Desconto,centroCusto:e.Centro_Custo,tipoDocto:e.tipodocto}})),t.t12=a,t.t13={acessosPermissoes:t.t10,contasAbertoOptions:t.t11,planoContasOptions:t.t12,loading:!1},t.next=36,t.t9.setState.call(t.t9,t.t13);case 36:case"end":return t.stop()}}),t)}))),e.salvarLancamento=function(){var t=Object(G.a)(z.a.mark((function t(a){var o,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(Object(b.a)({},K.a.cleanStates(e.state))),e.setState({bloqueado:!0}),t.next=4,e.setState({dadosFinais:[{titulo:"Data",valor:e.state.data},{titulo:"Conta D\xe9bito",valor:K.a.formatForLogs(e.state.contaDebito,"options","","",e.state.planoContasOptions)},{titulo:"Conta Cr\xe9dito",valor:K.a.formatForLogs(e.state.contaCredito,"options","","",e.state.planoContasOptions)},{titulo:"Tipo de Documento",valor:K.a.formatForLogs(e.state.tipoDocto,"options","","",e.state.tipoDocumentosOptions)},{titulo:"Centro de Custo",valor:K.a.formatForLogs(e.state.centroControle,"options","","",e.state.centrosCustosOptions)},{titulo:"Hist\xf3rico Padr\xe3o",valor:K.a.formatForLogs(e.state.historicoPadrao)},{titulo:"Hist\xf3rico",valor:K.a.formatForLogs(e.state.historico)},{titulo:"Valor",valor:K.a.formatForLogs(e.state.valor,"money")},{titulo:"Usuario da Inclus\xe3o",valor:K.a.formatForLogs(e.state.usuarioInclusao)},{titulo:"Usuario da Altera\xe7\xe3o",valor:K.a.formatForLogs(e.state.usuarioAlteracao)},{titulo:"Data de Inclus\xe3o",valor:K.a.formatForLogs(e.state.dataInclusao,"date")},{titulo:"Data de Altera\xe7\xe3o",valor:K.a.formatForLogs(e.state.dataAlteracao,"date")},{titulo:"Lote",valor:K.a.formatForLogs(e.state.lote)},{titulo:"Conciliado",valor:K.a.formatForLogs(e.state.conciliado,"bool")},{titulo:"Atualizado",valor:K.a.formatForLogs(e.state.atualizado,"bool")}],loading:!0});case 4:o=z.a.mark((function t(o){var n,r,s,c,l,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.contaDebito[o],r=e.state.contaCredito[o],s=e.state.valor[o].replaceAll(".","").replaceAll(",","."),c=e.state.historicoPadrao[o],l=e.state.historico[o],i=e.state.chave[o],0!==parseInt(i)||!a){t.next=11;break}return t.next=9,ae.a.post("insertLancamento.php",{token:!0,values:"'".concat(e.state.data,"', '").concat(n,"', '").concat(r,"', '").concat(e.state.tipoDocto,"', '").concat(e.state.centroControle,"', '").concat(c,"', '").concat(l,"', '").concat(e.state.pessoa,"', '").concat(s,"', '").concat(e.state.chavePr,"', '").concat(e.state.usuarioLogado.chave,"', '").concat(e.state.usuarioLogado.chave,"', '").concat(e.state.dataInclusao,"', '").concat(e.state.dataAlteracao,"', '").concat(e.state.conciliado,"', '").concat(e.state.atualizado,"'"),lote:e.state.lote}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data[0].Chave){t.next=12;break}return e.setState({lote:a.data[0].Lote}),(n=e.state.chave)[o]=a.data[0].Chave,t.next=6,e.setState({chave:n});case 6:return t.next=8,le.a.salvaLogs("lancamentos",e.state.usuarioLogado.codigo,null,"Inclus\xe3o",a.data[0].chave);case 8:return t.next=10,e.setState({loading:!1,bloqueado:!1});case 10:t.next=12;break;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:t.next=14;break;case 11:if(!a){t.next=14;break}return t.next=14,ae.a.post("updateLancamento.php",{token:!0,Chave:i,Data:e.state.data,ContaDebito:n,ContaCredito:r,TipoDocto:e.state.tipoDocto,CentroControle:e.state.centroControle,Historico_Padrao:c,Historico:l,Pessoa:e.state.pessoa,Valor:s,ChavePr:e.state.chavePr,Usuario_Alteracao:e.state.usuarioLogado.chave,Data_Alteracao:N()().format("YYYY-MM-DD"),Conciliado:e.state.conciliado,atualizado:e.state.atualizado}).then(function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.data){t.next=7;break}return t.next=3,le.a.salvaLogs("lancamentos",e.state.usuarioLogado.codigo,e.state.dadosIniciais,e.state.dadosFinais,i,"LAN\xc7AMENTO: ".concat(e.state.descricao));case 3:return t.next=5,e.setState({loading:!1,bloqueado:!1});case 5:t.next=9;break;case 7:return t.next=9,alert("Erro ".concat(JSON.stringify(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Erro: ".concat(t.data));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})),n=0;case 6:if(!(n<e.state.numeroContas)){t.next=11;break}return t.delegateYield(o(n),"t0",8);case 8:n++,t.next=6;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidUpdate=function(t,a){a.numeroContas<e.state.numeroContas&&e.setState({contaDebito:[].concat(Object(O.a)(e.state.contaDebito),[0]),contaCredito:[].concat(Object(O.a)(e.state.contaCredito),[0]),chave:[].concat(Object(O.a)(e.state.chave),[0]),historico:[].concat(Object(O.a)(e.state.historico),[""]),historicoPadrao:[].concat(Object(O.a)(e.state.historicoPadrao),[""]),valor:[].concat(Object(O.a)(e.state.valor),[""])})},e.erroApi=function(){var t=Object(G.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({redirect:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterSearch=function(e,t){if(""==e)return!0;if(!e.label)return!1;var a=t.toUpperCase();return e.label.toUpperCase().includes(a)},e.openLogs=Object(G.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,le.a.getLogs("lancamentos",e.state.chave);case 3:return t.t1=t.sent,t.t2={logs:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.setState({modalLog:!0});case 9:case"end":return t.stop()}}),t)}))),e.verificarValores=function(){if(1==e.state.numeroContas&&0==e.state.valor[0])return!1;if(1==e.state.numeroContas)return!0;var t=0,a=0;return Object(O.a)(Array(e.state.numeroContas)).map((function(o,n){0!=e.state.contaDebito[n]&&0==e.state.contaCredito[n]?a+=parseFloat(e.state.valor[n].replaceAll(".","").replaceAll(",",".")):0!=e.state.contaCredito[n]&&0==e.state.contaDebito[n]&&(t+=parseFloat(e.state.valor[n].replaceAll(".","").replaceAll(",",".")))})),t==a},e}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=[];Object(O.a)(Array(this.state.numeroContas)).map((function(a,o){t.push(0!=e.state.chave[0]&&e.state.lote||1==e.state.numeroContas&&0!=e.state.contaDebito[o]&&e.state.contaCredito[o]||e.state.numeroContas>1&&0!=e.state.contaDebito[o]&&0==e.state.contaCredito[o]||e.state.numeroContas>1&&0==e.state.contaDebito[o]&&0!=e.state.contaCredito[o])})),t.push(this.verificarValores()),t.push(!this.state.bloqueado);var a=t.reduce((function(e,t){return e&&t}));return m.a.createElement("div",{className:"allContent"},this.state.redirect&&m.a.createElement(V.a,{to:"/"}),this.state.finalizaOperacao&&m.a.createElement(V.a,{to:{pathname:"/tabelas/lancamentos",state:{chave:this.state.chave}}}),m.a.createElement("section",null,m.a.createElement(se.a,{voltarLancamentos:!0,titulo:"Lancamentos",chave:0!=this.state.chave?this.state.chave:""})),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),0!=this.state.chave&&1==this.state.acessosPermissoes.filter((function(e){if("LOGS"==e.acessoAcao)return e})).map((function(e){return e.permissaoConsulta}))[0]&&m.a.createElement("div",{className:"logButton"},m.a.createElement("button",{onClick:function(){return e.openLogs()}},"Logs")),m.a.createElement(Dt.a,{closeModal:function(){e.setState({modalLog:!1})},logs:this.state.logs,nome:this.state.historico,chave:this.state.chave,modalAberto:this.state.modalLog}),m.a.createElement("div",{className:"contact-section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12"},m.a.createElement($.c,{initialValues:{name:""},onSubmit:function(){var t=Object(G.a)(z.a.mark((function t(o){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:e.salvarLancamento(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m.a.createElement($.b,{className:"contact-form",onBlur:function(){}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2"}),m.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-12 "},m.a.createElement("div",{className:"row addservicos"},0!=this.state.chave&&1==this.state.chave.length&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Chave")),0!=this.state.chave&&1==this.state.chave.length&&m.a.createElement("div",{className:"col-1"}),0!=this.state.chave&&1==this.state.chave.length&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.chave})),0!=this.state.chave&&1==this.state.chave.length&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 ",s:!0}),0!=this.state.lote&&m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel"},m.a.createElement("label",null,"Lote")),0!=this.state.lote&&m.a.createElement("div",{className:"col-1"}),0!=this.state.lote&&m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",style:{textAlign:"center",backgroundColor:"#dddddd"},type:"text",disabled:!0,value:this.state.lote})),0!=this.state.lote&&m.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-3 col-sm-1 col-1 "}),m.a.createElement("div",{className:"col-12 spaceBetween"},m.a.createElement("button",{type:"button",className:"addRemoveButton ".concat(1==this.state.numeroContas?"addRemoveButtonDisabled":""),disabled:1==this.state.numeroContas,onClick:function(){return 1!=e.state.numeroContas?e.setState({numeroContas:e.state.numeroContas-1}):{}}},"-"),m.a.createElement("button",{type:"button",className:"addRemoveButton",onClick:function(){return e.setState({numeroContas:e.state.numeroContas+1})}},"+")),m.a.createElement("div",null,m.a.createElement("hr",{style:{color:"#cfcfcf"}})),Object(O.a)(Array(this.state.numeroContas)).map((function(t,a){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:0==e.state.chave?"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm firstLabel":"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Debito")),m.a.createElement("div",{className:"col-1 errorMessage"},(e.state.numeroContas>1&&0==e.state.contaCredito[a]&&0==e.state.contaDebito[a]||1==e.state.numeroContas&&!e.state.contaDebito[a]||e.state.numeroContas>1&&0!=e.state.contaCredito[a]&&0!=e.state.contaDebito[a])&&m.a.createElement(ee.a,{title:e.state.numeroContas>1&&0!=e.state.contaCredito[a]&&0!=e.state.contaDebito[a]?"Insira apenas uma entre conta d\xe9bito ou cr\xe9dito":"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:e.state.planoContasOptions.filter((function(t){return e.filterSearch(t,e.state.planoContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planoContasOptionsTexto:t})},value:e.state.planoContasOptions.filter((function(t){return t.value==e.state.contaDebito[a]}))[0],search:!0,onChange:function(t){var o=e.state.contaDebito;o[a]=t.value,e.setState({contaDebito:o})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Conta Credito")),m.a.createElement("div",{className:"col-1 errorMessage"},(e.state.numeroContas>1&&0==e.state.contaCredito[a]&&0==e.state.contaDebito[a]||1==e.state.numeroContas&&!e.state.contaCredito[a]||e.state.numeroContas>1&&0!=e.state.contaCredito[a]&&0!=e.state.contaDebito[a])&&m.a.createElement(ee.a,{title:e.state.numeroContas>1&&0!=e.state.contaCredito[a]&&0!=e.state.contaDebito[a]?"Insira apenas uma entre conta d\xe9bito ou cr\xe9dito":"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:e.state.planoContasOptions.filter((function(t){return e.filterSearch(t,e.state.planoContasOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({planoContasOptionsTexto:t})},value:e.state.planoContasOptions.filter((function(t){return t.value==e.state.contaCredito[a]}))[0],search:!0,onChange:function(t){var o=e.state.contaCredito;o[a]=t.value,e.setState({contaCredito:o})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico Padr\xe3o")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:e.state.historicosOptions.filter((function(t){return e.filterSearch(t,e.state.historicosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({historicosOptionsTexto:t})},value:e.state.historicosOptions.filter((function(t){return t.label==e.state.historico[a]}))[0],search:!0,onChange:function(t){var o=e.state.historicoPadrao,n=e.state.historico;o[a]=t.value,n[a]=t.label,e.setState({historicoPadrao:o,historico:n})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Hist\xf3rico")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control",value:e.state.historico[a],onChange:function(t){var o=e.state.historico;o[a]=t.currentTarget.value,e.setState({historico:o})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Valor")),m.a.createElement("div",{className:"col-1 errorMessage"},!e.state.valor[a]&&m.a.createElement(ee.a,{title:"Preencha o campo",icon:ne.y})),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement($.a,{className:"form-control text-right",type:"text",value:e.state.valor[a],onClick:function(e){return e.target.select()},onChange:function(){var t=Object(G.a)(z.a.mark((function t(o){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.state.valor)[a]=o.currentTarget.value,e.setState({valor:n});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onBlur:function(){var t=Object(G.a)(z.a.mark((function t(o){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.state.valor)[a]=Number(o.currentTarget.value.replaceAll(".","").replaceAll(",","."))?new Intl.NumberFormat("pt-BR").format(o.currentTarget.value.replaceAll(".","").replaceAll(",",".")):"",e.setState({valor:n});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),a!=e.state.numeroContas-1&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)))})),m.a.createElement("div",null,m.a.createElement("hr",{style:{color:"#cfcfcf"}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Tipo de Documento")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.tipoDocumentosOptions.filter((function(t){return e.filterSearch(t,e.state.tipoDocumentosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({tipoDocumentosOptionsTexto:t})},value:this.state.tipoDocumentosOptions.filter((function(t){return t.value==e.state.tipoDocto}))[0],search:!0,onChange:function(t){e.setState({tipoDocto:t.value})}})),m.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12 labelForm"},m.a.createElement("label",null,"Centro de Custo")),m.a.createElement("div",{className:"col-1 errorMessage"}),m.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-10 col-10 "},m.a.createElement(pe.a,{className:"SearchSelect",options:this.state.centrosCustosOptions.filter((function(t){return e.filterSearch(t,e.state.centrosCustosOptionsTexto)})).slice(0,20),onInputChange:function(t){e.setState({centrosCustosOptionsTexto:t})},value:this.state.centrosCustosOptions.filter((function(t){return t.value==e.state.centroControle}))[0],search:!0,onChange:function(t){e.setState({centroControle:t.value})}})))),m.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 col-sm-1 col-1"})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-2"}),m.a.createElement("div",{className:"col-8",style:{display:"flex",justifyContent:"center"}},m.a.createElement("button",{disabled:!a,title:this.verificarValores()?"":"Valores de D\xe9bito n\xe3o s\xe3o iguais aos de Cr\xe9dito",type:"submit",style:a?{width:300}:{backgroundColor:"#eee",opacity:.3,width:300}},"Salvar")),m.a.createElement("div",{className:"col-2"}))))))),m.a.createElement(re.a,null))}}]),a}(u.Component),ar=Object(Q.b)((function(e){return{user:e.user,online:e.servidor.online}}),null)(tr);function or(){return m.a.createElement(Y.a,null,m.a.createElement(V.d,null,m.a.createElement(V.b,{path:"/",exact:!0,component:fe}),m.a.createElement(V.b,{path:"/anexos/:evento/:fornecedor",exact:!0,component:me}),m.a.createElement(V.b,{path:"/inicio",exact:!0,component:be}),m.a.createElement(V.b,{path:"/tabelas",exact:!0,component:Ne}),m.a.createElement(V.b,{path:"/ordensservico",exact:!0,component:we}),m.a.createElement(V.b,{path:"/utilitarios",exact:!0,component:Se}),m.a.createElement(V.b,{path:"/financeiro",exact:!0,component:ye}),m.a.createElement(V.b,{path:"/tabelas/navios",component:Me}),m.a.createElement(V.b,{path:"/tabelas/tiposservicos",component:qe}),m.a.createElement(V.b,{path:"/tabelas/subgrupos",component:We}),m.a.createElement(V.b,{path:"/tabelas/grupos",component:Ue}),m.a.createElement(V.b,{path:"/tabelas/moedas",component:Je}),m.a.createElement(V.b,{path:"/tabelas/taxas",component:Qe}),m.a.createElement(V.b,{path:"/tabelas/pessoas",component:tt}),m.a.createElement(V.b,{path:"/tabelas/pessoacontatos/:id",component:nt}),m.a.createElement(V.b,{path:"/tabelas/pessoaenderecos/:id",component:ct}),m.a.createElement(V.b,{path:"/tabelas/portos",component:ut}),m.a.createElement(V.b,{path:"/tabelas/centroscustos",component:dt}),m.a.createElement(V.b,{path:"/tabelas/planoscontas",component:ht}),m.a.createElement(V.b,{path:"/tabelas/historicospadrao",component:Et}),m.a.createElement(V.b,{path:"/tabelas/descricoespadrao",component:Ct}),m.a.createElement(V.b,{path:"/tabelas/tiposdocumentos",component:St}),m.a.createElement(V.b,{path:"/tabelas/contasportos",component:jt}),m.a.createElement(V.b,{path:"/tabelas/categoriasdocumentos",component:Tt}),m.a.createElement(V.b,{path:"/tabelas/addship/:id",component:It}),m.a.createElement(V.b,{path:"/tabelas/addtiposervico/:id",component:Bt}),m.a.createElement(V.b,{path:"/tabelas/addsubgrupo/:id",component:Xt}),m.a.createElement(V.b,{path:"/tabelas/addgrupo/:id",component:Vt}),m.a.createElement(V.b,{path:"/tabelas/addmoeda/:id",component:Kt}),m.a.createElement(V.b,{path:"/tabelas/addtaxa/:id",component:ta}),m.a.createElement(V.b,{path:"/tabelas/addpessoa/:id/",component:ca}),m.a.createElement(V.b,{path:"/tabelas/addpessoacontato/:id/:ed",component:ua}),m.a.createElement(V.b,{path:"/tabelas/addpessoaendereco/:id/:ed",component:fa}),m.a.createElement(V.b,{path:"/tabelas/addporto/:id",component:ba}),m.a.createElement(V.b,{path:"/tabelas/addcentrocusto/:id/",component:Ca}),m.a.createElement(V.b,{path:"/tabelas/addplanoconta/:id/",component:Sa}),m.a.createElement(V.b,{path:"/tabelas/addhistorico/:id/",component:ja}),m.a.createElement(V.b,{path:"/tabelas/adddescricao/:id/",component:Ta}),m.a.createElement(V.b,{path:"/tabelas/addtipodocumento/:id/",component:_a}),m.a.createElement(V.b,{path:"/tabelas/addcategoriadocumento/:id/",component:Ma}),m.a.createElement(V.b,{path:"/utilitarios/operadores",component:qa}),m.a.createElement(V.b,{path:"/utilitarios/permissoes",component:Ha}),m.a.createElement(V.b,{path:"/utilitarios/logs",component:$a}),m.a.createElement(V.b,{path:"/utilitarios/parametros",component:Za}),m.a.createElement(V.b,{path:"/utilitarios/eventostemplates",component:ao}),m.a.createElement(V.b,{path:"/utilitarios/grupostemplates",component:ro}),m.a.createElement(V.b,{path:"/utilitarios/addoperador/:id",component:lo}),m.a.createElement(V.b,{path:"/utilitarios/addeventotemplate/:id",component:mo}),m.a.createElement(V.b,{path:"/utilitarios/addgrupotemplate/:id",component:fo}),m.a.createElement(V.b,{path:"/ordensservico/os",component:bo}),m.a.createElement(V.b,{path:"/ordensservico/osOrcamento",component:No}),m.a.createElement(V.b,{path:"/ordensservico/eventos",component:Oo}),m.a.createElement(V.b,{path:"/ordensservico/relatorio",component:To}),m.a.createElement(V.b,{path:"/ordensservico/tarifas",component:_o}),m.a.createElement(V.b,{path:"/ordensservico/anexos",component:Mo}),m.a.createElement(V.b,{path:"/ordensservico/addos/:id/",component:Ro.a}),m.a.createElement(V.b,{path:"/ordensservico/addOsOrcamento/:id/",component:Bo.a}),m.a.createElement(V.b,{path:"/ordensservico/addevento/:id/",component:Vo}),m.a.createElement(V.b,{path:"/ordensservico/addeventoFinanceiro/:id/",component:Go}),m.a.createElement(V.b,{path:"/ordensservico/addtarifa/:id/",component:$o}),m.a.createElement(V.b,{path:"/ordensservico/addanexo/:id/",component:Zo}),m.a.createElement(V.b,{path:"/financeiro/pagamentoslote",component:an}),m.a.createElement(V.b,{path:"/financeiro/pagamentosmanual",component:sn}),m.a.createElement(V.b,{path:"/financeiro/contasabertas",component:un}),m.a.createElement(V.b,{path:"/financeiro/contasreceber",component:fn}),m.a.createElement(V.b,{path:"/financeiro/contaspagar",component:bn}),m.a.createElement(V.b,{path:"/financeiro/contasliquidadas",component:Nn}),m.a.createElement(V.b,{path:"/financeiro/contasrecebidas",component:On}),m.a.createElement(V.b,{path:"/financeiro/contaspagas",component:yn}),m.a.createElement(V.b,{path:"/financeiro/relatorio",component:_n}),m.a.createElement(V.b,{path:"/financeiro/faturas",component:qn}),m.a.createElement(V.b,{path:"/financeiro/lancamentos",component:zn}),m.a.createElement(V.b,{path:"/financeiro/exportarlancamentos",component:Hn}),m.a.createElement(V.b,{path:"/financeiro/addconta/:id/",component:$n}),m.a.createElement(V.b,{path:"/financeiro/addfatura/:id/",component:Zn}),m.a.createElement(V.b,{path:"/financeiro/addlancamento/:id/",component:ar})))}a(952),a(953),a(954),a(489),a(490);var nr=function(){return m.a.createElement("div",null,m.a.createElement(or,null))},rr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function sr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(956);var cr=a(364),lr=a.n(cr),ir=R,ur=function(){return m.a.createElement(Q.a,{store:ir},m.a.createElement(q.a,{loading:null,persistor:B},m.a.createElement(nr,null)))};lr()("body").on("keydown","input, select",(function(e){var t,a;if("Enter"===e.key)return(a=(t=lr()(this).parents("form:eq(0)").find("input,a,select,button").filter(":visible:not([readonly]):enabled")).eq(t.index(this)+1)).length&&a.focus(),!1})),d.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(ur,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");rr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):sr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):sr(t,e)}))}}()}},[[578,1,2]]]);
//# sourceMappingURL=main.6e54e787.chunk.js.map